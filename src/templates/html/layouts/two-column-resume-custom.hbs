<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{fullName}} - Resume</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ═══════════════════════════════════════════════════════════════
       SORIVA - DYNAMIC RESUME TEMPLATE (CUSTOM COLOR)
       User can provide any color - system generates palette
       ═══════════════════════════════════════════════════════════════ */
    
    :root {
      --sidebar-dark: {{colors.sidebarDark}};
      --sidebar-mid: {{colors.sidebarMid}};
      --sidebar-light: {{colors.sidebarLight}};
      --accent-primary: {{colors.accentPrimary}};
      --accent-secondary: {{colors.accentSecondary}};
      --accent-light: {{colors.accentLight}};
      --card-bg-start: {{colors.cardBgStart}};
      --card-bg-end: {{colors.cardBgEnd}};
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Poppins', sans-serif; background: #e8e8e8; color: #333; line-height: 1.6; padding: 30px; }
    .resume-container { width: 210mm; min-height: 297mm; margin: 0 auto; background: white; display: flex; box-shadow: 0 15px 80px rgba(0,0,0,0.2); border-radius: 2px; }

    /* SIDEBAR */
    .sidebar { width: 35%; background: linear-gradient(180deg, var(--sidebar-dark) 0%, var(--sidebar-mid) 50%, var(--sidebar-dark) 100%); color: white; padding: 35px 22px; position: relative; overflow: hidden; }
    .sidebar::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.04) 0%, transparent 70%); pointer-events: none; }

    .profile-section { text-align: center; margin-bottom: 28px; position: relative; z-index: 1; }
    .profile-image { width: 120px; height: 120px; border-radius: 50%; border: 4px solid rgba(255,255,255,0.25); margin: 0 auto 18px; background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%); display: flex; align-items: center; justify-content: center; font-size: 42px; font-weight: 700; color: white; text-transform: uppercase; box-shadow: 0 10px 30px rgba(0,0,0,0.3); overflow: hidden; }
    .profile-image img { width: 100%; height: 100%; object-fit: cover; }
    .profile-name { font-size: 20px; font-weight: 700; margin-bottom: 4px; letter-spacing: 0.5px; }
    .profile-title { font-size: 10px; font-weight: 400; color: rgba(255,255,255,0.75); text-transform: uppercase; letter-spacing: 2.5px; }

    .sidebar-section { margin-bottom: 22px; position: relative; z-index: 1; }
    .sidebar-title { font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 2.5px; margin-bottom: 14px; padding-bottom: 8px; border-bottom: 2px solid rgba(255,255,255,0.15); color: rgba(255,255,255,0.95); }

    .contact-item { display: flex; align-items: center; margin-bottom: 11px; font-size: 10px; }
    .contact-icon { width: 28px; height: 28px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 10px; font-size: 11px; flex-shrink: 0; }
    .contact-text { color: rgba(255,255,255,0.9); word-break: break-word; }

    .skill-item { margin-bottom: 11px; }
    .skill-name { font-size: 10px; margin-bottom: 4px; display: flex; justify-content: space-between; color: rgba(255,255,255,0.9); }
    .skill-bar { height: 5px; background: rgba(255,255,255,0.12); border-radius: 3px; overflow: hidden; }
    .skill-progress { height: 100%; background: linear-gradient(90deg, var(--accent-primary) 0%, var(--accent-light) 100%); border-radius: 3px; }

    .skill-tags { display: flex; flex-wrap: wrap; gap: 5px; }
    .skill-tag { background: rgba(255,255,255,0.1); padding: 4px 9px; border-radius: 12px; font-size: 9px; color: rgba(255,255,255,0.9); border: 1px solid rgba(255,255,255,0.12); }

    .language-item { display: flex; align-items: center; justify-content: space-between; margin-bottom: 9px; font-size: 10px; }
    .language-dots { display: flex; gap: 3px; }
    .language-dot { width: 8px; height: 8px; border-radius: 50%; background: rgba(255,255,255,0.2); }
    .language-dot.filled { background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-light) 100%); }

    /* MAIN CONTENT */
    .main-content { width: 65%; padding: 35px 30px; background: white; }
    .section { margin-bottom: 22px; }
    .section-title { font-size: 12px; font-weight: 700; color: var(--sidebar-dark); text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 14px; padding-bottom: 6px; border-bottom: 2px solid var(--sidebar-dark); display: flex; align-items: center; gap: 8px; }
    .section-icon { width: 24px; height: 24px; background: linear-gradient(135deg, var(--sidebar-dark) 0%, var(--sidebar-light) 100%); border-radius: 5px; display: flex; align-items: center; justify-content: center; color: white; font-size: 10px; }

    .objective-text { font-size: 11px; color: #555; line-height: 1.7; text-align: justify; }

    .timeline-item { position: relative; padding-left: 18px; padding-bottom: 16px; border-left: 2px solid #e0e0e0; }
    .timeline-item:last-child { border-left: 2px solid transparent; padding-bottom: 0; }
    .timeline-item::before { content: ''; position: absolute; left: -5px; top: 4px; width: 8px; height: 8px; background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%); border-radius: 50%; border: 2px solid white; box-shadow: 0 0 0 2px var(--accent-primary); }
    .timeline-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 3px; flex-wrap: wrap; gap: 5px; }
    .timeline-title { font-size: 12px; font-weight: 600; color: var(--sidebar-dark); }
    .timeline-date { font-size: 9px; color: white; background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%); padding: 2px 8px; border-radius: 10px; font-weight: 500; }
    .timeline-subtitle { font-size: 10px; color: #666; margin-bottom: 4px; font-weight: 500; }
    .timeline-score { display: inline-block; background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%); color: #155724; padding: 2px 8px; border-radius: 4px; font-size: 9px; font-weight: 600; margin-top: 2px; }
    .timeline-description { font-size: 10px; color: #666; line-height: 1.6; }

    .project-card { background: linear-gradient(135deg, var(--card-bg-start) 0%, var(--card-bg-end) 100%); border-radius: 8px; padding: 12px 14px; margin-bottom: 10px; border-left: 3px solid var(--accent-primary); }
    .project-title { font-size: 11px; font-weight: 600; color: var(--sidebar-dark); margin-bottom: 4px; }
    .project-description { font-size: 10px; color: #666; margin-bottom: 8px; line-height: 1.5; }
    .project-tech { display: flex; flex-wrap: wrap; gap: 4px; }
    .tech-tag { background: white; color: var(--accent-primary); padding: 2px 7px; border-radius: 3px; font-size: 8px; font-weight: 600; border: 1px solid var(--accent-primary); }

    .achievement-item { display: flex; align-items: flex-start; margin-bottom: 8px; font-size: 10px; color: #555; }
    .achievement-icon { color: #f59e0b; margin-right: 8px; font-size: 10px; margin-top: 2px; }
    .cert-icon { color: #10b981; margin-right: 8px; font-size: 10px; margin-top: 2px; }

    @media print { body { background: white; padding: 0; } .resume-container { box-shadow: none; margin: 0; border-radius: 0; } }
    @page { size: A4; margin: 0; }
  </style>
</head>
<body>
  <div class="resume-container">
    <!-- LEFT SIDEBAR -->
    <aside class="sidebar">
      <!-- Profile Section -->
      <div class="profile-section">
        <div class="profile-image">
          {{#if hasPhoto}}
            <img src="{{profilePhoto}}" alt="{{fullName}}">
          {{else}}
            {{initials}}
          {{/if}}
        </div>
        <h1 class="profile-name">{{fullName}}</h1>
        {{#if jobTitle}}<p class="profile-title">{{jobTitle}}</p>{{/if}}
      </div>

      <!-- Contact Section -->
      <div class="sidebar-section">
        <h2 class="sidebar-title">Contact</h2>
        <div class="contact-item">
          <div class="contact-icon"><i class="fas fa-envelope"></i></div>
          <span class="contact-text">{{email}}</span>
        </div>
        <div class="contact-item">
          <div class="contact-icon"><i class="fas fa-phone"></i></div>
          <span class="contact-text">{{phone}}</span>
        </div>
        <div class="contact-item">
          <div class="contact-icon"><i class="fas fa-map-marker-alt"></i></div>
          <span class="contact-text">{{location}}</span>
        </div>
        {{#if hasLinkedin}}
        <div class="contact-item">
          <div class="contact-icon"><i class="fab fa-linkedin-in"></i></div>
          <span class="contact-text">{{linkedin}}</span>
        </div>
        {{/if}}
        {{#if hasGithub}}
        <div class="contact-item">
          <div class="contact-icon"><i class="fab fa-github"></i></div>
          <span class="contact-text">{{github}}</span>
        </div>
        {{/if}}
        {{#if hasPortfolio}}
        <div class="contact-item">
          <div class="contact-icon"><i class="fas fa-globe"></i></div>
          <span class="contact-text">{{portfolio}}</span>
        </div>
        {{/if}}
      </div>

      <!-- Skills with Progress Bars -->
      {{#if hasSkills}}
      <div class="sidebar-section">
        <h2 class="sidebar-title">Core Skills</h2>
        {{#each technicalSkills}}
        <div class="skill-item">
          <div class="skill-name">
            <span>{{this.name}}</span>
            {{#if this.level}}<span>{{this.level}}%</span>{{/if}}
          </div>
          {{#if this.level}}
          <div class="skill-bar">
            <div class="skill-progress" style="width: {{this.level}}%"></div>
          </div>
          {{/if}}
        </div>
        {{/each}}
      </div>
      {{/if}}

      <!-- Skill Tags (without levels) -->
      {{#if softSkills.length}}
      <div class="sidebar-section">
        <h2 class="sidebar-title">Technologies</h2>
        <div class="skill-tags">
          {{#each softSkills}}
          <span class="skill-tag">{{this.name}}</span>
          {{/each}}
        </div>
      </div>
      {{/if}}

      <!-- Languages Section -->
      {{#if hasLanguages}}
      <div class="sidebar-section">
        <h2 class="sidebar-title">Languages</h2>
        {{#each languages}}
        <div class="language-item">
          <span>{{this.name}}</span>
          <div class="language-dots">
            <span class="language-dot {{#if (gte (proficiencyNum this.proficiency) 1)}}filled{{/if}}"></span>
            <span class="language-dot {{#if (gte (proficiencyNum this.proficiency) 2)}}filled{{/if}}"></span>
            <span class="language-dot {{#if (gte (proficiencyNum this.proficiency) 3)}}filled{{/if}}"></span>
            <span class="language-dot {{#if (gte (proficiencyNum this.proficiency) 4)}}filled{{/if}}"></span>
            <span class="language-dot {{#if (gte (proficiencyNum this.proficiency) 5)}}filled{{/if}}"></span>
          </div>
        </div>
        {{/each}}
      </div>
      {{/if}}

      <!-- Interests -->
      {{#if hasInterests}}
      <div class="sidebar-section">
        <h2 class="sidebar-title">Interests</h2>
        <div class="skill-tags">
          {{#each interests}}
          <span class="skill-tag">{{#if this.icon}}{{this.icon}} {{/if}}{{this.name}}</span>
          {{/each}}
        </div>
      </div>
      {{/if}}
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main-content">
      
      <!-- Career Objective -->
      {{#if hasObjective}}
      <section class="section">
        <h2 class="section-title">
          <span class="section-icon"><i class="fas fa-bullseye"></i></span>
          Career Objective
        </h2>
        <p class="objective-text">{{objective}}</p>
      </section>
      {{/if}}

      <!-- Education Section -->
      {{#if hasEducation}}
      <section class="section">
        <h2 class="section-title">
          <span class="section-icon"><i class="fas fa-graduation-cap"></i></span>
          Education
        </h2>
        {{#each education}}
        <div class="timeline-item">
          <div class="timeline-header">
            <span class="timeline-title">{{this.degree}}{{#if this.field}} in {{this.field}}{{/if}}</span>
            <span class="timeline-date">{{#if this.startYear}}{{this.startYear}} - {{/if}}{{this.endYear}}</span>
          </div>
          <p class="timeline-subtitle">{{this.institution}}{{#if this.location}}, {{this.location}}{{/if}}</p>
          {{#if this.score}}<span class="timeline-score">{{this.score}}</span>{{/if}}
        </div>
        {{/each}}
      </section>
      {{/if}}

      <!-- Experience Section -->
      {{#if hasExperience}}
      <section class="section">
        <h2 class="section-title">
          <span class="section-icon"><i class="fas fa-briefcase"></i></span>
          Experience
        </h2>
        {{#each experience}}
        <div class="timeline-item">
          <div class="timeline-header">
            <span class="timeline-title">{{this.role}}</span>
            <span class="timeline-date">{{this.startDate}} - {{this.endDate}}</span>
          </div>
          <p class="timeline-subtitle">{{this.company}}{{#if this.location}}, {{this.location}}{{/if}}</p>
          {{#if this.description}}<p class="timeline-description">{{this.description}}</p>{{/if}}
        </div>
        {{/each}}
      </section>
      {{/if}}

      <!-- Projects Section -->
      {{#if hasProjects}}
      <section class="section">
        <h2 class="section-title">
          <span class="section-icon"><i class="fas fa-code"></i></span>
          Projects
        </h2>
        {{#each projects}}
        <div class="project-card">
          <h3 class="project-title">{{this.name}}</h3>
          <p class="project-description">{{this.description}}</p>
          {{#if this.technologies}}
          <div class="project-tech">
            {{#each this.technologies}}
            <span class="tech-tag">{{this}}</span>
            {{/each}}
          </div>
          {{/if}}
        </div>
        {{/each}}
      </section>
      {{/if}}

      <!-- Certifications Section -->
      {{#if hasCertifications}}
      <section class="section">
        <h2 class="section-title">
          <span class="section-icon"><i class="fas fa-certificate"></i></span>
          Certifications
        </h2>
        {{#each certifications}}
        <div class="achievement-item">
          <i class="fas fa-check-circle cert-icon"></i>
          <span>{{this.name}}{{#if this.issuer}} - {{this.issuer}}{{/if}}</span>
        </div>
        {{/each}}
      </section>
      {{/if}}

      <!-- Achievements Section -->
      {{#if hasAchievements}}
      <section class="section">
        <h2 class="section-title">
          <span class="section-icon"><i class="fas fa-trophy"></i></span>
          Achievements
        </h2>
        {{#each achievements}}
        <div class="achievement-item">
          <i class="fas fa-star achievement-icon"></i>
          <span>{{this.title}}{{#if this.description}} - {{this.description}}{{/if}}</span>
        </div>
        {{/each}}
      </section>
      {{/if}}

    </main>
  </div>
</body>
</html>
