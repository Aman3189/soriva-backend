const _0x4f0eeb=_0x3e10;(function(_0x3c1569,_0x2c4f93){const _0x8ba836=_0x3e10,_0x438b26=_0x3c1569();while(!![]){try{const _0x28d6fe=-parseInt(_0x8ba836(0x13a))/0x1+-parseInt(_0x8ba836(0xc5))/0x2*(parseInt(_0x8ba836(0x153))/0x3)+-parseInt(_0x8ba836(0x113))/0x4*(-parseInt(_0x8ba836(0x99))/0x5)+parseInt(_0x8ba836(0x12a))/0x6+-parseInt(_0x8ba836(0xf3))/0x7*(-parseInt(_0x8ba836(0x121))/0x8)+parseInt(_0x8ba836(0x122))/0x9*(-parseInt(_0x8ba836(0x10e))/0xa)+-parseInt(_0x8ba836(0x161))/0xb*(-parseInt(_0x8ba836(0xf0))/0xc);if(_0x28d6fe===_0x2c4f93)break;else _0x438b26['push'](_0x438b26['shift']());}catch(_0x3b4ece){_0x438b26['push'](_0x438b26['shift']());}}}(_0x4773,0x8a740));const _0x5ea84a=(function(){let _0x307c25=!![];return function(_0x5c8ceb,_0x8348f3){const _0x56448f=_0x307c25?function(){const _0x4f8c14=_0x3e10;if(_0x8348f3){const res=_0x8348f3[_0x4f8c14(0xb3)](_0x5c8ceb,arguments);return _0x8348f3=null,res;}}:function(){};return _0x307c25=![],_0x56448f;};}()),_0x170d23=_0x5ea84a(this,function(){const _0x4679e6=_0x3e10,_0x3a8a5f={'UcVln':_0x4679e6(0x101)+_0x4679e6(0x166)};return _0x170d23['toString']()[_0x4679e6(0xa6)](_0x3a8a5f[_0x4679e6(0xd0)])[_0x4679e6(0xbc)]()[_0x4679e6(0xd2)+_0x4679e6(0x11f)](_0x170d23)[_0x4679e6(0xa6)](_0x4679e6(0x101)+_0x4679e6(0x166));});_0x170d23();'use strict';function _0x4773(){const _0x5c1d47=['DfzgzgW','vgv4Da','z0XWtKi','Chr5u3rHDhm','CMvKvgv4Da','Dg9Rzw5fC3q','yxbWBhK','C2vSzwn0u2u','yNvSBgv0','BwfYDfnLy3q','r0DSs2e','txzOD3C','B25mzw5NDgG','BwLU','B3bLCNr5','Dg9tDhjPBMC','A0fICNO','te1RDvm','AxnoDw1Izxi','zw52','vfvcve4','Aw5ZDgfUy2u','yNvSBgv0x2W','q0n1EwS','mLPmuvftCa','BwLYENC','zxjYB3i','y3jLyxrLrw0','AxncDwXSzxq','BMzPzW','AxnrDw90zq','Aw5JBhvKzum','wuPit0S','BwvZC2fNzq','ywrPBMC','vwnwBg4','qvjNzu8','y29UC3rYDwm','C29Tzq','C2ziDfK','CgrzBNO','zxH0CMfJDfm','Bwf4vg9Rzw4','B3jPz2LUywW','u01buLrFu0u','zgvMAw5Luhi','y29UzMLN','igzHAwXLza','y29Uy2X1C2K','zM9YrwfJAa','C29YDa','odaWma','AM9PBG','Cu1VswC','A2XADNy','sKHfALm','Axn0','DgfIBgu','A1rPveu','DxrPBhmVBg8','DhjPBq','DgHPBKj1zgC','zvbHCMfNCMe','zwrmAxn0','t1bpvxK','ywXtzwn0Aw8','s2v5ifbVAw4','mJq2nZKZmMDxD0zNCa','Aw50CM8','ignVBxbSzxq','odeYvxbVtu9e','ve1qD0e','z2v0rMLSDgu','CM91BMq','tKHLBvK','C3rHCNrjBMq','rNPiuge','zgv0zwn0u2u','t2TVteq','DhjHy3rPB24','CMvKDwnL','x19LC01Vzhu','ChjPB3jPDhK','B2nR','kcGOlISPkYK','AgvHzgLUzW','BM93','rgvMAw5PDgK','yKrrAuO','sw50CM9KDwm','Aw5KzxHpzG','tgLZDa','D0zHA2G','zgv0zwn0sgu','vg9Rzw5Z','r0Ltvvm','Bwf0y2G','mZq5ntmWEKXmqNrZ','AxnuywjSzq','BwfW','y3rPB25Zv2K','ugnbDuW','ngz4yuXWqG','CgHqCMLVCMK','vw5RBM93BIa','DhLWzq','y291BNrxB3i','uLDxr2G','s3jiD04','C3vIC3rYAw4','DgLVBG','z2v0sw5ZDge','BMLRvgi','CMvKDwn0Aw8','Dg9Y','Bwf4u2vJDgK','nZm0odHSDw5PBK0','mtGWy1vquKPS','z2v0rgvMyxu','vfDsu0W','AxnuAxrSzum','AfnXufm','zvn0yxrZ','AxnlzxLqB2K','Afn3Cha','odi4mZyWtNLZzxz1','ExbLCW','vvjgtKy','BNvTyMvYzwq','Aw9YAxr5rM8','re9Mqw8','Bwf4t3v0Chu','C2nVCMvtzwm','AMXXrwG','BwXZy2e','x2XPC3q','rhfWquK','BfPAwKS','DfLRAui','y2vPBa','rhzKBLG','nJi1odmWvfPgr21K','Aw1HDgu','CK9WzxjHDgK','BwLUu2vJDgK','yxvjz2m','DgLVBNm','CLbQrMe','vgfIBgu','rgTnsNy','DgvYzwruzxG','zvvLvuy','DgLVBLnLCNy','zgvMAw5PDgK','u21HCNqGC2u','AwnL','DgvZDa','C21HCNrtzwm','zxn0Aw1HDgu','BLr5Cgu','yNvPBgrgAwW','tvnXBfy','DvnkBfi','Dg9vChbLCKm','C09dwue','AxnezwzPBMK','mJGXmte0n2v6ueTfua','tNvTCxC','tgLWDNi','tefAq0K','DxbKyxrLq28','zMLSDgvY','ywrfBgO','zMLSDgvYzwq','q1rjt05Ftue','Aw5MBW','BMnL','DfrVA2vUCW','BfnLy3rPB24','y2fSy3vSyxq','nJzjwxnKBuy','C3bSAxq','BgvUz3rO','wf9ut0TftLm','y29Kzv9IBg8','kYKRja','ChvZAa','yKrRDfu','Aw5JBhvKzvq','DK9Jt2S','zxHJBhvKzvq','y3rPB25uExa','vgHYzxnOB2W','B3bLCMf0Aw8','BhruB2TLBNm','B25JBhvZAw8','A2v5x3bVAw4','CxvVDgu','y29UDgvUDa','zMjXywy','mtK1nZiWnxr3zLfpwa','Aw9UCW','q29Uy2X1C2K','C3vIAgvHzgK','y1jntK0','wNjJyMC','q29Kzq','BLbLCMnLBNq','wvnPA1q','yxnL','tNHxuwS','qKzSwMe','ywrQDxn0uhi','C2vHCMnO','zgv0zwn0qwW','Bg9Nz2vY','sw5JBhvKzwq','y3rPB24GzxG','rM9Yt3bLCMe','AxndB2rLqMW'];_0x4773=function(){return _0x5c1d47;};return _0x4773();}Object[_0x4f0eeb(0xda)+_0x4f0eeb(0xbb)](exports,_0x4f0eeb(0xfe)+'le',{'value':!![]}),exports['smartSec'+_0x4f0eeb(0x145)+_0x4f0eeb(0x148)]=void 0x0;function _0x3e10(_0x25edeb,_0x3268ff){_0x25edeb=_0x25edeb-0x93;const _0x316451=_0x4773();let _0x170d23=_0x316451[_0x25edeb];if(_0x3e10['hnLmDT']===undefined){var _0x5ea84a=function(_0x590ccb){const _0x425031='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x126341='',_0x3674f8='',_0x26d1f0=_0x126341+_0x5ea84a;for(let _0x29649e=0x0,_0x2ea82a,_0x57d51b,_0x10f747=0x0;_0x57d51b=_0x590ccb['charAt'](_0x10f747++);~_0x57d51b&&(_0x2ea82a=_0x29649e%0x4?_0x2ea82a*0x40+_0x57d51b:_0x57d51b,_0x29649e++%0x4)?_0x126341+=_0x26d1f0['charCodeAt'](_0x10f747+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x2ea82a>>(-0x2*_0x29649e&0x6)):_0x29649e:0x0){_0x57d51b=_0x425031['indexOf'](_0x57d51b);}for(let _0x28e453=0x0,_0x176467=_0x126341['length'];_0x28e453<_0x176467;_0x28e453++){_0x3674f8+='%'+('00'+_0x126341['charCodeAt'](_0x28e453)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3674f8);};_0x3e10['sziztL']=_0x5ea84a,_0x3e10['KDulNF']={},_0x3e10['hnLmDT']=!![];}const _0x47731e=_0x316451[0x0],_0x3e10be=_0x25edeb+_0x47731e,_0x320fbd=_0x3e10['KDulNF'][_0x3e10be];if(!_0x320fbd){const _0x43a4f8=function(_0xb9292a){this['fPPlXs']=_0xb9292a,this['HouNGh']=[0x1,0x0,0x0],this['eyZucw']=function(){return'newState';},this['IoECZZ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ESTufN']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x43a4f8['prototype']['TXHxwS']=function(){const _0x5cad64=new RegExp(this['IoECZZ']+this['ESTufN']),_0x597751=_0x5cad64['test'](this['eyZucw']['toString']())?--this['HouNGh'][0x1]:--this['HouNGh'][0x0];return this['RkyNZT'](_0x597751);},_0x43a4f8['prototype']['RkyNZT']=function(_0x171ed6){if(!Boolean(~_0x171ed6))return _0x171ed6;return this['nRhWpD'](this['fPPlXs']);},_0x43a4f8['prototype']['nRhWpD']=function(_0x4e9d8e){for(let _0x1c032f=0x0,_0x596ad4=this['HouNGh']['length'];_0x1c032f<_0x596ad4;_0x1c032f++){this['HouNGh']['push'](Math['round'](Math['random']())),_0x596ad4=this['HouNGh']['length'];}return _0x4e9d8e(this['HouNGh'][0x0]);},new _0x43a4f8(_0x3e10)['TXHxwS'](),_0x170d23=_0x3e10['sziztL'](_0x170d23),_0x3e10['KDulNF'][_0x3e10be]=_0x170d23;}else _0x170d23=_0x320fbd;return _0x170d23;}const logger_1=require('@shared/'+_0x4f0eeb(0xe8)+'gger'),DEFAULT_CONFIG={'maxOutputTokens':parseInt(process[_0x4f0eeb(0xc0)][_0x4f0eeb(0xd9)+_0x4f0eeb(0x15b)+_0x4f0eeb(0x164)]||_0x4f0eeb(0xe0)),'targetReductionPercent':0x46,'minSectionLength':0x32,'maxSectionLength':0x7d0,'includeIntro':!![],'includeConclusion':!![],'prioritizeHeadings':!![]};class SmartSectionService{constructor(){const _0x51c902=_0x4f0eeb;this[_0x51c902(0xdb)]=DEFAULT_CONFIG;}static[_0x4f0eeb(0x11c)+_0x4f0eeb(0x15d)](){const _0x4ea914=_0x4f0eeb,_0x46ff57={'jZXej':function(_0x25de78,_0x461657){return _0x25de78!==_0x461657;},'adElj':_0x4ea914(0xbe)};if(!SmartSectionService['instance']){if(_0x46ff57['jZXej'](_0x46ff57[_0x4ea914(0x159)],_0x46ff57['adElj'])){const res=_0x16955a[_0x4ea914(0xb3)](_0x1e2b2d,arguments);return _0x555b51=null,res;}else SmartSectionService[_0x4ea914(0xc2)]=new SmartSectionService();}return SmartSectionService['instance'];}async['extractS'+_0x4f0eeb(0xb6)+_0x4f0eeb(0x9a)](_0x300819,_0x20b2f4={}){const _0x1a6cac=_0x4f0eeb,_0x593997={'DkMJv':function(_0x4f4459,_0x2b9d1b){return _0x4f4459!==_0x2b9d1b;},'cLleK':_0x1a6cac(0x137),'DvdnX':_0x1a6cac(0x147)+_0x1a6cac(0xaa)+'traction'+_0x1a6cac(0xf2)+'ed','dHuNg':function(_0x10335a,_0xcbb04b){return _0x10335a-_0xcbb04b;},'mzMAV':function(_0x51fbce,_0x102895){return _0x51fbce instanceof _0x102895;},'Mvhww':_0x1a6cac(0x115)+'error','FzHPa':'Smart\x20se'+_0x1a6cac(0xaa)+_0x1a6cac(0xfc)+_0x1a6cac(0xdc),'PcAuL':function(_0x5385cf,_0x53df39){return _0x5385cf*_0x53df39;}};try{if(_0x593997[_0x1a6cac(0x142)](_0x1a6cac(0x137),_0x593997['cLleK']))return[/\b(?:important|key|critical|essential|significant|notable|crucial)\b/i,/\b(?:conclusion|summary|result|finding|recommendation|takeaway)\b/i,/\b(?:note|warning|caution|attention|tip|hint)\b/i,/^(?:Note:|Important:|Key:|Summary:|Conclusion:|Result:)/i]['some'](_0xf78da4=>_0xf78da4[_0x1a6cac(0x149)](_0x357a43));else{const _0x1bb69b=Date[_0x1a6cac(0x103)](),_0x3f56c5=this[_0x1a6cac(0xa7)+_0x1a6cac(0x15f)+'s'](_0x300819),_0x454632=this[_0x1a6cac(0x131)+_0x1a6cac(0x13f)](_0x3f56c5,_0x20b2f4),_0x25b96b=_0x20b2f4[_0x1a6cac(0xd7)+'s']||this[_0x1a6cac(0xdb)]['maxOutpu'+_0x1a6cac(0x15e)],_0x46cf67=this[_0x1a6cac(0xb4)+'ctionsWi'+_0x1a6cac(0xea)+'et'](_0x454632,_0x25b96b),_0x4a9ea5=this['buildFil'+_0x1a6cac(0x143)+'t'](_0x46cf67),_0x5cf193=this[_0x1a6cac(0x160)+_0x1a6cac(0x127)](_0x300819,_0x4a9ea5,_0x3f56c5,_0x46cf67);return logger_1['logger'][_0x1a6cac(0x15c)](_0x593997[_0x1a6cac(0x139)],{'originalTokens':_0x5cf193[_0x1a6cac(0xd8)+_0x1a6cac(0x10b)],'filteredTokens':_0x5cf193[_0x1a6cac(0x15a)+_0x1a6cac(0x10b)],'reductionPercent':_0x5cf193[_0x1a6cac(0x11e)+_0x1a6cac(0xa0)],'sectionsIncluded':_0x5cf193['sections'+_0x1a6cac(0xa9)],'processingTime':_0x593997['dHuNg'](Date['now'](),_0x1bb69b)}),{'success':!![],'originalText':_0x300819,'filteredText':_0x4a9ea5,'sections':_0x46cf67,'stats':_0x5cf193};}}catch(_0x2e9cf0){const _0x50aae0=_0x593997['mzMAV'](_0x2e9cf0,Error)?_0x2e9cf0[_0x1a6cac(0xce)]:_0x593997[_0x1a6cac(0xb8)];return logger_1['logger']['error'](_0x593997[_0x1a6cac(0xf9)],{'error':_0x50aae0}),{'success':![],'originalText':_0x300819,'filteredText':_0x300819[_0x1a6cac(0x11a)+'g'](0x0,_0x593997[_0x1a6cac(0x112)](this[_0x1a6cac(0xdb)]['maxOutpu'+_0x1a6cac(0x15e)],0x4)),'sections':[],'stats':this[_0x1a6cac(0xc8)+_0x1a6cac(0xb0)](_0x300819),'error':_0x50aae0};}}async[_0x4f0eeb(0xf5)+_0x4f0eeb(0xb1)](_0x1b85b5,_0x1264f2){const _0x213347=_0x4f0eeb,_0x890760=await this['extractS'+_0x213347(0xb6)+'ions'](_0x1b85b5,{'maxTokens':_0x1264f2});return _0x890760[_0x213347(0x15a)+_0x213347(0xae)];}[_0x4f0eeb(0xa7)+_0x4f0eeb(0x15f)+'s'](_0x46c914){const _0x449e8d=_0x4f0eeb,_0x4e9567=[];let _0x15920e=0x0;const _0x366c19=_0x46c914['split'](/\n\n+/);return _0x366c19[_0x449e8d(0xde)]((_0x5c3c35,_0x21a3ca)=>{const _0x4f9e8e=_0x449e8d,_0x20703e=_0x5c3c35['trim']();if(!_0x20703e||_0x20703e[_0x4f9e8e(0x163)]<this[_0x4f9e8e(0xdb)][_0x4f9e8e(0x13d)+_0x4f9e8e(0xb9)])return;const _0x400b34=this[_0x4f9e8e(0xfa)+_0x4f9e8e(0x16c)+'e'](_0x20703e,_0x21a3ca,_0x366c19[_0x4f9e8e(0x163)]),_0x2b12ba=_0x46c914[_0x4f9e8e(0x107)](_0x20703e),_0x5cb2c0=_0x2b12ba+_0x20703e[_0x4f9e8e(0x163)];_0x4e9567['push']({'id':'section_'+_0x15920e++,'type':_0x400b34[_0x4f9e8e(0x116)],'content':_0x20703e[_0x4f9e8e(0x11a)+'g'](0x0,this['config'][_0x4f9e8e(0x120)+_0x4f9e8e(0xb9)]),'startIndex':_0x2b12ba,'endIndex':_0x5cb2c0,'priority':_0x400b34['priority'],'wordCount':this[_0x4f9e8e(0x117)+'ds'](_0x20703e),'tokenEstimate':this['estimate'+'Tokens'](_0x20703e),'metadata':_0x400b34['metadata']});}),_0x4e9567;}['detectSe'+_0x4f0eeb(0x16c)+'e'](_0x242ba9,_0x431417,_0x5bfcb9){const _0x5d2a60=_0x4f0eeb,_0x17a18b={'LAZCI':function(_0x3f6ad6,_0x2cf90a){return _0x3f6ad6-_0x2cf90a;},'jlqEh':function(_0x3fff11,_0x45f730){return _0x3fff11 instanceof _0x45f730;},'uSJlR':'Unknown\x20'+_0x5d2a60(0xc7),'OkoLD':_0x5d2a60(0xe6),'xeArN':function(_0x196185,_0x289c88){return _0x196185+_0x289c88;},'TMPwA':_0x5d2a60(0xc3)+'ist','BFlZa':_0x5d2a60(0x12d),'qMoIg':_0x5d2a60(0x95)+'t','gLpNB':_0x5d2a60(0x96),'mirzw':function(_0x324de3,_0x3e2be2){return _0x324de3===_0x3e2be2;},'kPrpP':_0x5d2a60(0xbd),'YJHOK':_0x5d2a60(0xdd)+'on'},_0x4c109d=this[_0x5d2a60(0x10a)+'ading'](_0x242ba9);if(_0x4c109d)return _0x4c109d;if(this['isTable'](_0x242ba9))return{'type':_0x17a18b[_0x5d2a60(0xfb)],'priority':0x8,'metadata':{'tableRows':_0x17a18b['xeArN']((_0x242ba9['match'](/\n/g)||[])[_0x5d2a60(0x163)],0x1)}};if(this['isBullet'+_0x5d2a60(0x108)](_0x242ba9))return{'type':_0x17a18b[_0x5d2a60(0xf4)],'priority':0x7,'metadata':{'listType':_0x5d2a60(0xb5)}};if(this['isNumber'+_0x5d2a60(0xec)](_0x242ba9))return{'type':_0x5d2a60(0x12d)+_0x5d2a60(0x134),'priority':0x7,'metadata':{'listType':_0x17a18b[_0x5d2a60(0xa4)]}};if(this['isDefini'+_0x5d2a60(0x11b)](_0x242ba9))return{'type':_0x5d2a60(0x146)+'on','priority':0x8,'metadata':{'isDefinition':!![]}};if(this['isKeyPoi'+'nt'](_0x242ba9))return{'type':_0x17a18b[_0x5d2a60(0xe2)],'priority':0x8};if(this[_0x5d2a60(0xcb)](_0x242ba9))return{'type':_0x17a18b[_0x5d2a60(0xaf)],'priority':0x5};if(this[_0x5d2a60(0xac)+_0x5d2a60(0x100)](_0x242ba9))return{'type':_0x5d2a60(0x165)+'ck','priority':0x6};if(_0x431417===0x0&&this['config']['includeI'+'ntro'])return{'type':_0x5d2a60(0xf1),'priority':0x9};if(_0x17a18b[_0x5d2a60(0xc6)](_0x431417,_0x5bfcb9-0x1)&&this[_0x5d2a60(0xdb)][_0x5d2a60(0xcc)+_0x5d2a60(0x94)+'n']){if('kAbrz'!==_0x17a18b['kPrpP'])try{const _0x79f93f=_0xbf5790[_0x5d2a60(0x103)](),_0x3427c8=this[_0x5d2a60(0xa7)+_0x5d2a60(0x15f)+'s'](_0x4bd919),_0x597e9e=this[_0x5d2a60(0x131)+'tions'](_0x3427c8,_0x27214b),_0x5cd091=_0x21fb6[_0x5d2a60(0xd7)+'s']||this[_0x5d2a60(0xdb)][_0x5d2a60(0x130)+_0x5d2a60(0x15e)],_0x30f782=this[_0x5d2a60(0xb4)+_0x5d2a60(0x111)+_0x5d2a60(0xea)+'et'](_0x597e9e,_0x5cd091),_0x3d9a3b=this[_0x5d2a60(0x14d)+_0x5d2a60(0x143)+'t'](_0x30f782),_0x2a8b08=this['calculat'+_0x5d2a60(0x127)](_0x1c40c6,_0x3d9a3b,_0x3427c8,_0x30f782);return _0x15343b[_0x5d2a60(0xa8)][_0x5d2a60(0x15c)](_0x5d2a60(0x147)+_0x5d2a60(0xaa)+_0x5d2a60(0xfc)+_0x5d2a60(0xf2)+'ed',{'originalTokens':_0x2a8b08['original'+_0x5d2a60(0x10b)],'filteredTokens':_0x2a8b08['filtered'+_0x5d2a60(0x10b)],'reductionPercent':_0x2a8b08[_0x5d2a60(0x11e)+_0x5d2a60(0xa0)],'sectionsIncluded':_0x2a8b08['sections'+_0x5d2a60(0xa9)],'processingTime':_0x17a18b[_0x5d2a60(0x156)](_0x2701a9[_0x5d2a60(0x103)](),_0x79f93f)}),{'success':!![],'originalText':_0x439c98,'filteredText':_0x3d9a3b,'sections':_0x30f782,'stats':_0x2a8b08};}catch(_0x22248d){const _0x4e79be=_0x17a18b[_0x5d2a60(0x132)](_0x22248d,_0x425e2f)?_0x22248d[_0x5d2a60(0xce)]:_0x17a18b[_0x5d2a60(0x14f)];return _0x567630['logger'][_0x5d2a60(0xc7)](_0x5d2a60(0x147)+_0x5d2a60(0xaa)+_0x5d2a60(0xfc)+_0x5d2a60(0xdc),{'error':_0x4e79be}),{'success':![],'originalText':_0x341c27,'filteredText':_0x3deed7[_0x5d2a60(0x11a)+'g'](0x0,this['config'][_0x5d2a60(0x130)+_0x5d2a60(0x15e)]*0x4),'sections':[],'stats':this[_0x5d2a60(0xc8)+_0x5d2a60(0xb0)](_0x5d9717),'error':_0x4e79be};}else return{'type':_0x17a18b[_0x5d2a60(0xcd)],'priority':0x9};}return{'type':'paragrap'+'h','priority':this['calculat'+_0x5d2a60(0xeb)+_0x5d2a60(0x114)+'ty'](_0x242ba9)};}[_0x4f0eeb(0x10a)+_0x4f0eeb(0xcf)](_0x50cac2){const _0x4109b1=_0x4f0eeb,_0x1b1056={'URFNF':function(_0x350890,_0x42fbc5){return _0x350890-_0x42fbc5;},'TUBTN':function(_0x3ad18a,_0x4c61ee){return _0x3ad18a>_0x4c61ee;},'EsxBq':function(_0x33c4f0,_0xb307d3){return _0x33c4f0<_0xb307d3;},'ySMJv':function(_0x56e843,_0xaec19b){return _0x56e843<_0xaec19b;},'gCXSb':function(_0x1f1415,_0x2d6f12){return _0x1f1415+_0x2d6f12;},'Numqw':function(_0x4bd1ae,_0x1e2ed6){return _0x4bd1ae<=_0x1e2ed6;},'hSqPS':_0x4109b1(0x102),'auIgc':function(_0x3b658e,_0x4c441c){return _0x3b658e<_0x4c441c;},'YSikT':_0x4109b1(0x9c)+'ng'},_0x2f35ed=_0x50cac2[_0x4109b1(0x162)]('\x0a')[0x0][_0x4109b1(0xe9)](),_0x32d998=_0x2f35ed[_0x4109b1(0x10d)](/^(#{1,6})\s+(.+)$/);if(_0x32d998){const _0x536840=_0x32d998[0x1]['length'];return{'type':_0x536840<=0x2?_0x4109b1(0x102):_0x4109b1(0x9c)+'ng','priority':_0x1b1056[_0x4109b1(0x12c)](0xa,_0x536840),'metadata':{'level':_0x536840}};}if(_0x2f35ed===_0x2f35ed[_0x4109b1(0x150)+_0x4109b1(0xa2)]()&&_0x1b1056[_0x4109b1(0xc1)](_0x2f35ed['length'],0x3)&&_0x1b1056['EsxBq'](_0x2f35ed['length'],0x64)&&!/[.!?]$/[_0x4109b1(0x149)](_0x2f35ed))return{'type':_0x4109b1(0x102),'priority':0x9,'metadata':{'level':0x1}};const _0x2e001e=_0x2f35ed[_0x4109b1(0x10d)](/^(?:Chapter\s+)?(\d+(?:\.\d+)*)[.:\s]+(.+)$/i);if(_0x2e001e&&_0x1b1056['ySMJv'](_0x2f35ed[_0x4109b1(0x163)],0x64)){const _0xe0eab1=_0x1b1056['gCXSb']((_0x2e001e[0x1]['match'](/\./g)||[])[_0x4109b1(0x163)],0x1);return{'type':_0x1b1056[_0x4109b1(0x154)](_0xe0eab1,0x2)?_0x1b1056[_0x4109b1(0x126)]:'subheadi'+'ng','priority':0xa-_0xe0eab1,'metadata':{'level':_0xe0eab1}};}if(this[_0x4109b1(0x125)+'ase'](_0x2f35ed)&&_0x2f35ed['length']>0x5&&_0x1b1056[_0x4109b1(0x13e)](_0x2f35ed['length'],0x50))return{'type':_0x1b1056[_0x4109b1(0xa1)],'priority':0x7,'metadata':{'level':0x3}};return null;}[_0x4f0eeb(0x10f)](_0x48a2ad){const _0x3974c2=_0x4f0eeb,_0x1582ae={'vOcOk':function(_0x4f96be,_0xc6a46c){return _0x4f96be>=_0xc6a46c;},'eUeUF':function(_0x45d46b,_0x8e944){return _0x45d46b/_0x8e944;}};if(/\|.*\|/[_0x3974c2(0x149)](_0x48a2ad)&&(_0x48a2ad[_0x3974c2(0x10d)](/\|/g)||[])[_0x3974c2(0x163)]>=0x4)return!![];const _0x2f7ca1=_0x48a2ad[_0x3974c2(0x162)]('\x0a');if(_0x1582ae[_0x3974c2(0x16a)](_0x2f7ca1['length'],0x2)){const _0x2bcf22=_0x2f7ca1[_0x3974c2(0x110)](_0x4a590b=>(_0x4a590b[_0x3974c2(0x10d)](/\t/g)||[])[_0x3974c2(0x163)]);if(_0x1582ae[_0x3974c2(0x16a)](_0x1582ae[_0x3974c2(0x144)](_0x2bcf22[_0x3974c2(0xfd)]((_0x2c5c11,_0xe32944)=>_0x2c5c11+_0xe32944,0x0),_0x2bcf22['length']),0x2))return!![];}return![];}[_0x4f0eeb(0xc9)+_0x4f0eeb(0x108)](_0x5d94e9){const _0x5c470d=_0x4f0eeb,_0x2decba={'Lipvr':function(_0x13ddc5,_0x1a6876){return _0x13ddc5>=_0x1a6876;},'GISUS':function(_0x4c74a2,_0x591203){return _0x4c74a2/_0x591203;}},_0x17784d=_0x5d94e9['split']('\x0a'),_0x702711=_0x17784d['filter'](_0xf1bb93=>/^\s*[-•●○◦▪▸►★✓✔→]\s+/[_0x5c470d(0x149)](_0xf1bb93));return _0x702711[_0x5c470d(0x163)]>=0x2&&_0x2decba[_0x5c470d(0x155)](_0x2decba[_0x5c470d(0x10c)](_0x702711['length'],_0x17784d['length']),0.5);}[_0x4f0eeb(0xbf)+_0x4f0eeb(0xec)](_0xa3007c){const _0x4508b6=_0x4f0eeb,_0x3f38b7={'RWWGh':function(_0x16d6e4,_0xc5617b){return _0x16d6e4>=_0xc5617b;},'sGWAc':function(_0x875414,_0xbad799){return _0x875414>=_0xbad799;}},_0xa70da7=_0xa3007c[_0x4508b6(0x162)]('\x0a'),_0x2757b8=_0xa70da7[_0x4508b6(0x158)](_0x191547=>/^\s*(?:\d+[.)]\s+|[a-z][.)]\s+|[ivx]+[.)]\s+)/i['test'](_0x191547));return _0x3f38b7[_0x4508b6(0x118)](_0x2757b8['length'],0x2)&&_0x3f38b7['sGWAc'](_0x2757b8[_0x4508b6(0x163)]/_0xa70da7['length'],0.5);}[_0x4f0eeb(0x152)+_0x4f0eeb(0x11b)](_0x22f216){const _0x4602b4=_0x4f0eeb;return[/^[A-Z][^:]{2,50}:\s+.+/,/^[A-Z][^-]{2,50}\s+-\s+.+/,/\b(?:means?|refers?\s+to|is\s+defined\s+as|is\s+a)\b/i][_0x4602b4(0xd3)](_0x4c6459=>_0x4c6459[_0x4602b4(0x149)](_0x22f216));}[_0x4f0eeb(0x128)+'nt'](_0x513330){const _0x31cb21=_0x4f0eeb;return[/\b(?:important|key|critical|essential|significant|notable|crucial)\b/i,/\b(?:conclusion|summary|result|finding|recommendation|takeaway)\b/i,/\b(?:note|warning|caution|attention|tip|hint)\b/i,/^(?:Note:|Important:|Key:|Summary:|Conclusion:|Result:)/i]['some'](_0x21d114=>_0x21d114[_0x31cb21(0x149)](_0x513330));}[_0x4f0eeb(0xcb)](_0x597f17){const _0x360e03=_0x4f0eeb;return/^[""].*[""]$/[_0x360e03(0x149)](_0x597f17[_0x360e03(0xe9)]())||/^>\s+/[_0x360e03(0x149)](_0x597f17);}[_0x4f0eeb(0xac)+'ock'](_0x5aee41){const _0x171288=_0x4f0eeb;return/^```/['test'](_0x5aee41)||/[{}<>\/\\;=]/['test'](_0x5aee41)&&(_0x5aee41[_0x171288(0x10d)](/[{}<>\/\\;=]/g)||[])[_0x171288(0x163)]>0x5;}['isTitleC'+_0x4f0eeb(0xa2)](_0x1561fc){const _0x41ed1e=_0x4f0eeb,_0x1f1e5f={'Zrcbg':function(_0x377c4,_0x4acd2f){return _0x377c4<_0x4acd2f;},'GGlKa':function(_0x1d1e8d,_0x421f95){return _0x1d1e8d/_0x421f95;}},_0x502c61=_0x1561fc[_0x41ed1e(0x162)](/\s+/);if(_0x1f1e5f[_0x41ed1e(0x9e)](_0x502c61[_0x41ed1e(0x163)],0x2)||_0x502c61[_0x41ed1e(0x163)]>0xa)return![];const _0x12ea95=_0x502c61['filter'](_0x2b4a26=>_0x2b4a26[_0x41ed1e(0x163)]<=0x3||/^[A-Z]/[_0x41ed1e(0x149)](_0x2b4a26));return _0x1f1e5f[_0x41ed1e(0xb7)](_0x12ea95['length'],_0x502c61[_0x41ed1e(0x163)])>=0.7;}[_0x4f0eeb(0x160)+_0x4f0eeb(0xeb)+_0x4f0eeb(0x114)+'ty'](_0x1e9043){const _0x942a8a=_0x4f0eeb;let _0x432946=0x3;const _0x215dfb=this[_0x942a8a(0x117)+'ds'](_0x1e9043);if(_0x215dfb>0x64)_0x432946+=0x1;if(_0x215dfb>0xc8)_0x432946+=0x1;if(/\d+%|\$\d+|\d+\s*(?:million|billion|thousand)/i[_0x942a8a(0x149)](_0x1e9043))_0x432946+=0x2;if(/\b(?:19|20)\d{2}\b/[_0x942a8a(0x149)](_0x1e9043))_0x432946+=0x1;return Math[_0x942a8a(0xba)](_0x432946,0x7);}[_0x4f0eeb(0x131)+'tions'](_0x2bae1c,_0x451edd){const _0x36230e=_0x4f0eeb,_0x22db14={'bDQiJ':_0x36230e(0x124)};return _0x2bae1c['map'](_0x42b6cb=>{const _0x41edbe=_0x36230e,_0x5abb3a={'nikTb':_0x41edbe(0x101)+'+)+$'};let _0x1a1621=_0x42b6cb[_0x41edbe(0xff)];if(_0x451edd[_0x41edbe(0x16e)+_0x41edbe(0x14c)]){if(_0x41edbe(0x133)!==_0x22db14[_0x41edbe(0x105)])_0x1a1621=this[_0x41edbe(0xa5)+_0x41edbe(0x12e)+'rOperati'+'on'](_0x42b6cb,_0x451edd[_0x41edbe(0x16e)+_0x41edbe(0x14c)]);else return _0x2bee45['toString']()[_0x41edbe(0xa6)](ygfVeu['nikTb'])[_0x41edbe(0xbc)]()[_0x41edbe(0xd2)+_0x41edbe(0x11f)](_0x20c065)[_0x41edbe(0xa6)](ygfVeu[_0x41edbe(0x11d)]);}if(_0x451edd[_0x41edbe(0x169)+'ypes']&&!_0x451edd['includeT'+_0x41edbe(0x12b)]['includes'](_0x42b6cb[_0x41edbe(0x116)]))_0x1a1621=0x0;if(_0x451edd['excludeT'+_0x41edbe(0x12b)]&&_0x451edd[_0x41edbe(0x16b)+_0x41edbe(0x12b)]['includes'](_0x42b6cb[_0x41edbe(0x116)]))_0x1a1621=0x0;if(_0x451edd[_0x41edbe(0xff)+_0x41edbe(0x16d)+'d']&&_0x1a1621<_0x451edd['priority'+_0x41edbe(0x16d)+'d'])_0x1a1621=0x0;return{..._0x42b6cb,'priority':_0x1a1621};})[_0x36230e(0xdf)]((_0x32da4a,_0x376b6a)=>_0x376b6a[_0x36230e(0xff)]-_0x32da4a[_0x36230e(0xff)]);}[_0x4f0eeb(0xa5)+_0x4f0eeb(0x12e)+_0x4f0eeb(0x13c)+'on'](_0x1451e7,_0x32db1d){const _0x1d1a4f=_0x4f0eeb,_0x345514={'fbqaf':function(_0x3d1b9c,_0x2d11f1){return _0x3d1b9c>=_0x2d11f1;},'klZvv':_0x1d1a4f(0xf1),'OPOUy':_0x1d1a4f(0xdd)+'on','NHemY':_0x1d1a4f(0x102),'rPjFa':'bullet_l'+_0x1d1a4f(0xe5),'JHEjS':'definiti'+'on','KrHwN':_0x1d1a4f(0x95)+'t','DOfAo':_0x1d1a4f(0xe6),'pqDOQ':_0x1d1a4f(0x12d)+_0x1d1a4f(0x134),'sfHtY':_0x1d1a4f(0x9c)+'ng','NxWQk':function(_0x399684,_0x4e76fb){return _0x399684===_0x4e76fb;},'DqpAI':_0x1d1a4f(0x109)};let _0x4dcf62=_0x1451e7[_0x1d1a4f(0xff)];const _0x5d0f1a={'SUMMARY_SHORT':[_0x345514[_0x1d1a4f(0xe3)],_0x1d1a4f(0xdd)+'on','heading'],'SUMMARY_LONG':[_0x345514['klZvv'],_0x1d1a4f(0xdd)+'on',_0x1d1a4f(0x102)],'SUMMARY_BULLET':[_0x345514[_0x1d1a4f(0xe3)],_0x345514['OPOUy'],_0x345514[_0x1d1a4f(0xf7)],_0x345514[_0x1d1a4f(0x140)]],'TEST_GENERATOR':[_0x345514[_0x1d1a4f(0xe4)],_0x345514[_0x1d1a4f(0x119)],_0x345514[_0x1d1a4f(0x140)],'numbered'+'_list'],'QUESTION_BANK':[_0x345514['JHEjS'],_0x1d1a4f(0x95)+'t',_0x345514[_0x1d1a4f(0x140)],_0x1d1a4f(0x12d)+_0x1d1a4f(0x134)],'FLASHCARDS':[_0x1d1a4f(0x146)+'on',_0x1d1a4f(0x95)+'t',_0x1d1a4f(0xc3)+_0x1d1a4f(0xe5)],'TABLE_TO_CHARTS':['table'],'TREND_ANALYSIS':[_0x345514[_0x1d1a4f(0x12f)],'key_poin'+'t'],'CONTRACT_LAW_SCAN':[_0x345514[_0x1d1a4f(0xe4)],'heading',_0x345514['pqDOQ']],'NOTES_GENERATOR':[_0x345514[_0x1d1a4f(0xf7)],_0x1d1a4f(0x9c)+'ng',_0x345514['rPjFa']],'TOPIC_BREAKDOWN':[_0x345514[_0x1d1a4f(0xf7)],_0x345514[_0x1d1a4f(0xd4)]],'INSIGHTS_EXTRACTION':['key_poin'+'t',_0x345514[_0x1d1a4f(0xed)]],'KEYWORD_EXTRACT':[_0x1d1a4f(0x102),_0x1d1a4f(0x9c)+'ng',_0x345514[_0x1d1a4f(0xe4)]]},_0x30b800=_0x5d0f1a[_0x32db1d]||[];if(_0x30b800['includes'](_0x1451e7[_0x1d1a4f(0x116)])){if(_0x345514[_0x1d1a4f(0xa3)]('tJGFM',_0x345514[_0x1d1a4f(0x135)])){const _0x24ce32=_0x2eb995[_0x1d1a4f(0x162)]('\x0a'),_0x5e0b58=_0x24ce32[_0x1d1a4f(0x158)](_0x2b59ae=>/^\s*[-•●○◦▪▸►★✓✔→]\s+/[_0x1d1a4f(0x149)](_0x2b59ae));return _0x345514[_0x1d1a4f(0x98)](_0x5e0b58[_0x1d1a4f(0x163)],0x2)&&_0x5e0b58[_0x1d1a4f(0x163)]/_0x24ce32['length']>=0.5;}else _0x4dcf62+=0x3;}return _0x4dcf62;}[_0x4f0eeb(0xb4)+'ctionsWi'+_0x4f0eeb(0xea)+'et'](_0x442aa9,_0x9af120){const _0x56a472=_0x4f0eeb,_0x8c872b={'MSqlV':function(_0x296244,_0x5f34a4){return _0x296244<=_0x5f34a4;},'KnAzi':function(_0x2b1577,_0x476697){return _0x2b1577+_0x476697;}},_0x1e2a50=[];let _0x2154d7=0x0;for(const _0x34ba7a of _0x442aa9){if(_0x34ba7a[_0x56a472(0xff)]<=0x0)continue;_0x8c872b[_0x56a472(0x14e)](_0x8c872b['KnAzi'](_0x2154d7,_0x34ba7a[_0x56a472(0xb2)+_0x56a472(0x13b)]),_0x9af120)&&(_0x1e2a50[_0x56a472(0x167)](_0x34ba7a),_0x2154d7+=_0x34ba7a[_0x56a472(0xb2)+'imate']);}return _0x1e2a50[_0x56a472(0xdf)]((_0x1989db,_0x2fd814)=>_0x1989db[_0x56a472(0xf8)+'ex']-_0x2fd814[_0x56a472(0xf8)+'ex']);}[_0x4f0eeb(0x14d)+_0x4f0eeb(0x143)+'t'](_0x441c05){const _0x29b65f=_0x4f0eeb,_0x403abb={'lZZZK':_0x29b65f(0xad),'bDktU':function(_0xa0470d,_0x323efc){return _0xa0470d-_0x323efc;},'CCuyk':_0x29b65f(0x106)+'tion','cRMNM':_0x29b65f(0x9b)+'on','HMTcY':_0x29b65f(0x141),'sOCYA':_0x29b65f(0xef)+'t','kTiTE':_0x29b65f(0x9f)};if(_0x441c05[_0x29b65f(0x163)]===0x0)return'';const _0x3a094b=[],_0x44fa3b={'heading':null,'subheading':null,'paragraph':null,'intro':_0x403abb[_0x29b65f(0xc4)],'conclusion':_0x403abb[_0x29b65f(0x9d)],'bullet_list':null,'numbered_list':null,'table':_0x403abb['HMTcY'],'definition':_0x29b65f(0x104)+'on','key_point':_0x403abb[_0x29b65f(0x151)],'quote':'Quote','code_block':_0x403abb[_0x29b65f(0xe7)]};return _0x441c05['forEach']((_0x3021f2,_0x3c0072)=>{const _0x499176=_0x29b65f,_0x46069e={'ARgeO':_0x499176(0xb5)};if(_0x403abb['lZZZK']===_0x403abb[_0x499176(0x136)]){const _0x41bb92=_0x44fa3b[_0x3021f2[_0x499176(0x116)]];if(_0x41bb92)_0x3a094b[_0x499176(0x167)]('['+_0x41bb92+']');_0x3a094b[_0x499176(0x167)](_0x3021f2[_0x499176(0x97)]);if(_0x3c0072<_0x403abb[_0x499176(0x168)](_0x441c05[_0x499176(0x163)],0x1))_0x3a094b['push']('\x0a\x0a');}else return{'type':_0x499176(0xc3)+_0x499176(0xe5),'priority':0x7,'metadata':{'listType':_0x46069e[_0x499176(0xd1)]}};}),_0x3a094b[_0x29b65f(0xe1)]('\x0a');}['calculat'+_0x4f0eeb(0x127)](_0x59c7e6,_0x1beefc,_0x261266,_0x148919){const _0x2d3aaf=_0x4f0eeb,_0x106112={'hSwpp':function(_0x5be8a3,_0x2e88da){return _0x5be8a3>_0x2e88da;},'pdYnz':function(_0x102ad9,_0x3f5590){return _0x102ad9*_0x3f5590;}},_0x19a558=this[_0x2d3aaf(0x117)+'ds'](_0x59c7e6),_0x31dbb4=this['estimate'+_0x2d3aaf(0x10b)](_0x59c7e6),_0x59e92e=this[_0x2d3aaf(0x117)+'ds'](_0x1beefc),_0x278a68=this['estimate'+_0x2d3aaf(0x10b)](_0x1beefc),_0x22368d=_0x106112[_0x2d3aaf(0x129)](_0x31dbb4,0x0)?Math[_0x2d3aaf(0xf6)](_0x106112[_0x2d3aaf(0xd5)](0x1-_0x278a68/_0x31dbb4,0x64)):0x0;return{'originalWords':_0x19a558,'originalTokens':_0x31dbb4,'filteredWords':_0x59e92e,'filteredTokens':_0x278a68,'reductionPercent':_0x22368d,'sectionsDetected':_0x261266[_0x2d3aaf(0x163)],'sectionsIncluded':_0x148919['length'],'estimatedCostSaving':_0x22368d};}[_0x4f0eeb(0xc8)+_0x4f0eeb(0xb0)](_0x3ce2e2){const _0x3d051e=_0x4f0eeb,_0x13aa26=this[_0x3d051e(0x117)+'ds'](_0x3ce2e2),_0xe85d22=this[_0x3d051e(0x14b)+'Tokens'](_0x3ce2e2);return{'originalWords':_0x13aa26,'originalTokens':_0xe85d22,'filteredWords':_0x13aa26,'filteredTokens':_0xe85d22,'reductionPercent':0x0,'sectionsDetected':0x0,'sectionsIncluded':0x0,'estimatedCostSaving':0x0};}[_0x4f0eeb(0x117)+'ds'](_0x3dda9a){const _0x44ad0e=_0x4f0eeb;return _0x3dda9a[_0x44ad0e(0xe9)]()['split'](/\s+/)['filter'](_0x3cd90e=>_0x3cd90e[_0x44ad0e(0x163)]>0x0)[_0x44ad0e(0x163)];}[_0x4f0eeb(0x14b)+_0x4f0eeb(0x10b)](_0xb2797e){const _0x4ca372=_0x4f0eeb;return Math[_0x4ca372(0x138)](_0xb2797e[_0x4ca372(0x163)]/0x4);}async['getOptim'+_0x4f0eeb(0xee)+'nsForOpe'+'ration'](_0x59979d,_0x1fb838,_0xda9917){const _0x4dd153=_0x4f0eeb;return this[_0x4dd153(0xd6)+_0x4dd153(0xb6)+_0x4dd153(0x9a)](_0x59979d,{'operationType':_0x1fb838,'maxTokens':_0xda9917||this['getDefau'+'ltTokens'+'ForOpera'+_0x4dd153(0x11b)](_0x1fb838)});}[_0x4f0eeb(0x123)+_0x4f0eeb(0x93)+_0x4f0eeb(0xab)+_0x4f0eeb(0x11b)](_0x2cd0df){const _0x507555=_0x4f0eeb,_0x393e45={'SUMMARY_SHORT':0xbb8,'KEYWORD_EXTRACT':0x7d0,'SUMMARY_BULLET':0xfa0,'SUMMARY_LONG':0x1388,'FLASHCARDS':0xfa0,'NOTES_GENERATOR':0x1770,'TEST_GENERATOR':0x1770,'QUESTION_BANK':0x1770,'CONTRACT_LAW_SCAN':0x1f40,'INSIGHTS_EXTRACTION':0x1f40,'REPORT_BUILDER':0x1f40};return _0x393e45[_0x2cd0df]||this['config'][_0x507555(0x130)+_0x507555(0x15e)];}[_0x4f0eeb(0x157)+_0x4f0eeb(0xca)](_0x5df2e9){const _0x1fb770=_0x4f0eeb;this[_0x1fb770(0xdb)]={...this[_0x1fb770(0xdb)],..._0x5df2e9};}['getConfi'+'g'](){return{...this['config']};}}exports['smartSec'+_0x4f0eeb(0x145)+_0x4f0eeb(0x148)]=SmartSectionService[_0x4f0eeb(0x11c)+_0x4f0eeb(0x15d)](),exports['default']=exports[_0x4f0eeb(0x14a)+'tionServ'+'ice'];