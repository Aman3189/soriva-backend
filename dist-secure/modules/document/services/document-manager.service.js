'use strict';const _0x1f5f5c=_0x5a26;(function(_0x163955,_0x44275f){const _0xc14807=_0x5a26,_0x401f11=_0x163955();while(!![]){try{const _0x4c6305=-parseInt(_0xc14807(0x120))/0x1*(parseInt(_0xc14807(0x10a))/0x2)+-parseInt(_0xc14807(0xb6))/0x3+-parseInt(_0xc14807(0x111))/0x4+-parseInt(_0xc14807(0xe5))/0x5*(-parseInt(_0xc14807(0xcb))/0x6)+-parseInt(_0xc14807(0xd5))/0x7*(parseInt(_0xc14807(0xfc))/0x8)+parseInt(_0xc14807(0x145))/0x9+parseInt(_0xc14807(0xed))/0xa*(parseInt(_0xc14807(0x14e))/0xb);if(_0x4c6305===_0x44275f)break;else _0x401f11['push'](_0x401f11['shift']());}catch(_0x272e6b){_0x401f11['push'](_0x401f11['shift']());}}}(_0x5c89,0xb64aa));Object[_0x1f5f5c(0xd4)+_0x1f5f5c(0xf2)](exports,_0x1f5f5c(0xbe)+'le',{'value':!![]}),exports['Document'+_0x1f5f5c(0x128)]=exports['document'+'ManagerS'+_0x1f5f5c(0x100)]=void 0x0;function _0x5c89(){const _0x546333=['ueHJtxi','qc9JB25MAwC','rgvSzxrLigq','zLLsChi','r3Pjsu4','C1bMCxu','twf4Aw11Bsa','wgT2q3m','uKvbrfK','Dff1zxj5q28','y3jLyxrLrg8','ksbYzwfJAgu','z2v0vxnLCKq','x0fvve9Freu','zMLSzu5HBwu','DNzxyvC','CMvHzhK','DxnLCKrVy3u','B2n1BwvUDem','BNrZ','mta0odu3nJa','zxjYB3i6','Dg9tDhjPBMC','nti2nJiWnLrMyKz6sW','B2n1BwvUDhm','re9dvu1ftLq','q3bqALu','Au5qrgW','zgvSzxrLrg8','DxbSB2fKAw4','zMLSDgvY','rLfgs04','ndrhD1HKC1a','tgLZDcbKB2m','y3vTzw50t3C','kYKRja','ufjpq0vtu0K','DxbKyxrLu3q','CxvLCNLdB3u','zg9LCYbUB3q','v0Lyr04','y29UzMLN','igrVy3vTzw4','Dw1LBNrZigu','Dg9Y','zMLSzvvYBa','uMrwEK0','zgvSzxrLtwe','C2TAD1e','BwvUDcbJB3u','zw5Pzwq6ieq','zw50qNLjza','yxLZ','DxbKyxrLrg8','D29YzenVDw4','mJq4mte2mNPKBujVta','y3vTzw50oIa','AgHQsMC','BgLZDerVy3u','whfXCeK','BYb1CgrHDgu','yxnorKi','y1bABuy','x19LC01Vzhu','q2XLyw51Cca','vxbKyxrLihm','CNjVCJO','CMvKDwnL','ChjPC21H','BMvYC2HPCa','uMT0uLi','z2v0q29UzMK','DxnLCKLK','wNrSA1G','y2XLyw51Ce8','zgvZyW','ndy2nZCWyuzvtNrm','yxrZoIa','uxb5r0e','CM9YoG','vxbKyxrLigq','rK1LEKK','tufyx0zjteu','BwvUDa','C3zsvfO','zgvMAw5Luhi','mte4mJaZngnIu3jIDa','zMLUzezPCNm','y2vSuwq','Dg8GDxnLCG','zw52','igXPBwL0icG','ig5VDcbMB3u','BYbSAxn0igq','BwvZC2fNzq','rw9fyLu','zgvSzxrL','z2v0rgf0zq','BwvUDhm','C2vY','rg9JDw1LBNq','Dw50','mJbLt1LABeO','x1njwKu','vvbmt0fesu4','y3vTzw50','q3rjr3K','yxbWBhK','C3rHDhvZ','DMvYAwz5rg8','nJqXmJa0merkBLnJBG','Cwzyt2m','ANrpBLG','BgreB2n1Bwu','CfbfvMe','B3bLCNr5','zMLUze1HBNK','ANPOEgO','DNzNCKC','zMfPBgvK','zg9JDw1LBNq','DxbKyxrL','B3vUDa','y291BNq','zvD0re0','mtzqq3Hrugy','BfPAvMW','tevurv9eqvK','AensDLu','zxj2AwnL','Dwj4Efm','BeDIsxO','C2vHCMnO','q3jLyxrLigq','Bwf4rg9JDw0','zxjYB3i','Aw5JCMvTzw4','BYbJCMvHDgu','rMfPBgvKihq','nJq2DuPPz1nQ','vw5RBM93BIa','z2v0rg9JDw0','BNqGzxjYB3i','B0nlA3O','BMnL','DdOG','mZuXmda5mM51sKDitG','qwnJzxnZigq','tufyx0rpq1u','ihn0yxr1CZO','zw50C1bLCLu','Aw5ZDgfUy2u','B2n1BwvUDca','l3bYAxnTyq','z0HQAeC','vfn4t3e','BYbNzxqGzg8','B3i6','BgvUz3rO','tuvovfnFueu','ChjVy2vZC2K','mJa4mxHpu0LZuW','BwvUDcbLCNi','q3vArMy','wuPeqNi','D1P4Agy','z2v0sw5ZDge','C2v0rgf0zq','t3jODfC','u3rHDhvZ','r2v0igrVy3u','reHAwNO','kcGOlISPkYK','BYbNzxqGC3q','wgD6BKm'];_0x5c89=function(){return _0x546333;};return _0x5c89();}const prisma_1=require(_0x1f5f5c(0x12f)+_0x1f5f5c(0x118)),DOCUMENT_CONFIG={'maxDocumentsPerUser':parseInt(process[_0x1f5f5c(0xd9)][_0x1f5f5c(0x113)+_0x1f5f5c(0x11e)+'R_USER']||'50'),'autoDeleteAfterDays':parseInt(process[_0x1f5f5c(0xd9)][_0x1f5f5c(0x147)+_0x1f5f5c(0x13b)+_0x1f5f5c(0xfe)+'S']||'90'),'maxFileSize':parseInt(process[_0x1f5f5c(0xd9)][_0x1f5f5c(0xd1)+_0x1f5f5c(0xe6)]||_0x1f5f5c(0x142))};function _0x5a26(_0x5da81b,_0x5822ea){_0x5da81b=_0x5da81b-0xa3;const _0x2f634e=_0x5c89();let _0x5a9d37=_0x2f634e[_0x5da81b];if(_0x5a26['KtMpmO']===undefined){var _0x145fc2=function(_0x1ea17a){const _0x34c55e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4de612='',_0x13b9e5='',_0x3f6fc9=_0x4de612+_0x145fc2;for(let _0x32b67e=0x0,_0x195dc1,_0x5ba900,_0xf2e178=0x0;_0x5ba900=_0x1ea17a['charAt'](_0xf2e178++);~_0x5ba900&&(_0x195dc1=_0x32b67e%0x4?_0x195dc1*0x40+_0x5ba900:_0x5ba900,_0x32b67e++%0x4)?_0x4de612+=_0x3f6fc9['charCodeAt'](_0xf2e178+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x195dc1>>(-0x2*_0x32b67e&0x6)):_0x32b67e:0x0){_0x5ba900=_0x34c55e['indexOf'](_0x5ba900);}for(let _0x332734=0x0,_0x103a66=_0x4de612['length'];_0x332734<_0x103a66;_0x332734++){_0x13b9e5+='%'+('00'+_0x4de612['charCodeAt'](_0x332734)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x13b9e5);};_0x5a26['dQfAOW']=_0x145fc2,_0x5a26['cexbFd']={},_0x5a26['KtMpmO']=!![];}const _0x5c89b6=_0x2f634e[0x0],_0x5a2694=_0x5da81b+_0x5c89b6,_0x2d5807=_0x5a26['cexbFd'][_0x5a2694];if(!_0x2d5807){const _0x4e56ff=function(_0x545e38){this['fkPoAc']=_0x545e38,this['UjbBvM']=[0x1,0x0,0x0],this['gAdCOc']=function(){return'newState';},this['ETYEPY']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['jwwbAg']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4e56ff['prototype']['YezksZ']=function(){const _0x106c5a=new RegExp(this['ETYEPY']+this['jwwbAg']),_0x266eee=_0x106c5a['test'](this['gAdCOc']['toString']())?--this['UjbBvM'][0x1]:--this['UjbBvM'][0x0];return this['NfONzV'](_0x266eee);},_0x4e56ff['prototype']['NfONzV']=function(_0xb623cd){if(!Boolean(~_0xb623cd))return _0xb623cd;return this['iCxQpQ'](this['fkPoAc']);},_0x4e56ff['prototype']['iCxQpQ']=function(_0x1f1c8e){for(let _0x37f718=0x0,_0x16ccf2=this['UjbBvM']['length'];_0x37f718<_0x16ccf2;_0x37f718++){this['UjbBvM']['push'](Math['round'](Math['random']())),_0x16ccf2=this['UjbBvM']['length'];}return _0x1f1c8e(this['UjbBvM'][0x0]);},new _0x4e56ff(_0x5a26)['YezksZ'](),_0x5a9d37=_0x5a26['dQfAOW'](_0x5a9d37),_0x5a26['cexbFd'][_0x5a2694]=_0x5a9d37;}else _0x5a9d37=_0x2d5807;return _0x5a9d37;}var DocumentStatus;(function(_0x2a034a){const _0x1bcb5c=_0x1f5f5c,_0x40ceda={'wShPD':_0x1bcb5c(0x12b)+_0x1bcb5c(0x151),'skZwQ':function(_0x33bce4,_0x44092d,_0x2bafd6){return _0x33bce4(_0x44092d,_0x2bafd6);},'jzhxj':function(_0x2c58a2){return _0x2c58a2();},'asNFB':_0x1bcb5c(0xe7)+'G','cPZmF':_0x1bcb5c(0x11f)+'ng','RktRR':_0x1bcb5c(0x136),'svRTZ':_0x1bcb5c(0x13e),'qfXOc':'FAILED'},_0x274113=(function(){let _0x5284fe=!![];return function(_0x453e57,_0x19677e){const _0x2ce3d0=_0x5284fe?function(){const _0x1b2c2c=_0x5a26;if(_0x19677e){const res=_0x19677e[_0x1b2c2c(0xea)](_0x453e57,arguments);return _0x19677e=null,res;}}:function(){};return _0x5284fe=![],_0x2ce3d0;};}()),_0x4f144f=_0x40ceda[_0x1bcb5c(0xaf)](_0x274113,this,function(){const _0x48f344=_0x1bcb5c;return _0x4f144f[_0x48f344(0x144)]()[_0x48f344(0x103)](_0x48f344(0x12b)+'+)+$')['toString']()['construc'+_0x48f344(0xab)](_0x4f144f)['search'](_0x40ceda['wShPD']);});_0x40ceda[_0x1bcb5c(0xf4)](_0x4f144f),_0x2a034a[_0x40ceda[_0x1bcb5c(0xbc)]]=_0x1bcb5c(0x14b)+'g',_0x2a034a[_0x1bcb5c(0xa3)+'NG']=_0x40ceda[_0x1bcb5c(0xbd)],_0x2a034a[_0x40ceda[_0x1bcb5c(0xc5)]]=_0x40ceda[_0x1bcb5c(0xd3)],_0x2a034a[_0x40ceda[_0x1bcb5c(0xee)]]=_0x1bcb5c(0xf6);}(DocumentStatus||(exports[_0x1f5f5c(0xe3)+'Status']=DocumentStatus={})));class DocumentManagerService{constructor(){const _0x589299=_0x1f5f5c;this[_0x589299(0xa8)]=DOCUMENT_CONFIG;}static[_0x1f5f5c(0x125)+_0x1f5f5c(0x10f)](){const _0xd0a158=_0x1f5f5c;return!DocumentManagerService[_0xd0a158(0x116)]&&(DocumentManagerService[_0xd0a158(0x116)]=new DocumentManagerService()),DocumentManagerService['instance'];}async[_0x1f5f5c(0x138)+_0x1f5f5c(0xe8)](_0x19aa73){const _0x54c9f4=_0x1f5f5c,_0x88bf91={'wZxhf':_0x54c9f4(0x122),'hhjJg':function(_0x3fec37,_0x3d3ed0){return _0x3fec37 instanceof _0x3d3ed0;},'DHZZz':_0x54c9f4(0x10b)+_0x54c9f4(0x106)};try{if(_0x88bf91[_0x54c9f4(0x124)]!==_0x54c9f4(0x119)){const _0x535fda=await this[_0x54c9f4(0x13a)+_0x54c9f4(0x140)+_0x54c9f4(0xf9)](_0x19aa73[_0x54c9f4(0xc7)]);if(_0x535fda>=this[_0x54c9f4(0xa8)]['maxDocum'+_0x54c9f4(0x115)+_0x54c9f4(0xe2)])throw new Error(_0x54c9f4(0x134)+_0x54c9f4(0xf7)+_0x54c9f4(0xda)+this['config'][_0x54c9f4(0x105)+'entsPerU'+_0x54c9f4(0xe2)]+(_0x54c9f4(0x139)+'d'));const _0x5297f5=await prisma_1['prisma'][_0x54c9f4(0x13f)+_0x54c9f4(0xd2)]['create']({'data':{'userId':_0x19aa73['userId'],'fileName':_0x19aa73[_0x54c9f4(0x13c)],'fileSize':_0x19aa73['fileSize'],'fileType':_0x19aa73['fileType'],'fileUrl':_0x19aa73[_0x54c9f4(0xac)],'status':DocumentStatus[_0x54c9f4(0xe7)+'G'],'uploadedAt':new Date()}});return _0x5297f5;}else{const res=_0x239a96[_0x54c9f4(0xea)](_0x4333c6,arguments);return _0x4091bd=null,res;}}catch(_0x477cf0){const _0x32043e=_0x88bf91[_0x54c9f4(0xb8)](_0x477cf0,Error)?_0x477cf0[_0x54c9f4(0xdd)]:_0x88bf91[_0x54c9f4(0x12a)];console[_0x54c9f4(0x106)](_0x54c9f4(0x104)+_0x54c9f4(0x117)+_0x54c9f4(0x143),_0x477cf0);throw new Error(_0x54c9f4(0x109)+_0x54c9f4(0x108)+_0x54c9f4(0xa9)+_0x54c9f4(0x110)+_0x32043e);}}async[_0x1f5f5c(0x10c)+_0x1f5f5c(0xb2)](_0x23e999,_0x20d3ef){const _0x538b55=_0x1f5f5c,_0x37487a={'zGtiW':_0x538b55(0x10b)+'error','RvfeP':_0x538b55(0x14f)+_0x538b55(0xaa)+_0x538b55(0xc1),'pPEVa':_0x538b55(0xe3)+'\x20not\x20fou'+'nd','XqqpI':function(_0x4ab683,_0x8234b3){return _0x4ab683===_0x8234b3;},'TdXqX':'YJDBr','ZtlkX':_0x538b55(0x129)+'ment\x20err'+_0x538b55(0x11c)};try{const _0x7e4dd4=await prisma_1[_0x538b55(0xc3)]['userDocu'+'ment'][_0x538b55(0xd6)+'t']({'where':{'id':_0x23e999,'userId':_0x20d3ef}});if(!_0x7e4dd4)throw new Error(_0x37487a[_0x538b55(0xf1)]);return _0x7e4dd4;}catch(_0x3cf31b){if(_0x37487a[_0x538b55(0xba)](_0x538b55(0x123),_0x37487a['TdXqX'])){const _0xdbe001=_0x3cf31b instanceof Error?_0x3cf31b['message']:_0x37487a['zGtiW'];console[_0x538b55(0x106)](_0x37487a[_0x538b55(0xc8)],_0x3cf31b);throw new Error(_0x538b55(0x109)+'o\x20get\x20do'+_0x538b55(0xb7)+_0xdbe001);}else{const _0x12ae71=_0x4bee7f instanceof _0x40101f?_0x129065['message']:_0x37487a['zGtiW'];_0x493437['error'](_0x37487a['RvfeP'],_0x418b87);throw new _0x44a88f(_0x538b55(0x109)+_0x538b55(0xdc)+_0x538b55(0x146)+':\x20'+_0x12ae71);}}}async[_0x1f5f5c(0xb9)+_0x1f5f5c(0xe1)](_0x3a31df){const _0x8147a8=_0x1f5f5c,_0x19d2ef={'aIivM':function(_0x3a5531,_0x127aff){return _0x3a5531&&_0x127aff;},'iNPDl':_0x8147a8(0x10b)+_0x8147a8(0x106)};try{const {userId:_0x36e379,status:_0x30727c,limit:limit=0x14,offset:offset=0x0}=_0x3a31df,_0x32716d=await prisma_1['prisma'][_0x8147a8(0x13f)+_0x8147a8(0xd2)]['findMany']({'where':{'userId':_0x36e379,..._0x19d2ef['aIivM'](_0x30727c,{'status':_0x30727c})},'orderBy':{'uploadedAt':_0x8147a8(0xca)},'skip':offset,'take':limit});return _0x32716d;}catch(_0x4b54ce){if(_0x8147a8(0x127)!==_0x8147a8(0x127))this[_0x8147a8(0xa8)]=_0x1c51f1;else{const _0x29b49b=_0x4b54ce instanceof Error?_0x4b54ce['message']:_0x19d2ef[_0x8147a8(0x149)];console[_0x8147a8(0x106)](_0x8147a8(0x14f)+_0x8147a8(0xaa)+'rror:',_0x4b54ce);throw new Error('Failed\x20t'+_0x8147a8(0xdc)+_0x8147a8(0x146)+':\x20'+_0x29b49b);}}}async[_0x1f5f5c(0xb4)+'cument'](_0x20a54d,_0x2203b6,_0x1b1abb){const _0x1a6116=_0x1f5f5c,_0x567870={'EoEbU':function(_0x42fe57,_0x3282ae){return _0x42fe57===_0x3282ae;},'eWtDM':_0x1a6116(0x12e),'nJaZC':_0x1a6116(0x10e),'XkvCs':_0x1a6116(0xd0),'vvWaW':_0x1a6116(0x10b)+_0x1a6116(0x106),'ubxxS':_0x1a6116(0xcf)+_0x1a6116(0x117)+_0x1a6116(0x143)};try{if(_0x567870[_0x1a6116(0xde)](_0x567870[_0x1a6116(0xfb)],_0x1a6116(0x102))){const _0x20ff0e=_0x4e56ff?function(){if(_0x37f718){const res=_0x4f7405['apply'](_0x4c7add,arguments);return _0x4ee78a=null,res;}}:function(){};return _0x1f1c8e=![],_0x20ff0e;}else{await this[_0x1a6116(0xec)+'cumentOw'+_0x1a6116(0xc4)](_0x20a54d,_0x2203b6);const _0x4a0ae2=await prisma_1[_0x1a6116(0xc3)][_0x1a6116(0x13f)+_0x1a6116(0xd2)][_0x1a6116(0xf8)]({'where':{'id':_0x20a54d},'data':{..._0x1b1abb,..._0x1b1abb['status']===DocumentStatus[_0x1a6116(0x136)]&&{'processedAt':new Date()},..._0x1b1abb[_0x1a6116(0xeb)]&&{'lastAccessedAt':new Date()}}});return _0x4a0ae2;}}catch(_0x5d61b2){if(_0x567870['nJaZC']!==_0x567870[_0x1a6116(0x135)]){const _0x5f1d2c=_0x5d61b2 instanceof Error?_0x5d61b2[_0x1a6116(0xdd)]:_0x567870[_0x1a6116(0x13d)];console['error'](_0x567870[_0x1a6116(0x101)],_0x5d61b2);throw new Error(_0x1a6116(0x109)+_0x1a6116(0xbb)+_0x1a6116(0xa9)+_0x1a6116(0x110)+_0x5f1d2c);}else _0x25f23e['instance']=new _0x2a6c1e();}}async[_0x1f5f5c(0x14a)+_0x1f5f5c(0xe8)](_0x14ce10,_0xab2b6){const _0x92c8f7=_0x1f5f5c,_0x23eb47={'fYRpr':function(_0x15b494,_0x50b1ab){return _0x15b494 instanceof _0x50b1ab;},'lZZVl':_0x92c8f7(0x130)+_0x92c8f7(0x117)+_0x92c8f7(0x143)};try{return await this['getDocum'+'entById'](_0x14ce10,_0xab2b6),await prisma_1[_0x92c8f7(0xc3)][_0x92c8f7(0x13f)+_0x92c8f7(0xd2)][_0x92c8f7(0xdf)]({'where':{'id':_0x14ce10}}),!![];}catch(_0x320dfb){const _0x269764=_0x23eb47[_0x92c8f7(0x131)](_0x320dfb,Error)?_0x320dfb[_0x92c8f7(0xdd)]:_0x92c8f7(0x10b)+_0x92c8f7(0x106);console[_0x92c8f7(0x106)](_0x23eb47[_0x92c8f7(0xfd)],_0x320dfb);throw new Error(_0x92c8f7(0x109)+'o\x20delete'+_0x92c8f7(0xa9)+_0x92c8f7(0x110)+_0x269764);}}async[_0x1f5f5c(0xa4)+'atus'](_0x37dcda,_0x149ed1,_0x51f20c){const _0x41fcd3=_0x1f5f5c,_0xc3cbff={'WIXGN':function(_0x41c0a5,_0x955e83){return _0x41c0a5 instanceof _0x955e83;},'jtOnX':_0x41fcd3(0xc0)+'tatus\x20er'+_0x41fcd3(0xce)};try{await prisma_1[_0x41fcd3(0xc3)]['userDocu'+'ment'][_0x41fcd3(0xf8)]({'where':{'id':_0x37dcda},'data':{'status':_0x149ed1,..._0x149ed1===DocumentStatus[_0x41fcd3(0x136)]&&{'processedAt':new Date()}}});}catch(_0xaf32b9){const _0xb7e709=_0xc3cbff[_0x41fcd3(0xa7)](_0xaf32b9,Error)?_0xaf32b9[_0x41fcd3(0xdd)]:_0x41fcd3(0x10b)+_0x41fcd3(0x106);console[_0x41fcd3(0x106)](_0xc3cbff[_0x41fcd3(0xef)],_0xaf32b9);throw new Error(_0x41fcd3(0x109)+'o\x20update'+_0x41fcd3(0x114)+'\x20'+_0xb7e709);}}async[_0x1f5f5c(0x107)+_0x1f5f5c(0x137)+_0x1f5f5c(0xe4)](_0xf62879){const _0x281a50=_0x1f5f5c,_0x4b6d42={'GzIIN':function(_0x103f40,_0x2c4074){return _0x103f40===_0x2c4074;},'FQFKN':_0x281a50(0xf5)};try{await prisma_1['prisma'][_0x281a50(0x13f)+'ment'][_0x281a50(0xf8)]({'where':{'id':_0xf62879},'data':{'queryCount':{'increment':0x1},'lastAccessedAt':new Date()}});}catch(_0x482e89){if(_0x4b6d42[_0x281a50(0x132)](_0x4b6d42[_0x281a50(0x14d)],_0x4b6d42[_0x281a50(0x14d)]))console['error']('Incremen'+'t\x20query\x20'+'count\x20er'+_0x281a50(0xce),_0x482e89);else return _0x3d47ac['error'](_0x281a50(0xbf)+'error:',_0x416df6),0x0;}}async[_0x1f5f5c(0x13a)+_0x1f5f5c(0x140)+_0x1f5f5c(0xf9)](_0x3bd13f){const _0x2fcf67=_0x1f5f5c;try{return await prisma_1[_0x2fcf67(0xc3)][_0x2fcf67(0x13f)+'ment'][_0x2fcf67(0xfa)]({'where':{'userId':_0x3bd13f}});}catch(_0x5e7868){return console[_0x2fcf67(0x106)]('Get\x20docu'+_0x2fcf67(0xb0)+_0x2fcf67(0x10d)+':',_0x5e7868),0x0;}}async['getUserS'+'tats'](_0x4defd6){const _0xd16638=_0x1f5f5c,_0x6b1a03={'lpvWt':function(_0x51c27c,_0x31da06){return _0x51c27c instanceof _0x31da06;},'CpPjU':_0xd16638(0x10b)+_0xd16638(0x106),'RdVzM':'Get\x20docu'+_0xd16638(0x121)+'or:','lkpTY':function(_0x452c6d,_0x51cdb3){return _0x452c6d!==_0x51cdb3;},'sPfqu':_0xd16638(0xcd),'CtIGy':_0xd16638(0xff),'XgznC':function(_0x39cb3d,_0x4f1332){return _0x39cb3d instanceof _0x4f1332;}};try{if(_0x6b1a03['lkpTY'](_0x6b1a03[_0xd16638(0x133)],_0x6b1a03[_0xd16638(0xe9)])){const _0x42a5a4=await prisma_1['prisma'][_0xd16638(0x13f)+_0xd16638(0xd2)][_0xd16638(0xf3)]({'where':{'userId':_0x4defd6}}),_0x2991ac={'totalDocuments':_0x42a5a4['length'],'readyDocuments':_0x42a5a4[_0xd16638(0x14c)](_0x2d8488=>_0x2d8488['status']===DocumentStatus[_0xd16638(0x136)])[_0xd16638(0x11d)],'processingDocuments':_0x42a5a4[_0xd16638(0x14c)](_0x2d4b69=>_0x2d4b69[_0xd16638(0xeb)]===DocumentStatus[_0xd16638(0xa3)+'NG'])[_0xd16638(0x11d)],'failedDocuments':_0x42a5a4['filter'](_0x2d1dc6=>_0x2d1dc6[_0xd16638(0xeb)]===DocumentStatus['FAILED'])[_0xd16638(0x11d)],'totalQueries':_0x42a5a4[_0xd16638(0xc2)]((_0x899f32,_0x833917)=>_0x899f32+(_0x833917[_0xd16638(0xa5)+'nt']||0x0),0x0),'totalWords':_0x42a5a4[_0xd16638(0xc2)]((_0x278323,_0x1d79b3)=>_0x278323+(_0x1d79b3[_0xd16638(0xb5)+'t']||0x0),0x0)};return _0x2991ac;}else{const _0x230292=_0x6b1a03['lpvWt'](_0x561caf,_0x1be8e4)?_0x5beb94[_0xd16638(0xdd)]:_0x6b1a03[_0xd16638(0x148)];_0x459e56[_0xd16638(0x106)](_0x6b1a03[_0xd16638(0xad)],_0x536e93);throw new _0x4a09b0(_0xd16638(0x109)+_0xd16638(0x11b)+'cument:\x20'+_0x230292);}}catch(_0xbbc76){const _0x478083=_0x6b1a03[_0xd16638(0x12d)](_0xbbc76,Error)?_0xbbc76[_0xd16638(0xdd)]:_0x6b1a03[_0xd16638(0x148)];console[_0xd16638(0x106)]('Get\x20user'+'\x20stats\x20e'+_0xd16638(0xc1),_0xbbc76);throw new Error(_0xd16638(0x109)+_0xd16638(0x12c)+_0xd16638(0xcc)+_0x478083);}}async[_0x1f5f5c(0xec)+_0x1f5f5c(0x150)+'nership'](_0x44a8e6,_0x2620f8){const _0x3c489e=_0x1f5f5c,_0x10f8cf=await prisma_1['prisma'][_0x3c489e(0x13f)+_0x3c489e(0xd2)]['findFirs'+'t']({'where':{'id':_0x44a8e6}});if(!_0x10f8cf)throw new Error(_0x3c489e(0xe3)+_0x3c489e(0xdb)+'nd');if(_0x10f8cf[_0x3c489e(0xc7)]!==_0x2620f8)throw new Error(_0x3c489e(0x112)+_0x3c489e(0xb1)+'ocument\x20'+_0x3c489e(0xa6)+'\x20belong\x20'+_0x3c489e(0xd8));}async[_0x1f5f5c(0xc9)+_0x1f5f5c(0xf0)+_0x1f5f5c(0x141)](){const _0x4c9904=_0x1f5f5c,_0x2cfa4d={'celQd':_0x4c9904(0x11a)};try{if(_0x2cfa4d[_0x4c9904(0xd7)]!==_0x2cfa4d['celQd'])return{...this[_0x4c9904(0xa8)]};else{const _0x25d706=new Date();_0x25d706[_0x4c9904(0x126)](_0x25d706[_0x4c9904(0xe0)]()-this[_0x4c9904(0xa8)]['autoDele'+'teAfterD'+_0x4c9904(0xb3)]);const _0x546ea0=await prisma_1[_0x4c9904(0xc3)][_0x4c9904(0x13f)+_0x4c9904(0xd2)][_0x4c9904(0xae)+'ny']({'where':{'uploadedAt':{'lt':_0x25d706}}});return _0x546ea0[_0x4c9904(0xfa)];}}catch(_0x3eb18e){return console['error']('Cleanup\x20'+_0x4c9904(0x143),_0x3eb18e),0x0;}}[_0x1f5f5c(0xc6)+'g'](){const _0x48cd6f=_0x1f5f5c;return{...this[_0x48cd6f(0xa8)]};}}exports[_0x1f5f5c(0xf7)+'ManagerS'+_0x1f5f5c(0x100)]=DocumentManagerService['getInsta'+'nce']();