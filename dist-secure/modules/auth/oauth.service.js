const _0x4629be=_0x136a;(function(_0x5f0724,_0x4f5b29){const _0x59e498=_0x136a,_0xf054e8=_0x5f0724();while(!![]){try{const _0x1eb923=-parseInt(_0x59e498(0x1c8))/0x1*(parseInt(_0x59e498(0x1c5))/0x2)+-parseInt(_0x59e498(0x1e1))/0x3*(parseInt(_0x59e498(0x1c9))/0x4)+-parseInt(_0x59e498(0x170))/0x5+parseInt(_0x59e498(0x17f))/0x6+parseInt(_0x59e498(0x1c3))/0x7*(parseInt(_0x59e498(0x19f))/0x8)+-parseInt(_0x59e498(0x1a9))/0x9+-parseInt(_0x59e498(0x188))/0xa*(-parseInt(_0x59e498(0x1a8))/0xb);if(_0x1eb923===_0x4f5b29)break;else _0xf054e8['push'](_0xf054e8['shift']());}catch(_0x39c43b){_0xf054e8['push'](_0xf054e8['shift']());}}}(_0xe18f,0xbe249));const _0x4c1a60=(function(){const _0x43ec89=_0x136a,_0x44762d={'otPDU':_0x43ec89(0x10e)};let _0x2060c7=!![];return function(_0x3ddb0d,_0x42b90f){const _0x4a219e=_0x43ec89,_0x688e93={'RtafP':_0x4a219e(0x1a4)+'il','UlLNU':'üîê\x20GitHub'+'\x20OAuth\x20U'+_0x4a219e(0x164)+_0x4a219e(0x14d),'ENHTE':_0x4a219e(0x1cd),'lZyIk':_0x44762d[_0x4a219e(0x198)]},_0x464428=_0x2060c7?function(){const _0x293e4a=_0x4a219e;if('KFUmO'===_0x688e93[_0x293e4a(0x16a)])this[_0x293e4a(0xf1)]=new _0x12ce33['PKCEUtil']();else{if(_0x42b90f){if('qdJBQ'!==_0x688e93['lZyIk']){const res=_0x42b90f[_0x293e4a(0x13f)](_0x3ddb0d,arguments);return _0x42b90f=null,res;}else{const _0x41d8b2=this[_0x293e4a(0xf1)][_0x293e4a(0x1b2)+_0x293e4a(0x159)+_0x293e4a(0x122)](),_0x45d93c=this['pkceUtil'][_0x293e4a(0x1b2)+_0x293e4a(0x127)+'lenge'](_0x41d8b2),_0x2c1e15=this[_0x293e4a(0xf1)]['generate'+_0x293e4a(0x171)](),_0x457153=new _0x3c6e86({'client_id':_0x500017[_0x293e4a(0x1b3)][_0x293e4a(0x1dd)+_0x293e4a(0x1e0)],'redirect_uri':_0x2355a9[_0x293e4a(0x1b3)][_0x293e4a(0x1dd)+'ALLBACK_'+_0x293e4a(0x14c)],'scope':_0x688e93[_0x293e4a(0x163)],'state':_0x2c1e15}),_0x228f65=_0x293e4a(0xf3)+_0x293e4a(0x144)+'om/login'+_0x293e4a(0x15a)+_0x293e4a(0x15b)+'?'+_0x457153[_0x293e4a(0xe6)]();return _0x2e0fe7[_0x293e4a(0x132)](_0x688e93[_0x293e4a(0x1aa)]),{'url':_0x228f65,'codeVerifier':_0x41d8b2,'state':_0x2c1e15};}}}}:function(){};return _0x2060c7=![],_0x464428;};}()),_0x4714e9=_0x4c1a60(this,function(){const _0x27eb34=_0x136a;return _0x4714e9[_0x27eb34(0xe6)]()[_0x27eb34(0x1c2)](_0x27eb34(0x10c)+'+)+$')[_0x27eb34(0xe6)]()[_0x27eb34(0x102)+_0x27eb34(0x146)](_0x4714e9)[_0x27eb34(0x1c2)](_0x27eb34(0x10c)+_0x27eb34(0x133));});function _0x136a(_0x4eccdc,_0xb25589){_0x4eccdc=_0x4eccdc-0xe3;const _0x27b911=_0xe18f();let _0x4714e9=_0x27b911[_0x4eccdc];if(_0x136a['GxOTHZ']===undefined){var _0x4c1a60=function(_0x4442b0){const _0xb85c18='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5e8572='',_0x3604fe='',_0x8bd379=_0x5e8572+_0x4c1a60;for(let _0x8026d4=0x0,_0x22f307,_0x507173,_0x1d5fe1=0x0;_0x507173=_0x4442b0['charAt'](_0x1d5fe1++);~_0x507173&&(_0x22f307=_0x8026d4%0x4?_0x22f307*0x40+_0x507173:_0x507173,_0x8026d4++%0x4)?_0x5e8572+=_0x8bd379['charCodeAt'](_0x1d5fe1+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x22f307>>(-0x2*_0x8026d4&0x6)):_0x8026d4:0x0){_0x507173=_0xb85c18['indexOf'](_0x507173);}for(let _0x59f761=0x0,_0x119aa1=_0x5e8572['length'];_0x59f761<_0x119aa1;_0x59f761++){_0x3604fe+='%'+('00'+_0x5e8572['charCodeAt'](_0x59f761)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3604fe);};_0x136a['vPARlV']=_0x4c1a60,_0x136a['XukYYS']={},_0x136a['GxOTHZ']=!![];}const _0xe18fcf=_0x27b911[0x0],_0x136aae=_0x4eccdc+_0xe18fcf,_0x273349=_0x136a['XukYYS'][_0x136aae];if(!_0x273349){const _0x1accf6=function(_0x4e4425){this['xwvukH']=_0x4e4425,this['qALrxf']=[0x1,0x0,0x0],this['PfRhDN']=function(){return'newState';},this['gRQjjf']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['cbnHal']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1accf6['prototype']['sAvQmA']=function(){const _0x1e2ef7=new RegExp(this['gRQjjf']+this['cbnHal']),_0x30bcab=_0x1e2ef7['test'](this['PfRhDN']['toString']())?--this['qALrxf'][0x1]:--this['qALrxf'][0x0];return this['wAFHDG'](_0x30bcab);},_0x1accf6['prototype']['wAFHDG']=function(_0x44fc8d){if(!Boolean(~_0x44fc8d))return _0x44fc8d;return this['MnjczA'](this['xwvukH']);},_0x1accf6['prototype']['MnjczA']=function(_0xc65383){for(let _0x538157=0x0,_0x108dff=this['qALrxf']['length'];_0x538157<_0x108dff;_0x538157++){this['qALrxf']['push'](Math['round'](Math['random']())),_0x108dff=this['qALrxf']['length'];}return _0xc65383(this['qALrxf'][0x0]);},new _0x1accf6(_0x136a)['sAvQmA'](),_0x4714e9=_0x136a['vPARlV'](_0x4714e9),_0x136a['XukYYS'][_0x136aae]=_0x4714e9;}else _0x4714e9=_0x273349;return _0x4714e9;}_0x4714e9();'use strict';function _0xe18f(){const _0x14570f=['rwLwtLm','8j+tPYbvC2vYigK','B20VB2f1DgG','zxHJAgfUz2u','t0f1DgHtzxi','D2njrM8','z2vUzxjHDgu','zw52','BgvKoIa','vevsihbSyw4','z29Vz2XL','A2nLlxv0AwW','AgfUzgXLr28','quXmqKfds18','4PYfiev4Axn0Aq','yxbWBgLJyxq','yIbHDxrOifu','zMLSzq','yxrPB25Fy28','z2XLigf1DgG','DwiUy29Tl3u','C0H5ufy','C2vHCMnO','ntyXneLsDxHuvW','l3v0AwXZl3a','otqWEKzhEwHl','wfHmA1u','ywnJB3vUDhm','mteZm1bYsxz5rq','mty0mfvgyK5zCG','BwfPBcbWCM8','CJOG','DxnLCIbPBMy','CvfhB0u','ihrVigv4Axm','z29Vz2XLqxy','DY1MB3jTlxu','t1nxAMm','ChjPC21H','B20VBg9NAw4','D3qUDxrPBa','Bg9Nz2vKigK','ywnJzxnZx3q','qc9ZAgfYzwq','shvIigf1DgG','DxnHz2u','mI92mI91C2u','C2LUzYbhAxq','8j+uLYbmAw5RAw4','r0Lusfvcx0m','8j+gLsbdCMvHDgK','qNPTs1y','teLftLrFsuq','mteYodnHvNLlDwu','ifvstdO','ywXSyMfJAYa','DgHvCMW','vg9Rzw4GzxG','vg1MsuW','tu1Ltee','yxzHDgfYx3u','qMLyCgG','yxrHCG','Dg9tDhjPBMC','CMvNAw9U','DxnLCG','AxrOifnuqvi','B2DSzunHBgW','De5yAuO','vgLQBxG','vLPvtNy','8j+uKcbhAxriDwi','zMLUzezPCNm','u3rHDhvZ','CgTJzvv0AwW','shLJENu','Ahr0Chm6lY8','r2L0shvIqxu','zxjYB3jFzgu','ywLSzwq6ia','txHSz2m','AwrgAgy','yxv0AfbYB3y','BMCGBMv3ihu','ExveAfK','B3bLBMLKigu','vxnLCIbUB3q','ALLHAhy','zgvMAw5Luhi','Aw9Ul2PZB24','r09pr0Xfx0m','y29UC3rYDwm','ww1dsg0','CgLJDhvYzq','tgzXAvm','r29Vz2XLie8','C2vYoIa','wLrbrum','zxjYB3i','uZi1nG','Cwngzxm','kcGOlISPkYK','vLzxzxu','tfDzyw4','yxv0Ad8','4P2mieDPDeH1yG','vw5RBM93BIa','ueTdrvv0AwW','v21gyxG','Dez6vM8','AxriDwi','DgLVBLbSyw4','ihjLy2vPDMu','B29NBgvHCgK','y3vYCMvUy3K','BYbNzw5LCMe','z3Prq2i','BMfTzq','qMvHCMvYia','y2HHBMDLigy','BKnYwfi','4P2mieDVB2DSzq','DxnLCIbWCM8','zMLLCG','uMvNAw9U','zw1HAwW','zMfPBgvKoG','qxv0AcbMywK','q29KzunOywW','CY5JB20VDg8','CM9TieDPDeG','tM8Gzw1HAwW','BMCGBMv3ieC','teLftLrFu0u','ueTdrs4UlG','C21H','C3Hou1O','A2vU','BgvHCgLZlMm','Bg9N','kYKRja','DguGr29Vz2W','v1Howgu','4P2miezHAwXLza','BwvZC2fNzq','yxrLzcb3Axq','ugXHBLr5Cgu','CMLUzM8','DgLUzYb1C2u','uKW6ia','igzVDw5Kigy','DxbKyxrL','yxbWBhK','ExnArMG','yxnrvem','BYbMzxrJAca','4PYfifrVA2vUCW','z2L0AhvIlMm','rur0vLe','Dg9Y','y29Kzq','BMzVihjLy2u','r29Vz2XLqxu','CgXHBLn0yxq','Acbqs0nf','vvjm','yxrLza','BgvUz2u','Ce9fDxu','y2SUlI4','ie9bDxrOifu','zsbHDxrOifu','DxrOmI92mI8','ie9bDxrOigm','y2SGD2L0Aca','CMvHDgvKihC','yxbPlMDPDgG','ugXHBLn0yxq','q29KzvzLCMK','l29HDxrOl2e','DxrOB3jPEMu','AxriDwiGDxm','B29NBgu','vfjvu1rfra','DeH1yKnHBgW','B0T0s0S','y2XPzw50','C2vY','uNrHzLa','uKWGz2vUzxi','r2L0shvIie8','z2v0vgLTzq','ChjPBwfYEq','A2vUigDLBMu','quTMEue','ru5iveu','B2f1DgGYlMC','q3vYCMvUy3K','zcbMCM9TieC','zgTUD0y','yMfbC04','mZa2odG1nxbOrw5WEq','u3rHDgu','CM9MAwXL','BvbyD2q','Eu9cvvy','z2L0AhvI','zMP2v1e','zMLUza','AxzLzdOG','ue9tva','ANnVBG','y3jLyxrL','CMf0zwq','C3vIC2nYAxa','su5s','ntGWmduWnNjwEw9PvG','x19LC01Vzhu','ywH5sKG','u1rbuLrfuG','s3DQsvC','DMLJzq','AcbJywXSyMe','wgrQvg4','C3rHCNrLCG','mtK5mentDgnfCW','whH6y2i','BMzPzY9WCMK','B2TLBG','CMf0zsbhAxq','zMLUzfvUAxe','tKvx','ihrVigDLBMu','yMfJAW','rMfPBgvKihq','igzVDw5K','EK53wvy','4P2mifrVA2vUia','8j+uKcbhB29NBgu','lI4VlI4Vy28','DguGr2L0shu','B3rqrfu','v2nfCeK','igzHAwXLzdO','CMf0zsbhB28','qu9ztuu','C2LUzYbhB28','CxnwD2q','mteZnNHnEePjqq','zMLSztOG','C3rYAw5NAwy','t2fztNy','u2vJDxjPDhK','DxnLCJPLBwe','D3D3lMDVB2C','B29vsNe','C2nYAxb0Aw8','mtqXmZK0vuXVChfW','mtu0mZe4nvHzB0vZCa','vwXmtLu','shvIie9bDxq'];_0xe18f=function(){return _0x14570f;};return _0xe18f();}Object[_0x4629be(0xff)+'operty'](exports,_0x4629be(0x180)+'le',{'value':!![]}),exports[_0x4629be(0x1b0)+_0x4629be(0x184)]=void 0x0;const prisma_1=require(_0x4629be(0x196)+_0x4629be(0x18a)+_0x4629be(0x12e)),jwt_util_1=require(_0x4629be(0x1d7)+'/utils/j'+_0x4629be(0x1d4)),pkce_util_1=require(_0x4629be(0x1d7)+_0x4629be(0x1c4)+_0x4629be(0x1b7)),client_1=require('@prisma/'+_0x4629be(0x161));class OAuthService{constructor(){const _0x3c0e96=_0x4629be;this[_0x3c0e96(0xf1)]=new pkce_util_1[(_0x3c0e96(0x112))]();}async[_0x4629be(0x1b2)+_0x4629be(0x149)+_0x4629be(0x1e4)](){const _0x3ee767=_0x4629be,_0x222e1f={'zNwYV':function(_0x56ae4c,_0xea6382){return _0x56ae4c instanceof _0xea6382;},'VVWeu':_0x3ee767(0x111)+_0x3ee767(0x109),'NmQJa':_0x3ee767(0x147),'nCrXR':_0x3ee767(0xfc)+_0x3ee767(0x1ca)+_0x3ee767(0x1bd),'sfWpt':_0x3ee767(0x10a),'ahyJH':_0x3ee767(0x195)+_0x3ee767(0x151)+_0x3ee767(0x164)+_0x3ee767(0x138)+_0x3ee767(0x14b),'pOEuu':function(_0x46de7e,_0x7d3d1){return _0x46de7e!==_0x7d3d1;},'WcEpI':'CvpVV'};try{if(_0x3ee767(0x108)!==_0x3ee767(0x140)){const _0x23665c=this[_0x3ee767(0xf1)][_0x3ee767(0x1b2)+_0x3ee767(0x159)+_0x3ee767(0x122)](),_0x167300=this['pkceUtil'][_0x3ee767(0x1b2)+_0x3ee767(0x127)+_0x3ee767(0x14e)](_0x23665c),_0x4131b8=this[_0x3ee767(0xf1)][_0x3ee767(0x1b2)+'State'](),_0x1145cb=new URLSearchParams({'client_id':process[_0x3ee767(0x1b3)][_0x3ee767(0x101)+_0x3ee767(0x1e0)],'redirect_uri':process[_0x3ee767(0x1b3)][_0x3ee767(0x101)+_0x3ee767(0x1b9)+_0x3ee767(0x14c)],'response_type':_0x222e1f['NmQJa'],'scope':_0x222e1f[_0x3ee767(0x11f)],'access_type':'offline','state':_0x4131b8,'code_challenge':_0x167300,'code_challenge_method':_0x222e1f['sfWpt']}),_0x20e12f=_0x3ee767(0xf3)+_0x3ee767(0x1c7)+'.google.'+'com/o/oa'+_0x3ee767(0x153)+_0x3ee767(0x10f)+_0x1145cb['toString']();return console[_0x3ee767(0x132)](_0x222e1f[_0x3ee767(0x181)]),{'url':_0x20e12f,'codeVerifier':_0x23665c,'state':_0x4131b8};}else{const _0x4b000e=_0x222e1f[_0x3ee767(0x193)](_0x248fe8,_0xd02e81)?_0x240899[_0x3ee767(0x137)]:_0x222e1f[_0x3ee767(0x10d)];throw new _0x586e00('Failed\x20t'+_0x3ee767(0x142)+_0x3ee767(0x121)+_0x3ee767(0x1a0)+_0x4b000e);}}catch(_0x517186){if(_0x222e1f[_0x3ee767(0x14f)]('bcWkw',_0x222e1f[_0x3ee767(0x199)])){const _0x4c1e5e=_0x517186 instanceof Error?_0x517186[_0x3ee767(0x137)]:_0x222e1f[_0x3ee767(0x10d)];console[_0x3ee767(0x109)](_0x3ee767(0x136)+_0x3ee767(0x18f)+_0x3ee767(0x19b)+_0x3ee767(0x1bf)+_0x3ee767(0x1e2),_0x517186);throw new Error(_0x3ee767(0x191)+_0x3ee767(0x11a)+'te\x20Googl'+_0x3ee767(0x152)+_0x3ee767(0x13c)+_0x4c1e5e);}else{if(_0x257fcd){const res=_0x2bb9b5[_0x3ee767(0x13f)](_0x3ee1f2,arguments);return _0x450548=null,res;}}}}async[_0x4629be(0x1b8)+_0x4629be(0xea)+_0x4629be(0x190)](_0x2ccb55,_0xa96da,_0x548b2d,_0xcd9995){const _0x5ed3a5=_0x4629be,_0x1e8f08={'TmfIL':function(_0x23f6df,_0x27c74){return _0x23f6df instanceof _0x27c74;},'ooUJq':_0x5ed3a5(0x120)+_0x5ed3a5(0x154)+_0x5ed3a5(0x1e3)+_0x5ed3a5(0x125),'Tijmx':function(_0x5b4200,_0x4175de,_0x358c06){return _0x5b4200(_0x4175de,_0x358c06);},'nnKgh':_0x5ed3a5(0x1bb)+'ion/x-ww'+_0x5ed3a5(0x1d0)+'rlencode'+'d','BzmKV':_0x5ed3a5(0x194)+_0x5ed3a5(0x1af)+_0x5ed3a5(0x19a),'gzQCb':'https://'+_0x5ed3a5(0x1a5)+_0x5ed3a5(0x131)+_0x5ed3a5(0x1ae)+_0x5ed3a5(0x1da)+_0x5ed3a5(0x13a),'XXLkU':_0x5ed3a5(0x191)+_0x5ed3a5(0x142)+_0x5ed3a5(0x1cc)+'o\x20from\x20G'+_0x5ed3a5(0x15d),'yOBUV':function(_0x1185c8,_0x1c96a4){return _0x1185c8||_0x1c96a4;},'UegpF':function(_0x4c1500,_0x39d87e){return _0x4c1500===_0x39d87e;},'pgJby':'EiVNS','SdFuX':_0x5ed3a5(0x187),'wcIFo':function(_0x494d96,_0x39d407){return _0x494d96+_0x39d407;},'AKfyA':function(_0x23f375,_0x1c31ef){return _0x23f375*_0x1c31ef;},'XdjTn':function(_0x106451,_0x69c318){return _0x106451===_0x69c318;}};try{if(_0x5ed3a5(0x173)!==_0x5ed3a5(0x173)){const _0x317ce9=_0x1e8f08[_0x5ed3a5(0x1e6)](_0x4707c6,_0x3f9f1a)?_0x195175[_0x5ed3a5(0x137)]:_0x5ed3a5(0x111)+'error';_0x2a856b[_0x5ed3a5(0x109)](_0x1e8f08[_0x5ed3a5(0x1a6)],_0x159f59);throw new _0x46d802(_0x5ed3a5(0x106)+_0x5ed3a5(0x126)+_0x5ed3a5(0x1b4)+_0x317ce9);}else{console[_0x5ed3a5(0x132)]('üîÑ\x20Proces'+_0x5ed3a5(0x19d)+'gle\x20OAut'+_0x5ed3a5(0x185)+_0x5ed3a5(0x155)+_0x5ed3a5(0x12d));const _0x83b318=await _0x1e8f08[_0x5ed3a5(0xec)](fetch,_0x5ed3a5(0xf3)+_0x5ed3a5(0x16b)+_0x5ed3a5(0x118)+_0x5ed3a5(0x128)+_0x5ed3a5(0x130),{'method':'POST','headers':{'Content-Type':_0x1e8f08['nnKgh']},'body':new URLSearchParams({'code':_0x2ccb55,'client_id':process[_0x5ed3a5(0x1b3)][_0x5ed3a5(0x101)+_0x5ed3a5(0x1e0)],'client_secret':process[_0x5ed3a5(0x1b3)][_0x5ed3a5(0x101)+'LIENT_SE'+'CRET'],'redirect_uri':process['env'][_0x5ed3a5(0x101)+_0x5ed3a5(0x1b9)+'URL'],'grant_type':'authoriz'+_0x5ed3a5(0x1be)+'de','code_verifier':_0xa96da})});if(!_0x83b318['ok']){const _0x2c93b7=await _0x83b318[_0x5ed3a5(0x17a)]();console['error'](_0x1e8f08[_0x5ed3a5(0x1df)],_0x2c93b7);throw new Error(_0x5ed3a5(0x1e5)+_0x5ed3a5(0x11e)+_0x5ed3a5(0xf6)+(_0x2c93b7[_0x5ed3a5(0xf5)+_0x5ed3a5(0x1a7)+'n']||_0x2c93b7[_0x5ed3a5(0x109)]));}const _0x484b57=await _0x83b318[_0x5ed3a5(0x17a)]();console[_0x5ed3a5(0x132)](_0x5ed3a5(0x143)+_0x5ed3a5(0x117)+_0x5ed3a5(0x16d)+'oogle');const _0x2a363a=await fetch(_0x1e8f08[_0x5ed3a5(0x11b)],{'headers':{'Authorization':'Bearer\x20'+_0x484b57[_0x5ed3a5(0x1d6)+'oken']}});if(!_0x2a363a['ok'])throw new Error(_0x1e8f08[_0x5ed3a5(0x1c6)]);const _0x552967=await _0x2a363a[_0x5ed3a5(0x17a)]();console['log'](_0x5ed3a5(0x1ad)+'nfo\x20rece'+_0x5ed3a5(0x178)+_0x552967[_0x5ed3a5(0x124)]);const _0x77de54=_0x1e8f08[_0x5ed3a5(0x174)](_0xcd9995,{'region':client_1[_0x5ed3a5(0x123)]['IN'],'currency':client_1[_0x5ed3a5(0x16c)][_0x5ed3a5(0x17e)]});let _0x4bc4d0=await prisma_1['prisma'][_0x5ed3a5(0xe8)]['findUniq'+'ue']({'where':{'googleId':_0x552967['id']}});const _0x23c307=new Date();if(!_0x4bc4d0){const _0xd14090=await prisma_1[_0x5ed3a5(0x1d2)][_0x5ed3a5(0xe8)]['findUniq'+'ue']({'where':{'email':_0x552967['email']}});if(_0xd14090)console['log'](_0x5ed3a5(0x1dc)+'g\x20Google'+_0x5ed3a5(0x1ce)+_0x5ed3a5(0x13b)+_0x5ed3a5(0x1cb)+_0x552967[_0x5ed3a5(0x124)]),_0x4bc4d0=await prisma_1['prisma'][_0x5ed3a5(0xe8)]['update']({'where':{'id':_0xd14090['id']},'data':{'googleId':_0x552967['id'],'googleEmail':_0x552967['email'],'googleAvatar':_0x552967[_0x5ed3a5(0x104)],'authProvider':'google','name':_0x552967[_0x5ed3a5(0x11c)]||_0xd14090[_0x5ed3a5(0x11c)]}});else{if(_0x1e8f08['UegpF'](_0x5ed3a5(0x1ac),_0x1e8f08['pgJby']))console['log'](_0x5ed3a5(0x1de)+_0x5ed3a5(0xfa)+_0x5ed3a5(0x107)+_0x552967['email']),_0x4bc4d0=await prisma_1[_0x5ed3a5(0x1d2)][_0x5ed3a5(0xe8)][_0x5ed3a5(0x17b)]({'data':{'email':_0x552967[_0x5ed3a5(0x124)],'googleId':_0x552967['id'],'googleEmail':_0x552967['email'],'googleAvatar':_0x552967[_0x5ed3a5(0x104)],'name':_0x552967[_0x5ed3a5(0x11c)],'authProvider':_0x5ed3a5(0x1b6),'region':_0x77de54[_0x5ed3a5(0xe7)],'currency':_0x77de54[_0x5ed3a5(0x119)],'planType':client_1[_0x5ed3a5(0x139)]['STARTER'],'subscriptionPlan':'starter','planStatus':client_1[_0x5ed3a5(0x158)+'us']['ACTIVE'],'planStartDate':_0x23c307,'planEndDate':null,'securityStatus':client_1[_0x5ed3a5(0x1a3)+'Status'][_0x5ed3a5(0x15e)],'suspiciousActivityCount':0x0,'jailbreakAttempts':0x0,'activityTrend':client_1['Activity'+'Trend'][_0x5ed3a5(0x18e)],'sessionCount':0x0,'memoryDays':0x7,'responseDelay':0x0}}),await prisma_1[_0x5ed3a5(0x1d2)][_0x5ed3a5(0x1d9)][_0x5ed3a5(0x17b)]({'data':{'userId':_0x4bc4d0['id'],'planName':_0x1e8f08['SdFuX'],'wordsUsed':0x0,'dailyWordsUsed':0x0,'remainingWords':0x5dc,'monthlyLimit':0xafc8,'dailyLimit':0x5dc,'lastDailyReset':_0x23c307,'lastMonthlyReset':_0x23c307,'cycleStartDate':_0x23c307,'cycleEndDate':new Date(_0x1e8f08[_0x5ed3a5(0x1b1)](_0x23c307[_0x5ed3a5(0x166)](),_0x1e8f08[_0x5ed3a5(0x169)](_0x1e8f08[_0x5ed3a5(0x169)](0x1e*0x18,0x3c),0x3c)*0x3e8))}}),console[_0x5ed3a5(0x132)]('‚úÖ\x20User\x20c'+_0x5ed3a5(0x156)+_0x5ed3a5(0xe9)+_0x5ed3a5(0x1b5));else{const res=_0x52ce19[_0x5ed3a5(0x13f)](_0x47c3a5,arguments);return _0x1f0613=null,res;}}}else{if(_0x1e8f08[_0x5ed3a5(0x186)](_0x5ed3a5(0xf2),_0x5ed3a5(0x16e)))return _0x2f96b5['toString']()[_0x5ed3a5(0x1c2)](_0x5ed3a5(0x10c)+_0x5ed3a5(0x133))[_0x5ed3a5(0xe6)]()[_0x5ed3a5(0x102)+'tor'](_0x6330e4)[_0x5ed3a5(0x1c2)]('(((.+)+)'+'+)+$');else console[_0x5ed3a5(0x132)](_0x5ed3a5(0x1ba)+'ng\x20user\x20'+_0x5ed3a5(0x1d5)+'n:\x20'+_0x4bc4d0['email']);}const _0x2f1452=(0x0,jwt_util_1[_0x5ed3a5(0x1b2)+'AccessTo'+'ken'])({'userId':_0x4bc4d0['id'],'email':_0x4bc4d0[_0x5ed3a5(0x124)],'planType':_0x4bc4d0[_0x5ed3a5(0x17d)+_0x5ed3a5(0x116)]});return console[_0x5ed3a5(0x132)]('‚úÖ\x20JWT\x20to'+_0x5ed3a5(0x168)+_0x5ed3a5(0x17c)),{'success':!![],'token':_0x2f1452,'user':{'id':_0x4bc4d0['id'],'email':_0x4bc4d0[_0x5ed3a5(0x124)],'name':_0x4bc4d0['name'],'avatar':_0x4bc4d0['googleAv'+_0x5ed3a5(0xe5)],'subscriptionPlan':_0x4bc4d0['subscrip'+_0x5ed3a5(0x116)],'planStatus':_0x4bc4d0['planStat'+'us'],'authProvider':_0x4bc4d0[_0x5ed3a5(0xf9)+'ider'],'region':_0x4bc4d0['region'],'currency':_0x4bc4d0[_0x5ed3a5(0x119)]}};}}catch(_0x576f7c){const _0x3fef4e=_0x1e8f08[_0x5ed3a5(0x1e6)](_0x576f7c,Error)?_0x576f7c[_0x5ed3a5(0x137)]:_0x5ed3a5(0x111)+_0x5ed3a5(0x109);console[_0x5ed3a5(0x109)](_0x1e8f08[_0x5ed3a5(0x1a6)],_0x576f7c);throw new Error(_0x5ed3a5(0x106)+_0x5ed3a5(0x126)+_0x5ed3a5(0x1b4)+_0x3fef4e);}}async['generate'+_0x4629be(0xf4)+_0x4629be(0x1e4)](){const _0x1de89d=_0x4629be,_0x5d934f={'OSWjc':_0x1de89d(0x1a4)+'il','Xxzcb':_0x1de89d(0xee)+_0x1de89d(0x151)+'RL\x20gener'+_0x1de89d(0x14d),'EDtVQ':function(_0x5620c0,_0x9872af){return _0x5620c0===_0x9872af;},'yuDhY':function(_0x265a5d,_0x544ccf){return _0x265a5d instanceof _0x544ccf;},'asQTC':_0x1de89d(0x136)+_0x1de89d(0x18f)+_0x1de89d(0x18c)+_0x1de89d(0x1d8)+'\x20URL:'};try{const _0x12648e=this[_0x1de89d(0xf1)][_0x1de89d(0x1b2)+_0x1de89d(0x159)+_0x1de89d(0x122)](),_0xc82b6a=this[_0x1de89d(0xf1)][_0x1de89d(0x1b2)+_0x1de89d(0x127)+_0x1de89d(0x14e)](_0x12648e),_0x5ad5f3=this[_0x1de89d(0xf1)]['generate'+'State'](),_0x3e01c5=new URLSearchParams({'client_id':process['env'][_0x1de89d(0x1dd)+_0x1de89d(0x1e0)],'redirect_uri':process[_0x1de89d(0x1b3)]['GITHUB_C'+_0x1de89d(0x1b9)+'URL'],'scope':_0x5d934f[_0x1de89d(0x1d1)],'state':_0x5ad5f3}),_0x29afbf=_0x1de89d(0xf3)+'github.c'+_0x1de89d(0x1d3)+'/oauth/a'+_0x1de89d(0x15b)+'?'+_0x3e01c5[_0x1de89d(0xe6)]();return console['log'](_0x5d934f[_0x1de89d(0x189)]),{'url':_0x29afbf,'codeVerifier':_0x12648e,'state':_0x5ad5f3};}catch(_0x2ef8c8){if(_0x5d934f[_0x1de89d(0x145)](_0x1de89d(0xf7),'Mxlgc')){const _0x1a2de1=_0x5d934f[_0x1de89d(0xfb)](_0x2ef8c8,Error)?_0x2ef8c8['message']:'Unknown\x20'+_0x1de89d(0x109);console[_0x1de89d(0x109)](_0x5d934f[_0x1de89d(0x141)],_0x2ef8c8);throw new Error(_0x1de89d(0x191)+_0x1de89d(0x11a)+_0x1de89d(0x197)+_0x1de89d(0x1bc)+_0x1de89d(0x13c)+_0x1a2de1);}else{const _0x40aef5=_0x1b55d7 instanceof _0x233c91?_0x15b9bf['message']:_0x1de89d(0x111)+_0x1de89d(0x109);_0x26a4c4[_0x1de89d(0x109)](_0x1de89d(0x110)+_0x1de89d(0x154)+_0x1de89d(0x1e3)+_0x1de89d(0x125),_0x49dfb3);throw new _0x3266c4(_0x1de89d(0x165)+_0x1de89d(0x126)+_0x1de89d(0x1b4)+_0x40aef5);}}}async['handleGi'+_0x4629be(0x15f)+_0x4629be(0x190)](_0x2d4d52,_0x374810,_0x11b571){const _0x4c1966=_0x4629be,_0x24a0ec={'hdyqf':function(_0x287888,_0x2c4367){return _0x287888 instanceof _0x2c4367;},'tFzVo':_0x4c1966(0x136)+'\x20to\x20gene'+_0x4c1966(0x19b)+_0x4c1966(0x1bf)+_0x4c1966(0x1e2),'jNbsK':_0x4c1966(0x12a)+_0x4c1966(0x13d)+_0x4c1966(0x129)+'ub','NYsBU':'üîÑ\x20Proces'+_0x4c1966(0x1db)+_0x4c1966(0x1ab)+_0x4c1966(0x185)+_0x4c1966(0x150),'tNXiJ':_0x4c1966(0xf3)+'github.c'+'om/login'+_0x4c1966(0x15a)+'ccess_to'+'ken','sxNSZ':'applicat'+_0x4c1966(0x100),'qcFes':'‚úÖ\x20Tokens'+_0x4c1966(0x117)+'d\x20from\x20G'+_0x4c1966(0x115),'BiXph':function(_0x531406,_0x1f496f){return _0x531406!==_0x1f496f;},'VZUNv':_0x4c1966(0x19c),'baAsN':function(_0x2eaae5,_0x7c80d,_0x5d3c10){return _0x2eaae5(_0x7c80d,_0x5d3c10);},'WXNXe':function(_0x193ec1,_0x4e5d50){return _0x193ec1===_0x4e5d50;},'KwjIW':_0x4c1966(0x1e7),'oKtKK':function(_0x18c9ac,_0x580d5f){return _0x18c9ac||_0x580d5f;},'jYahv':_0x4c1966(0x175),'WmFax':_0x4c1966(0x187),'UNjJj':function(_0x14ea21,_0x2e0d32){return _0x14ea21+_0x2e0d32;},'KABLs':function(_0x405465,_0x360b2f){return _0x405465 instanceof _0x360b2f;},'fjvWQ':_0x4c1966(0x111)+_0x4c1966(0x109),'LfqiS':_0x4c1966(0x110)+'\x20OAuth\x20c'+_0x4c1966(0x1e3)+_0x4c1966(0x125)};try{console[_0x4c1966(0x132)](_0x24a0ec['NYsBU']);const _0x50bd08=await fetch(_0x24a0ec[_0x4c1966(0xeb)],{'method':_0x4c1966(0x179),'headers':{'Content-Type':_0x24a0ec[_0x4c1966(0x12f)],'Accept':_0x24a0ec[_0x4c1966(0x12f)]},'body':JSON[_0x4c1966(0x1a1)+'y']({'client_id':process[_0x4c1966(0x1b3)][_0x4c1966(0x1dd)+_0x4c1966(0x1e0)],'client_secret':process[_0x4c1966(0x1b3)][_0x4c1966(0x1dd)+_0x4c1966(0x12c)+'CRET'],'code':_0x2d4d52,'redirect_uri':process[_0x4c1966(0x1b3)]['GITHUB_C'+'ALLBACK_'+_0x4c1966(0x14c)]})}),_0x2710e4=await _0x50bd08[_0x4c1966(0x17a)]();if(_0x2710e4[_0x4c1966(0x109)])throw new Error(_0x2710e4[_0x4c1966(0xf5)+_0x4c1966(0x1a7)+'n']||_0x2710e4[_0x4c1966(0x109)]);console['log'](_0x24a0ec[_0x4c1966(0x10b)]);const _0x59207d=await fetch('https://'+_0x4c1966(0x157)+_0x4c1966(0x1c0)+_0x4c1966(0x162),{'headers':{'Authorization':_0x4c1966(0x11d)+_0x2710e4['access_t'+_0x4c1966(0x18b)],'Accept':_0x24a0ec[_0x4c1966(0x12f)]}}),_0x4b7cdd=await _0x59207d[_0x4c1966(0x17a)]();let _0x40fa96=_0x4b7cdd[_0x4c1966(0x124)];if(!_0x40fa96){if(_0x24a0ec[_0x4c1966(0xe4)](_0x4c1966(0xf8),_0x24a0ec[_0x4c1966(0xed)])){const _0x3c108e=await _0x24a0ec[_0x4c1966(0x16f)](fetch,_0x4c1966(0xf3)+_0x4c1966(0x157)+_0x4c1966(0x1c0)+'ser/emai'+'ls',{'headers':{'Authorization':_0x4c1966(0x11d)+_0x2710e4[_0x4c1966(0x1d6)+_0x4c1966(0x18b)],'Accept':_0x4c1966(0x1bb)+'ion/json'}}),_0x4964df=await _0x3c108e[_0x4c1966(0x17a)](),_0x1f32e6=_0x4964df[_0x4c1966(0x177)](_0x54e75a=>_0x54e75a[_0x4c1966(0x167)]);_0x40fa96=_0x1f32e6?.[_0x4c1966(0x124)]||null;}else{const _0xff6661=_0x24a0ec['hdyqf'](_0x1b50d7,_0x41095b)?_0x161be2[_0x4c1966(0x137)]:_0x4c1966(0x111)+_0x4c1966(0x109);_0xd534fc[_0x4c1966(0x109)](_0x24a0ec[_0x4c1966(0x114)],_0x2f4851);throw new _0x3d1386(_0x4c1966(0x191)+_0x4c1966(0x11a)+_0x4c1966(0x134)+_0x4c1966(0x152)+_0x4c1966(0x13c)+_0xff6661);}}if(!_0x40fa96){if(_0x24a0ec[_0x4c1966(0x135)](_0x24a0ec[_0x4c1966(0x183)],_0x4c1966(0x1a2)))throw new _0x4078fb(_0x24a0ec['jNbsK']);else throw new Error(_0x24a0ec['jNbsK']);}console[_0x4c1966(0x132)](_0x4c1966(0x1ad)+_0x4c1966(0x148)+_0x4c1966(0x178)+_0x40fa96);const _0x41706e=_0x24a0ec[_0x4c1966(0x160)](_0x11b571,{'region':client_1[_0x4c1966(0x123)]['IN'],'currency':client_1[_0x4c1966(0x16c)][_0x4c1966(0x17e)]});let _0x20ed62=await prisma_1[_0x4c1966(0x1d2)]['user'][_0x4c1966(0xef)+'t']({'where':{'OR':[{'githubId':_0x4b7cdd['id'][_0x4c1966(0xe6)]()},{'email':_0x40fa96}]}});const _0x39bef3=new Date();if(!_0x20ed62)console[_0x4c1966(0x132)]('üÜï\x20Creati'+_0x4c1966(0x12b)+_0x4c1966(0x15c)+'er:\x20'+_0x40fa96),_0x20ed62=await prisma_1[_0x4c1966(0x1d2)][_0x4c1966(0xe8)]['create']({'data':{'email':_0x40fa96,'githubId':_0x4b7cdd['id']['toString'](),'name':_0x4b7cdd[_0x4c1966(0x11c)]||_0x4b7cdd['login'],'googleAvatar':_0x4b7cdd[_0x4c1966(0xe3)+'rl'],'authProvider':_0x24a0ec[_0x4c1966(0xfe)],'region':_0x41706e[_0x4c1966(0xe7)],'currency':_0x41706e[_0x4c1966(0x119)],'planType':client_1[_0x4c1966(0x139)][_0x4c1966(0x182)],'subscriptionPlan':_0x24a0ec[_0x4c1966(0x113)],'planStatus':client_1['PlanStat'+'us']['ACTIVE'],'planStartDate':_0x39bef3,'securityStatus':client_1[_0x4c1966(0x1a3)+_0x4c1966(0xf0)][_0x4c1966(0x15e)],'activityTrend':client_1['Activity'+'Trend'][_0x4c1966(0x18e)],'memoryDays':0x7,'responseDelay':0x0}}),await prisma_1[_0x4c1966(0x1d2)]['usage'][_0x4c1966(0x17b)]({'data':{'userId':_0x20ed62['id'],'planName':'starter','wordsUsed':0x0,'dailyWordsUsed':0x0,'remainingWords':0x5dc,'monthlyLimit':0xafc8,'dailyLimit':0x5dc,'lastDailyReset':_0x39bef3,'lastMonthlyReset':_0x39bef3,'cycleStartDate':_0x39bef3,'cycleEndDate':new Date(_0x24a0ec['UNjJj'](_0x39bef3['getTime'](),0x1e*0x18*0x3c*0x3c*0x3e8))}});else!_0x20ed62['githubId']&&(console[_0x4c1966(0x132)](_0x4c1966(0x1dc)+'g\x20GitHub'+_0x4c1966(0x1ce)+_0x4c1966(0x13b)+_0x4c1966(0x1cb)+_0x40fa96),_0x20ed62=await prisma_1['prisma']['user'][_0x4c1966(0x13e)]({'where':{'id':_0x20ed62['id']},'data':{'githubId':_0x4b7cdd['id'][_0x4c1966(0xe6)](),'authProvider':_0x24a0ec[_0x4c1966(0xfe)]}}));const _0x477016=(0x0,jwt_util_1[_0x4c1966(0x1b2)+'AccessTo'+_0x4c1966(0x130)])({'userId':_0x20ed62['id'],'email':_0x20ed62['email'],'planType':_0x20ed62['subscrip'+_0x4c1966(0x116)]});return{'success':!![],'token':_0x477016,'user':{'id':_0x20ed62['id'],'email':_0x20ed62[_0x4c1966(0x124)],'name':_0x20ed62['name'],'avatar':_0x20ed62[_0x4c1966(0x1cf)+'atar'],'subscriptionPlan':_0x20ed62[_0x4c1966(0x17d)+'tionPlan'],'planStatus':_0x20ed62[_0x4c1966(0x14a)+'us'],'authProvider':_0x20ed62[_0x4c1966(0xf9)+'ider'],'region':_0x20ed62['region'],'currency':_0x20ed62[_0x4c1966(0x119)]}};}catch(_0x5be335){const _0x322d55=_0x24a0ec['KABLs'](_0x5be335,Error)?_0x5be335[_0x4c1966(0x137)]:_0x24a0ec[_0x4c1966(0x176)];console[_0x4c1966(0x109)](_0x24a0ec[_0x4c1966(0x105)],_0x5be335);throw new Error(_0x4c1966(0x165)+_0x4c1966(0x126)+_0x4c1966(0x1b4)+_0x322d55);}}async['getUserP'+_0x4629be(0x172)](_0x5e9bb6){const _0x5e8417=_0x4629be,_0x5b60f3={'Pshqo':function(_0xfa41d6,_0x25720b){return _0xfa41d6 instanceof _0x25720b;},'sHyPV':function(_0x5209f7,_0x354295){return _0x5209f7!==_0x354295;},'WqYBW':_0x5e8417(0x19e),'YmCHm':_0x5e8417(0xfd)+_0x5e8417(0x192)};try{if(_0x5b60f3[_0x5e8417(0x1c1)](_0x5b60f3['WqYBW'],_0x5e8417(0x19e))){const _0x591b6c=_0x5b60f3['Pshqo'](_0x4d7708,_0x41a85a)?_0x2b20a5[_0x5e8417(0x137)]:'Unknown\x20'+_0x5e8417(0x109);_0x53b404[_0x5e8417(0x109)]('‚ùå\x20Failed'+_0x5e8417(0x18f)+_0x5e8417(0x18c)+'Hub\x20auth'+'\x20URL:',_0x5bc4fa);throw new _0x38b8e8(_0x5e8417(0x191)+_0x5e8417(0x11a)+_0x5e8417(0x197)+_0x5e8417(0x1bc)+'RL:\x20'+_0x591b6c);}else{const _0x3c9ca2=await prisma_1[_0x5e8417(0x1d2)][_0x5e8417(0xe8)][_0x5e8417(0x18d)+'ue']({'where':{'id':_0x5e9bb6},'select':{'id':!![],'email':!![],'name':!![],'googleAvatar':!![],'subscriptionPlan':!![],'planStatus':!![],'authProvider':!![],'region':!![],'currency':!![],'createdAt':!![],'updatedAt':!![]}});if(!_0x3c9ca2)throw new Error(_0x5b60f3[_0x5e8417(0x103)]);return _0x3c9ca2;}}catch(_0x5207ac){const _0x1423f2=_0x5207ac instanceof Error?_0x5207ac['message']:_0x5e8417(0x111)+_0x5e8417(0x109);throw new Error(_0x5e8417(0x191)+_0x5e8417(0x142)+_0x5e8417(0x121)+'file:\x20'+_0x1423f2);}}}exports[_0x4629be(0x1b0)+_0x4629be(0x184)]=OAuthService,exports['default']=new OAuthService();