function _0x57ec(){const _0x69a29e=['Aw5JBhvKzxm','nJyYnZC2C01MzeLM','zxjYB3i','CLfrvuO','qw5HBhL0Awm','zMLUze1HBNK','ver1svu','zgvMAw5Luhi','z3jLyxq','Dhj1zq','zKvqtNu','zxj2ywW','AK1ny1G','zgf0yq','uKvHwKq','s3HSEwy','suXwA1u','Aw9U','CM91BMq','ywnRAw5N','ru5bqKXfra','zNj1C3rYyxq','zw5Z','rwrhENq','y29TCgfUEq','igvYCM9YoG','B3bLCNr5','CuHszui','yxbWBhK','D29UzgvYzNu','tNfewNO','Aw5ZDgfUy2u','y2fSy3vSyxq','DMfnD1a','y2nRu0m','DgLJCW','zw5K','mZeZmtC1mgvzExPhza','BwvZC2fNzxm','AwnZihjLDhi','C2fNzq','x3n1Bq','Exn0zw0GC3q','y2HHDfnLC3m','AuLsCgK','qKfuq0HFu0K','Duftyvy','z2v0sw5ZDge','zxPHs0u','C2vHCMnO','C3r1zhK','C2vYigfUywW','yxDLC29Tzq','zv0Gq29UzMK','BMnL','Awv2zwq6','A3Piy0e','y3rPB24GDhi','D29YC3q','Bg9N','zgLZyxbWB2K','zuvUz2fNzw0','otG0mJe2quPrA1vT','C3bSAxq','Bg92zq','ywnRzwq6','zxzLBNrrDwu','DgHHBMS','zw52','u2vZC2LVBIa','ihf1zxvLigu','DgHHBMTZ','C1nLCNzPy2u','BwfW','z29Vza','DgvYCMLIBgu','ueLduW','rMfPBgvKihq','zxHJzwXSzw4','zfDWAvC','BfrMBxq','DgLHBgL6zwq','qu5btfLusum','zMLUzfvUAxe','Dw5ZAgLMDa','w0fUywX5DgK','z1HtAuG','whfgDKu','zv0Gr2v0ihu','z2v0vgLTzq','Aerouwy','zMLSDgvY','zv0G8j+tIIbvC2u','Dg9Y','yxnL','CIbHBMfSExq','DxbKyxrLzee','ww1HC1O','y3jLyxrLzee','zv0G8j+tIIbjBMK','BMv1DhjHBa','mJmYndDzuNfnrxm','zxnZAw9Uige','sLP3Cw8','AwnZ','zxrYAwv2zwq','zw50CMLLCW','vgnSEem','BxvHu2G','vfjbq0TFve8','l2nVBMzPzY8','t0Xt','C2HLzcbLDMu','BYbNzxqGC2u','DLv4sfy','tLrjtuvova','lI4VlI4VlI4','u1bptLnfx1q','zw5fsgq','rLbrtve','Ag9YCMLIBgu','BwLU','nZHZBKnmyuu','Agf0zq','mtmZmtK1tezbD3D4','z2v0u3LZDgu','m2ToC3jZuW','BYbNzxqGDxm','vgviCM0','y2XLyw51Ce8','BgvHCM4','zv0GrMX1C2G','yxrZigvYCM8','zv0Gq2XLyw4','BwvZC2fNzq','zv0Gr2v0ihm','yNvZAw5LC3m','su9ox0rbwvm','DxaGzxjYB3i','tuD6qMy','yw5NCNK','zv0GvhjHy2S','ChvZAa','oenst3PhtW','zv0G8j+tIIbtzxm','ywX5DgLJCW','zMX1C2HrDwu','A3PIzgO','Dg90ywXuB2S','y291CNnL','y3ntzxj2Awm','ig1LC3nHz2u','u0DhyKG','CM9YoG','y291BNq','BMfSExrPy3m','Dg9tDhjPBMC','C3rHCNrgBhu','ChjPC21H','y29Kzq','u19ftKfcteu','u19cqvrdsf8','ywXfzKq','AgvHBhrO','yw1HEMLUzW','C3rHCNq','BgreyxrH','zwr1y2f0Aw8','Dg9mB3DLCKm','x19LC01Vzhu','vfjbq0TFu0u','EwvkAM8','Bvn0yxrZ','zMX1C2HjBNq','q29Lre4','y3rPB24','rvHuBee','tun4s1G','y29UC3rYDwm','C2nOB29S','revTDuS','zxiGyw5HBhK','zgv0zwn0u2u','v0XbA3q','BNrPBwvUDa','yw5HBhL0Awm','D29YzhnvC2u','CNjVCJO','Cg9ZAxrPDMu','zMfSC2u','C2fSzxm','zw50u2nVCMu','CMvKDwnL','y29TChv0zxi','mtu4odi5AMTjAunt','BwvKAwnHBa','uKvuru5usu8','z2v0u2vZC2K','zg9JDg9Y','zv0G8j+sVIbgBhu','CMTvr2K','zhvYyxrPB24','vgvwzLa','kYKRja','BIbLCNjVCJO','uvzssKG','Dg9Rzw5Z','zv0G8j+rJsbszwe','su1f','tL9eqvLt','ExrPy3mGzxi','BwfYA2v0','u0LArq','D0jZDg8','DgPmAKK','BgvUz3rO','qunmDfG','u19srvrftLq','DhjHy2Tszwe','zv0G8j+NUsbdBgu','BNrZoG','AgfWChK','Bwf4','swzoquy','kcGOlISPkYK','zLLKDui','q0Xtu2i','mta3ntiXmLn1y3bOsW','rKr3qvq','C3nPB24Gyw4','ihjLywn0Aw8','y2S6','rfjYwuq','yxDMDwW'];_0x57ec=function(){return _0x69a29e;};return _0x57ec();}const _0x9ed7e0=_0x34cb;function _0x34cb(_0x429e6f,_0x5d5853){_0x429e6f=_0x429e6f-0x1b1;const _0x5b8736=_0x57ec();let _0x2e1cda=_0x5b8736[_0x429e6f];if(_0x34cb['mFtQzu']===undefined){var _0x22b7c9=function(_0x5906a0){const _0x386bd9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x44a6b1='',_0x243266='',_0x415576=_0x44a6b1+_0x22b7c9;for(let _0x1b60db=0x0,_0x160dd5,_0x2b44de,_0x4683f4=0x0;_0x2b44de=_0x5906a0['charAt'](_0x4683f4++);~_0x2b44de&&(_0x160dd5=_0x1b60db%0x4?_0x160dd5*0x40+_0x2b44de:_0x2b44de,_0x1b60db++%0x4)?_0x44a6b1+=_0x415576['charCodeAt'](_0x4683f4+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x160dd5>>(-0x2*_0x1b60db&0x6)):_0x1b60db:0x0){_0x2b44de=_0x386bd9['indexOf'](_0x2b44de);}for(let _0x22218d=0x0,_0x5c3075=_0x44a6b1['length'];_0x22218d<_0x5c3075;_0x22218d++){_0x243266+='%'+('00'+_0x44a6b1['charCodeAt'](_0x22218d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x243266);};_0x34cb['MdnABT']=_0x22b7c9,_0x34cb['DlsHLZ']={},_0x34cb['mFtQzu']=!![];}const _0x57ecb6=_0x5b8736[0x0],_0x34cbf2=_0x429e6f+_0x57ecb6,_0xe50921=_0x34cb['DlsHLZ'][_0x34cbf2];if(!_0xe50921){const _0x3671a2=function(_0x26efc1){this['nNDoPd']=_0x26efc1,this['pEDqjv']=[0x1,0x0,0x0],this['CoeFWs']=function(){return'newState';},this['FdigVD']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['EoOhJY']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3671a2['prototype']['pLfbYV']=function(){const _0x3a8e45=new RegExp(this['FdigVD']+this['EoOhJY']),_0x126653=_0x3a8e45['test'](this['CoeFWs']['toString']())?--this['pEDqjv'][0x1]:--this['pEDqjv'][0x0];return this['PbmbOj'](_0x126653);},_0x3671a2['prototype']['PbmbOj']=function(_0x68cbfb){if(!Boolean(~_0x68cbfb))return _0x68cbfb;return this['VUljcV'](this['nNDoPd']);},_0x3671a2['prototype']['VUljcV']=function(_0x72d296){for(let _0x3b81a7=0x0,_0x503f11=this['pEDqjv']['length'];_0x3b81a7<_0x503f11;_0x3b81a7++){this['pEDqjv']['push'](Math['round'](Math['random']())),_0x503f11=this['pEDqjv']['length'];}return _0x72d296(this['pEDqjv'][0x0]);},new _0x3671a2(_0x34cb)['pLfbYV'](),_0x2e1cda=_0x34cb['MdnABT'](_0x2e1cda),_0x34cb['DlsHLZ'][_0x34cbf2]=_0x2e1cda;}else _0x2e1cda=_0xe50921;return _0x2e1cda;}(function(_0x226d3c,_0x2e84fd){const _0x34e7d1=_0x34cb,_0x440d2b=_0x226d3c();while(!![]){try{const _0x37a444=parseInt(_0x34e7d1(0x261))/0x1+-parseInt(_0x34e7d1(0x28a))/0x2+-parseInt(_0x34e7d1(0x21d))/0x3*(-parseInt(_0x34e7d1(0x1dd))/0x4)+-parseInt(_0x34e7d1(0x21b))/0x5*(-parseInt(_0x34e7d1(0x219))/0x6)+-parseInt(_0x34e7d1(0x204))/0x7*(parseInt(_0x34e7d1(0x22e))/0x8)+parseInt(_0x34e7d1(0x282))/0x9+-parseInt(_0x34e7d1(0x1c4))/0xa;if(_0x37a444===_0x2e84fd)break;else _0x440d2b['push'](_0x440d2b['shift']());}catch(_0x2276a6){_0x440d2b['push'](_0x440d2b['shift']());}}}(_0x57ec,0x36636));const _0x22b7c9=(function(){const _0x3e8d7e={'FDwAT':'tZDNR'};let _0x24b76c=!![];return function(_0x19a035,_0x378dd6){const _0x3ba652=_0x34cb,_0x4a92c3={'CzcGT':_0x3ba652(0x1f4)+_0x3ba652(0x235)+_0x3ba652(0x222)+_0x3ba652(0x1e5)+'rror:','muaSh':'qNAbj'};if(_0x3e8d7e[_0x3ba652(0x283)]==='tZDNR'){const _0x147dd3=_0x24b76c?function(){const _0x3d9c9e=_0x3ba652,_0x18272a={'vgGVE':function(_0x23946d,_0x2fcb5a){return _0x23946d===_0x2fcb5a;},'jMMcX':'[Analyti'+_0x3d9c9e(0x235)+_0x3d9c9e(0x266)+_0x3d9c9e(0x20f)+_0x3d9c9e(0x27b),'TeHrm':_0x4a92c3['CzcGT']};if(_0x378dd6){if(_0x4a92c3[_0x3d9c9e(0x20b)]===_0x4a92c3['muaSh']){const res=_0x378dd6[_0x3d9c9e(0x1bb)](_0x19a035,arguments);return _0x378dd6=null,res;}else{if(_0x18272a['vgGVE'](this['eventQue'+'ue'][_0x3d9c9e(0x276)],0x0))return;const _0x53e200=[...this[_0x3d9c9e(0x1e1)+'ue']];this[_0x3d9c9e(0x1e1)+'ue']=[];try{_0x2b5e3b['log'](_0x18272a[_0x3d9c9e(0x295)],{'count':_0x53e200[_0x3d9c9e(0x276)]});}catch(_0x595c3f){const _0x192198=_0x595c3f;_0x130066[_0x3d9c9e(0x28b)](_0x18272a[_0x3d9c9e(0x21f)],_0x192198),this[_0x3d9c9e(0x1e1)+'ue'][_0x3d9c9e(0x1f3)](..._0x53e200);}}}}:function(){};return _0x24b76c=![],_0x147dd3;}else{const res=_0x1c8811[_0x3ba652(0x1bb)](_0x203c0e,arguments);return _0x5df215=null,res;}};}()),_0x2e1cda=_0x22b7c9(this,function(){const _0x1a7202=_0x34cb,_0x2b2a9a={'inFug':'(((.+)+)'+'+)+$'};return _0x2e1cda[_0x1a7202(0x23b)]()['search'](_0x1a7202(0x27f)+_0x1a7202(0x26a))['toString']()['construc'+'tor'](_0x2e1cda)[_0x1a7202(0x1d0)](_0x2b2a9a['inFug']);});_0x2e1cda();'use strict';Object[_0x9ed7e0(0x290)+_0x9ed7e0(0x1b9)](exports,_0x9ed7e0(0x248)+'le',{'value':!![]}),exports[_0x9ed7e0(0x258)+'sService']=exports[_0x9ed7e0(0x28d)+_0x9ed7e0(0x1e7)]=void 0x0;const prisma_1=require(_0x9ed7e0(0x213)+_0x9ed7e0(0x20d)+_0x9ed7e0(0x23d));class AnalyticsConfig{}AnalyticsConfig[_0x9ed7e0(0x1b3)]=process['env'][_0x9ed7e0(0x1f1)+_0x9ed7e0(0x23f)+'D']!==_0x9ed7e0(0x25c),AnalyticsConfig[_0x9ed7e0(0x249)+_0x9ed7e0(0x212)]=process['env'][_0x9ed7e0(0x249)+_0x9ed7e0(0x212)]==='true',AnalyticsConfig['TRACK_TO'+_0x9ed7e0(0x1eb)]=process['env'][_0x9ed7e0(0x20c)+_0x9ed7e0(0x1eb)]===_0x9ed7e0(0x292),AnalyticsConfig[_0x9ed7e0(0x20c)+'OLS']=process[_0x9ed7e0(0x1e3)][_0x9ed7e0(0x20c)+'OLS']!==_0x9ed7e0(0x25c),AnalyticsConfig['TRACK_RE'+_0x9ed7e0(0x214)+_0x9ed7e0(0x26f)]=process[_0x9ed7e0(0x1e3)]['TRACK_RE'+'SPONSE_T'+_0x9ed7e0(0x26f)]!==_0x9ed7e0(0x25c),AnalyticsConfig['BATCH_SI'+'ZE']=parseInt(process['env'][_0x9ed7e0(0x1f1)+_0x9ed7e0(0x240)+_0x9ed7e0(0x273)]||'100'),AnalyticsConfig[_0x9ed7e0(0x263)+_0x9ed7e0(0x270)]=parseInt(process[_0x9ed7e0(0x1e3)]['ANALYTIC'+_0x9ed7e0(0x278)+_0x9ed7e0(0x228)]||'90');class AnalyticsService{constructor(){const _0x51b754=_0x9ed7e0,_0x37a7ac={'ZwaCh':_0x51b754(0x1f4)+_0x51b754(0x235)+_0x51b754(0x1d4)+'g:'},_0x42c1d9=('1|2|0|3|'+'4')[_0x51b754(0x1de)]('|');let _0x3f2de2=0x0;while(!![]){switch(_0x42c1d9[_0x3f2de2++]){case'0':console['log']('[Analyti'+_0x51b754(0x235)+_0x51b754(0x202)+_0x51b754(0x1f0)+'\x20with\x20tr'+_0x51b754(0x1b2));continue;case'1':this['eventQue'+'ue']=[];continue;case'2':this[_0x51b754(0x24c)+_0x51b754(0x294)]=null;continue;case'3':console['log'](_0x37a7ac['ZwaCh'],{'enabled':AnalyticsConfig[_0x51b754(0x1b3)],'trackSentiment':AnalyticsConfig[_0x51b754(0x249)+'NTIMENT'],'trackTopics':AnalyticsConfig[_0x51b754(0x20c)+_0x51b754(0x1eb)],'trackTools':AnalyticsConfig[_0x51b754(0x20c)+_0x51b754(0x20e)],'batchSize':AnalyticsConfig['BATCH_SI'+'ZE']});continue;case'4':AnalyticsConfig[_0x51b754(0x1b3)]&&this[_0x51b754(0x23c)+'shInterv'+'al']();continue;}break;}}static[_0x9ed7e0(0x1ce)+_0x9ed7e0(0x1d5)](){const _0x4cae00=_0x9ed7e0,_0x15dddf={'fwicc':_0x4cae00(0x27f)+_0x4cae00(0x26a),'mrKRn':function(_0x425aa7,_0x3c472b){return _0x425aa7===_0x3c472b;},'MCxKX':_0x4cae00(0x24a),'TclxC':_0x4cae00(0x297)};if(!AnalyticsService[_0x4cae00(0x1be)]){if(_0x15dddf['mrKRn'](_0x15dddf[_0x4cae00(0x250)],_0x15dddf[_0x4cae00(0x20a)]))return _0x129515[_0x4cae00(0x23b)]()['search']('(((.+)+)'+'+)+$')[_0x4cae00(0x23b)]()[_0x4cae00(0x251)+_0x4cae00(0x1fc)](_0x3e39d3)[_0x4cae00(0x1d0)](jeysEi['fwicc']);else AnalyticsService[_0x4cae00(0x1be)]=new AnalyticsService();}return AnalyticsService[_0x4cae00(0x1be)];}async['trackMes'+_0x9ed7e0(0x1c7)](_0x74bf91){const _0x371323=_0x9ed7e0,_0x523ad5={'WLAkt':function(_0x1d3399,_0x2cd15e){return _0x1d3399>=_0x2cd15e;},'CoeDN':function(_0x5b3125,_0x14f5c6){return _0x5b3125===_0x14f5c6;},'iIRpi':'LrEMt','ezaKE':'[Analyti'+'csServic'+_0x371323(0x22c)+_0x371323(0x236)+_0x371323(0x1b8)};if(!AnalyticsConfig[_0x371323(0x1b3)])return![];try{this[_0x371323(0x1e1)+'ue'][_0x371323(0x22d)](_0x74bf91);if(_0x523ad5[_0x371323(0x256)](this[_0x371323(0x1e1)+'ue']['length'],AnalyticsConfig[_0x371323(0x1cc)+'ZE'])){if(_0x523ad5[_0x371323(0x24d)](_0x371323(0x200),_0x523ad5[_0x371323(0x1cb)])){const _0x1688a1=_0x49bd97;return _0x41e83e[_0x371323(0x28b)](_0x371323(0x1f4)+'csServic'+'e]\x20Get\x20s'+_0x371323(0x205)+_0x371323(0x23a)+_0x371323(0x1b8),_0x1688a1),{'success':![],'error':_0x1688a1[_0x371323(0x225)]||_0x371323(0x1ec)+_0x371323(0x210)+_0x371323(0x284)+'alytics'};}else await this[_0x371323(0x231)+'ue']();}return!![];}catch(_0x142e2a){const _0x255e66=_0x142e2a;return console[_0x371323(0x28b)](_0x523ad5[_0x371323(0x1cf)],_0x255e66),![];}}async[_0x9ed7e0(0x279)+_0x9ed7e0(0x24e)](_0x4f9928){const _0x375966=_0x9ed7e0,_0x1292ad={'alEfD':_0x375966(0x1ee),'OQkQs':_0x375966(0x1f4)+_0x375966(0x235)+_0x375966(0x22c)+_0x375966(0x285)+'n\x20error:'};if(!AnalyticsConfig[_0x375966(0x1b3)])return _0x1292ad[_0x375966(0x241)]===_0x375966(0x1ee)?![]:_0x375966(0x203);const {userId:_0x45de30,messageId:_0x55b631,reaction:_0x23fa34}=_0x4f9928;try{return console['log'](_0x375966(0x1f4)+_0x375966(0x235)+_0x375966(0x26e)+_0x375966(0x1d8)+_0x375966(0x1e0),{'userId':_0x45de30,'messageId':_0x55b631,'reaction':_0x23fa34}),!![];}catch(_0x5470d5){const _0x29374f=_0x5470d5;return console[_0x375966(0x28b)](_0x1292ad['OQkQs'],_0x29374f),![];}}async['getUserA'+_0x9ed7e0(0x23a)](_0xb510c3,_0x1e95bd){const _0x492928=_0x9ed7e0,_0x28cb08={'JZwqo':function(_0x4dc986,_0x5ac60c){return _0x4dc986+_0x5ac60c;},'noCdf':function(_0x1c0ea5,_0x5f272a){return _0x1c0ea5-_0x5f272a;},'ACLtX':function(_0x3752c3,_0xca7b3){return _0x3752c3*_0xca7b3;},'fEPNu':function(_0x307698,_0x3bd491){return _0x307698*_0x3bd491;},'kzHcA':_0x492928(0x1f4)+'csServic'+_0x492928(0x1fb)+_0x492928(0x1fe)+_0x492928(0x1c6)+_0x492928(0x1d6),'IfNAF':_0x492928(0x215),'MGzBf':_0x492928(0x1ec)+_0x492928(0x21e)+_0x492928(0x254)+_0x492928(0x1c2)};try{const _0x4662d3=await prisma_1[_0x492928(0x23d)][_0x492928(0x1ca)+_0x492928(0x29a)][_0x492928(0x28e)]({'where':{'userId':_0xb510c3,..._0x1e95bd&&{'createdAt':{'gte':_0x1e95bd[_0x492928(0x244)],'lte':_0x1e95bd['end']}}},'select':{'id':!![],'createdAt':!![],'updatedAt':!![],'messageCount':!![],'totalTokens':!![]}}),_0x3ba12b=await prisma_1[_0x492928(0x23d)][_0x492928(0x225)]['findMany']({'where':{'userId':_0xb510c3,..._0x1e95bd&&{'createdAt':{'gte':_0x1e95bd[_0x492928(0x244)],'lte':_0x1e95bd[_0x492928(0x1c3)]}}},'select':{'wordsUsed':!![],'tokens':!![],'createdAt':!![]}}),_0x381ee9=_0x4662d3[_0x492928(0x276)],_0x12c380=_0x3ba12b['length'],_0x2685a8=_0x3ba12b['reduce']((_0x301a71,_0x3470c5)=>_0x301a71+(_0x3470c5['wordsUse'+'d']||0x0),0x0),_0x10fa20=_0x3ba12b['reduce']((_0x38f22a,_0x363747)=>_0x38f22a+(_0x363747[_0x492928(0x26d)]||0x0),0x0),_0x128d0c=_0x381ee9>0x0?Math['round'](_0x12c380/_0x381ee9):0x0,_0x15e931=_0x12c380>0x0?Math[_0x492928(0x1b1)](_0x2685a8/_0x12c380):0x0,_0x588301=_0x4662d3[_0x492928(0x25f)]((_0x580b71,_0xe99544)=>{const _0x130615=_0x492928;return _0x28cb08[_0x130615(0x206)](_0x580b71,_0x28cb08['noCdf'](_0xe99544[_0x130615(0x1ff)+'t']['getTime'](),_0xe99544[_0x130615(0x201)+'t']['getTime']()));},0x0),_0x356ddf=Math['round'](_0x588301/_0x28cb08[_0x492928(0x293)](0x3e8,0x3c)),_0x4e9c43=this[_0x492928(0x1bf)+_0x492928(0x1dc)+_0x492928(0x25e)]({'totalConversations':_0x381ee9,'totalMessages':_0x12c380,'averageMessagesPerConversation':_0x128d0c,'timeSpentMinutes':_0x356ddf}),_0x3fd2ae={'totalConversations':_0x381ee9,'totalMessages':_0x12c380,'totalWords':_0x2685a8,'totalTokens':_0x10fa20,'averageMessagesPerConversation':_0x128d0c,'averageWordsPerMessage':_0x15e931,'averageResponseTimeMs':0x0,'cacheHitRate':0x0,'ragUsageRate':0x0,'timeSpentMinutes':_0x356ddf,'engagementScore':_0x4e9c43};return console[_0x492928(0x1da)](_0x28cb08[_0x492928(0x1d7)],{'userId':_0xb510c3,'totalConversations':_0x381ee9,'totalMessages':_0x12c380,'engagementScore':_0x4e9c43}),{'success':!![],'analytics':_0x3fd2ae};}catch(_0x87a8b2){if(_0x28cb08['IfNAF']===_0x28cb08[_0x492928(0x27e)]){const _0x1ae312=_0x87a8b2;return console[_0x492928(0x28b)](_0x492928(0x1f4)+_0x492928(0x235)+_0x492928(0x1f7)+_0x492928(0x1d2)+_0x492928(0x271)+_0x492928(0x238),_0x1ae312),{'success':![],'error':_0x1ae312['message']||_0x28cb08[_0x492928(0x22a)]};}else{const {totalConversations:_0x45cd7f,totalMessages:_0x686185,averageMessagesPerConversation:_0x1cec53,timeSpentMinutes:_0x371223}=_0x4a891e;let _0x214934=0x0;return _0x214934+=_0x3a8828[_0x492928(0x218)](_0x28cb08[_0x492928(0x277)](_0x45cd7f,0x2),0x1e),_0x214934+=_0x5e349b['min'](_0x28cb08[_0x492928(0x277)](_0x686185,0.5),0x1e),_0x214934+=_0x1c2a44[_0x492928(0x218)](_0x1cec53*0x2,0x14),_0x214934+=_0x25a7da[_0x492928(0x218)](_0x371223*0.1,0x14),_0x42df36[_0x492928(0x218)](_0x2a432e[_0x492928(0x1b1)](_0x214934),0x64);}}}async[_0x9ed7e0(0x264)+'onAnalyt'+_0x9ed7e0(0x207)](_0x4f5adc){const _0x3e2d57=_0x9ed7e0,_0xc3a819={'NqDZz':_0x3e2d57(0x1e4)+'not\x20foun'+'d\x20or\x20acc'+'ess\x20deni'+'ed','QVRJH':function(_0x2e8b32,_0x3d0be6){return _0x2e8b32>_0x3d0be6;},'DEmuK':'[Analyti'+'csServic'+_0x3e2d57(0x22f)+'sion\x20ana'+'lytics\x20r'+_0x3e2d57(0x208)+':','RhqCI':function(_0x58a122,_0x5a6e1f){return _0x58a122+_0x5a6e1f;}},{sessionId:_0x905916,userId:_0x498c22}=_0x4f5adc;try{const _0x6d54ae=await prisma_1[_0x3e2d57(0x23d)][_0x3e2d57(0x1ca)+_0x3e2d57(0x29a)][_0x3e2d57(0x1f2)+'ue']({'where':{'id':_0x905916,'userId':_0x498c22},'include':{'messages':{'select':{'wordsUsed':!![],'tokens':!![],'createdAt':!![]}}}});if(!_0x6d54ae)return{'success':![],'error':_0xc3a819[_0x3e2d57(0x1bd)]};const _0x21c0f5=_0x6d54ae[_0x3e2d57(0x1c5)][_0x3e2d57(0x276)],_0x53a2b1=_0x6d54ae[_0x3e2d57(0x1c5)][_0x3e2d57(0x25f)]((_0x550840,_0x1d40de)=>_0x550840+(_0x1d40de[_0x3e2d57(0x259)+'d']||0x0),0x0),_0xe4ecf=_0x6d54ae[_0x3e2d57(0x233)+_0x3e2d57(0x1b5)]||0x0,_0x3db276=_0x6d54ae[_0x3e2d57(0x1c5)][_0x3e2d57(0x1e8)](_0x3cf5ce=>_0x3cf5ce[_0x3e2d57(0x201)+'t'][_0x3e2d57(0x1f8)]()),_0x588a00=_0xc3a819[_0x3e2d57(0x26c)](_0x3db276['length'],0x1)?Math[_0x3e2d57(0x27d)](..._0x3db276)-Math['min'](..._0x3db276):0x0,_0x324899={'sessionId':_0x905916,'messageCount':_0x21c0f5,'totalWords':_0x53a2b1,'totalTokens':_0xe4ecf,'averageResponseTimeMs':0x0,'cacheHitRate':0x0,'toolsUsed':[],'topics':[],'sentiment':{'positive':0x0,'neutral':0x0,'negative':0x0},'duration':Math[_0x3e2d57(0x1b1)](_0x588a00/0x3e8)};return console[_0x3e2d57(0x1da)](_0xc3a819[_0x3e2d57(0x253)],{'sessionId':_0x905916,'messageCount':_0x21c0f5,'duration':_0xc3a819['RhqCI'](_0x324899[_0x3e2d57(0x268)],'s')}),{'success':!![],'analytics':_0x324899};}catch(_0x2212b1){const _0x48315b=_0x2212b1;return console[_0x3e2d57(0x28b)](_0x3e2d57(0x1f4)+_0x3e2d57(0x235)+_0x3e2d57(0x226)+_0x3e2d57(0x205)+_0x3e2d57(0x23a)+_0x3e2d57(0x1b8),_0x48315b),{'success':![],'error':_0x48315b[_0x3e2d57(0x225)]||_0x3e2d57(0x1ec)+_0x3e2d57(0x210)+_0x3e2d57(0x284)+_0x3e2d57(0x230)};}}async[_0x9ed7e0(0x21c)+_0x9ed7e0(0x24b)](){const _0x582990=_0x9ed7e0,_0xc2a6eb={'uASaV':function(_0x45d663,_0x2b49a4){return _0x45d663!==_0x2b49a4;}};try{if(_0xc2a6eb[_0x582990(0x1cd)]('TZDru','slapI')){const _0x52b17a=await prisma_1[_0x582990(0x23d)]['user'][_0x582990(0x239)](),_0x11b7c7=await prisma_1[_0x582990(0x23d)][_0x582990(0x1ca)+_0x582990(0x29a)][_0x582990(0x239)](),_0x3b7921=await prisma_1[_0x582990(0x23d)]['message']['count'](),_0x1e34e9=await prisma_1[_0x582990(0x23d)][_0x582990(0x225)]['aggregat'+'e']({'_sum':{'wordsUsed':!![],'tokens':!![]}});return{'totalUsers':_0x52b17a,'totalConversations':_0x11b7c7,'totalMessages':_0x3b7921,'totalWords':_0x1e34e9[_0x582990(0x1c8)][_0x582990(0x259)+'d']||0x0,'totalTokens':_0x1e34e9[_0x582990(0x1c8)][_0x582990(0x26d)]||0x0};}else{const _0x28518e=_0x3b3c56;return _0x36f519[_0x582990(0x28b)](_0x582990(0x1f4)+_0x582990(0x235)+_0x582990(0x22c)+_0x582990(0x285)+_0x582990(0x26b),_0x28518e),![];}}catch(_0x544683){const _0x373891=_0x544683;return console[_0x582990(0x28b)](_0x582990(0x1f4)+_0x582990(0x235)+_0x582990(0x226)+_0x582990(0x1c9)+_0x582990(0x223)+'r:',_0x373891),{'totalUsers':0x0,'totalConversations':0x0,'totalMessages':0x0,'totalWords':0x0,'totalTokens':0x0};}}async[_0x9ed7e0(0x220)+_0x9ed7e0(0x245)](){const _0x570051=_0x9ed7e0,_0x37504f={'qHReB':function(_0x46b00e,_0x581df4){return _0x46b00e-_0x581df4;},'kzbdj':'[Analyti'+'csServic'+_0x570051(0x224)+_0x570051(0x229)+':'};try{const _0x4e36d7=new Date();return _0x4e36d7['setDate'](_0x37504f[_0x570051(0x1ba)](_0x4e36d7['getDate'](),AnalyticsConfig[_0x570051(0x263)+'N_DAYS'])),console[_0x570051(0x1da)](_0x570051(0x1f4)+'csServic'+_0x570051(0x27a)+'anup\x20che'+_0x570051(0x286),{'retentionDays':AnalyticsConfig[_0x570051(0x263)+_0x570051(0x270)],'cutoffDate':_0x4e36d7}),0x0;}catch(_0x5e183a){const _0x1c6ea4=_0x5e183a;return console[_0x570051(0x28b)](_0x37504f[_0x570051(0x232)],_0x1c6ea4),0x0;}}[_0x9ed7e0(0x23c)+'shInterv'+'al'](){const _0x4b7893=_0x9ed7e0,_0x50edf6={'xUlZM':function(_0x58f701,_0x5004be){return _0x58f701>_0x5004be;}};this[_0x4b7893(0x24c)+_0x4b7893(0x294)]=setInterval(()=>{const _0x3146c0=_0x4b7893;_0x50edf6['xUlZM'](this[_0x3146c0(0x1e1)+'ue'][_0x3146c0(0x276)],0x0)&&this[_0x3146c0(0x231)+'ue']();},0x7530);}async[_0x9ed7e0(0x231)+'ue'](){const _0x3b06a9=_0x9ed7e0;if(this[_0x3b06a9(0x1e1)+'ue'][_0x3b06a9(0x276)]===0x0)return;const _0x1724b3=[...this[_0x3b06a9(0x1e1)+'ue']];this[_0x3b06a9(0x1e1)+'ue']=[];try{console[_0x3b06a9(0x1da)](_0x3b06a9(0x1f4)+_0x3b06a9(0x235)+_0x3b06a9(0x266)+_0x3b06a9(0x20f)+_0x3b06a9(0x27b),{'count':_0x1724b3['length']});}catch(_0x408570){const _0x1cea4a=_0x408570;console[_0x3b06a9(0x28b)](_0x3b06a9(0x1f4)+_0x3b06a9(0x235)+'e]\x20Flush'+'\x20queue\x20e'+_0x3b06a9(0x25a),_0x1cea4a),this[_0x3b06a9(0x1e1)+'ue'][_0x3b06a9(0x1f3)](..._0x1724b3);}}[_0x9ed7e0(0x1bf)+_0x9ed7e0(0x1dc)+'entScore'](_0x52fb80){const _0x581b17=_0x9ed7e0,_0x5bfd59={'lTfmt':function(_0x518987,_0x2929c0){return _0x518987*_0x2929c0;}},{totalConversations:_0x1a0113,totalMessages:_0x38d963,averageMessagesPerConversation:_0xb42cdb,timeSpentMinutes:_0x12c94f}=_0x52fb80;let _0x1888c0=0x0;return _0x1888c0+=Math[_0x581b17(0x218)](_0x1a0113*0x2,0x1e),_0x1888c0+=Math[_0x581b17(0x218)](_0x38d963*0.5,0x1e),_0x1888c0+=Math[_0x581b17(0x218)](_0x5bfd59[_0x581b17(0x1ef)](_0xb42cdb,0x2),0x14),_0x1888c0+=Math[_0x581b17(0x218)](_0x12c94f*0.1,0x14),Math[_0x581b17(0x218)](Math[_0x581b17(0x1b1)](_0x1888c0),0x64);}[_0x9ed7e0(0x255)+_0x9ed7e0(0x257)](_0x4a4e8d){const _0x1ac52f=_0x9ed7e0,_0x5e5033={'rQQUJ':_0x1ac52f(0x291),'vaMwP':_0x1ac52f(0x27c),'CLSSb':_0x1ac52f(0x1e6),'ixuHM':_0x1ac52f(0x1d3),'SGGbH':'bad','ILVkU':_0x1ac52f(0x1ea),'FPQMQ':_0x1ac52f(0x21a),'wBsto':_0x1ac52f(0x22b),'DRrYD':_0x1ac52f(0x1b4)+'ed','HnOol':'useless','tQpcf':function(_0x3d88ba,_0x4658f9){return _0x3d88ba>_0x4658f9;},'TeVfP':function(_0x1c7bed,_0x3c6bb5){return _0x1c7bed>_0x3c6bb5;},'YpkbO':'negative','OeBzr':_0x1ac52f(0x203)},_0x50c0af=_0x4a4e8d[_0x1ac52f(0x247)+_0x1ac52f(0x1fd)](),_0x232739=[_0x1ac52f(0x1e9),_0x5e5033[_0x1ac52f(0x28c)],_0x1ac52f(0x1ed)+'t',_0x1ac52f(0x243),_0x1ac52f(0x1bc)+'l','fantasti'+'c',_0x1ac52f(0x1df),_0x5e5033[_0x1ac52f(0x1c0)],_0x1ac52f(0x1e2),_0x5e5033[_0x1ac52f(0x281)],_0x5e5033['ixuHM']],_0x421ed4=[_0x5e5033[_0x1ac52f(0x237)],_0x5e5033[_0x1ac52f(0x299)],_0x1ac52f(0x288),_0x5e5033[_0x1ac52f(0x216)],_0x1ac52f(0x1d9),_0x1ac52f(0x217),_0x1ac52f(0x1db)+'nted',_0x5e5033[_0x1ac52f(0x274)],_0x5e5033[_0x1ac52f(0x287)],_0x5e5033['HnOol'],'poor'],_0x373a49=_0x232739['filter'](_0x5df97e=>_0x50c0af['includes'](_0x5df97e))['length'],_0x48f551=_0x421ed4[_0x1ac52f(0x1fa)](_0x15fd80=>_0x50c0af[_0x1ac52f(0x289)](_0x15fd80))['length'];if(_0x5e5033['tQpcf'](_0x373a49,_0x48f551))return _0x1ac52f(0x25b);else return _0x5e5033[_0x1ac52f(0x269)](_0x48f551,_0x373a49)?_0x5e5033['YpkbO']:_0x5e5033['OeBzr'];}['detectTo'+'pics'](_0x15f370){const _0x2490c1=_0x9ed7e0,_0x45cbea={'gXSiH':_0x2490c1(0x260),'XqFvE':_0x2490c1(0x272),'fYduB':_0x2490c1(0x25d),'EXTlA':'science','iRmdn':'research','TDuIU':_0x2490c1(0x296),'tjLjI':_0x2490c1(0x1d1),'EdGzt':_0x2490c1(0x252),'Kxlyf':_0x2490c1(0x246)+'n','hDNQf':_0x2490c1(0x234),'VgmRx':_0x2490c1(0x262),'vUxHV':'medicine'},_0x5cf187=[],_0x3e965f=_0x15f370['toLowerC'+_0x2490c1(0x1fd)](),_0x407662={'Technology':['tech',_0x45cbea[_0x2490c1(0x1f5)],'software',_0x2490c1(0x23e),'programm'+'ing'],'Business':[_0x2490c1(0x227),_0x45cbea[_0x2490c1(0x1f6)],_0x45cbea[_0x2490c1(0x280)],'revenue',_0x2490c1(0x1b7)],'Science':[_0x45cbea[_0x2490c1(0x24f)],_0x45cbea['iRmdn'],'study','experime'+'nt',_0x45cbea[_0x2490c1(0x28f)]],'Education':[_0x2490c1(0x221),_0x45cbea[_0x2490c1(0x275)],_0x45cbea[_0x2490c1(0x1b6)],_0x45cbea[_0x2490c1(0x298)],_0x45cbea[_0x2490c1(0x1f9)]],'Health':[_0x2490c1(0x242),_0x45cbea['VgmRx'],_0x2490c1(0x265),_0x45cbea[_0x2490c1(0x211)],'fitness']};for(const [_0x16ae77,_0x95a3c5]of Object[_0x2490c1(0x209)](_0x407662)){const _0x47a4fc=_0x95a3c5[_0x2490c1(0x1fa)](_0x81bbfd=>_0x3e965f[_0x2490c1(0x289)](_0x81bbfd));_0x47a4fc['length']>0x0&&_0x5cf187[_0x2490c1(0x22d)](_0x16ae77);}return _0x5cf187;}['destroy'](){const _0x2ab7f1=_0x9ed7e0,_0x1f9bfe={'cckSC':function(_0x30783e,_0x3181a1){return _0x30783e(_0x3181a1);},'rkUGi':function(_0x2bcb32,_0x3ee4ef){return _0x2bcb32>_0x3ee4ef;}};this[_0x2ab7f1(0x24c)+_0x2ab7f1(0x294)]&&(_0x1f9bfe[_0x2ab7f1(0x1c1)](clearInterval,this['flushInt'+_0x2ab7f1(0x294)]),this[_0x2ab7f1(0x24c)+_0x2ab7f1(0x294)]=null),_0x1f9bfe[_0x2ab7f1(0x267)](this[_0x2ab7f1(0x1e1)+'ue']['length'],0x0)&&this[_0x2ab7f1(0x231)+'ue']();}}exports['Analytic'+_0x9ed7e0(0x1e7)]=AnalyticsService,exports[_0x9ed7e0(0x258)+_0x9ed7e0(0x1e7)]=AnalyticsService[_0x9ed7e0(0x1ce)+_0x9ed7e0(0x1d5)]();