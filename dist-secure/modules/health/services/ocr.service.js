const _0x61f3da=_0x210c;(function(_0x212968,_0x510943){const _0x127e19=_0x210c,_0x96bcc3=_0x212968();while(!![]){try{const _0xf388c3=parseInt(_0x127e19(0xad))/0x1+parseInt(_0x127e19(0x99))/0x2+-parseInt(_0x127e19(0xbf))/0x3*(parseInt(_0x127e19(0x9a))/0x4)+parseInt(_0x127e19(0xa5))/0x5+parseInt(_0x127e19(0xbc))/0x6+parseInt(_0x127e19(0xba))/0x7+-parseInt(_0x127e19(0x8c))/0x8;if(_0xf388c3===_0x510943)break;else _0x96bcc3['push'](_0x96bcc3['shift']());}catch(_0x5907bc){_0x96bcc3['push'](_0x96bcc3['shift']());}}}(_0x41de,0xd5070));const _0x53e542=(function(){const _0x3fd098={'zmCJl':'caueI'};let _0x3a516e=!![];return function(_0x24543f,_0x24108e){const _0x172f4c=_0x210c;if(_0x3fd098['zmCJl']===_0x172f4c(0xd1)){const _0xd62142=_0x3a516e?function(){const _0x318dd=_0x172f4c;if(_0x24108e){const res=_0x24108e[_0x318dd(0xaf)](_0x24543f,arguments);return _0x24108e=null,res;}}:function(){};return _0x3a516e=![],_0xd62142;}else _0x4353d3['push']({'name':_0x33ca3a[0x1][_0x172f4c(0x8e)](),'value':_0x26363b[0x2],'unit':_0x1ee09[0x3]});};}()),_0xd710ab=_0x53e542(this,function(){const _0x3066b0=_0x210c,_0x2b2954={'VLTlY':_0x3066b0(0x8a)+_0x3066b0(0xa2)};return _0xd710ab[_0x3066b0(0xb1)]()[_0x3066b0(0xb7)](_0x2b2954['VLTlY'])['toString']()[_0x3066b0(0xc6)+_0x3066b0(0x80)](_0xd710ab)[_0x3066b0(0xb7)](_0x2b2954[_0x3066b0(0x89)]);});function _0x210c(_0x170ce2,_0x4f62e9){_0x170ce2=_0x170ce2-0x7b;const _0x2e3cda=_0x41de();let _0xd710ab=_0x2e3cda[_0x170ce2];if(_0x210c['yoAzHO']===undefined){var _0x53e542=function(_0x1b6bb2){const _0x108ab0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x18f1c6='',_0x491108='',_0x4f1d24=_0x18f1c6+_0x53e542;for(let _0x91f595=0x0,_0x35ed3c,_0x1ef6e5,_0x1287d8=0x0;_0x1ef6e5=_0x1b6bb2['charAt'](_0x1287d8++);~_0x1ef6e5&&(_0x35ed3c=_0x91f595%0x4?_0x35ed3c*0x40+_0x1ef6e5:_0x1ef6e5,_0x91f595++%0x4)?_0x18f1c6+=_0x4f1d24['charCodeAt'](_0x1287d8+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x35ed3c>>(-0x2*_0x91f595&0x6)):_0x91f595:0x0){_0x1ef6e5=_0x108ab0['indexOf'](_0x1ef6e5);}for(let _0x395f8f=0x0,_0x524110=_0x18f1c6['length'];_0x395f8f<_0x524110;_0x395f8f++){_0x491108+='%'+('00'+_0x18f1c6['charCodeAt'](_0x395f8f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x491108);};_0x210c['RyraXT']=_0x53e542,_0x210c['oZoflE']={},_0x210c['yoAzHO']=!![];}const _0x41de3b=_0x2e3cda[0x0],_0x210c3b=_0x170ce2+_0x41de3b,_0x45535d=_0x210c['oZoflE'][_0x210c3b];if(!_0x45535d){const _0x3c8964=function(_0x79a07f){this['lDcYWm']=_0x79a07f,this['konLLC']=[0x1,0x0,0x0],this['zlBYRG']=function(){return'newState';},this['JEXoPp']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['TubiGH']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3c8964['prototype']['PhkBzl']=function(){const _0x3553f5=new RegExp(this['JEXoPp']+this['TubiGH']),_0x39d554=_0x3553f5['test'](this['zlBYRG']['toString']())?--this['konLLC'][0x1]:--this['konLLC'][0x0];return this['qCPBaw'](_0x39d554);},_0x3c8964['prototype']['qCPBaw']=function(_0x5b6455){if(!Boolean(~_0x5b6455))return _0x5b6455;return this['ffYqLu'](this['lDcYWm']);},_0x3c8964['prototype']['ffYqLu']=function(_0x5cbaeb){for(let _0x2866fd=0x0,_0x2f47f3=this['konLLC']['length'];_0x2866fd<_0x2f47f3;_0x2866fd++){this['konLLC']['push'](Math['round'](Math['random']())),_0x2f47f3=this['konLLC']['length'];}return _0x5cbaeb(this['konLLC'][0x0]);},new _0x3c8964(_0x210c)['PhkBzl'](),_0xd710ab=_0x210c['RyraXT'](_0xd710ab),_0x210c['oZoflE'][_0x210c3b]=_0xd710ab;}else _0xd710ab=_0x45535d;return _0xd710ab;}_0xd710ab();'use strict';function _0x41de(){const _0x482f61=['BNrZ','Dg9Y','s1jdzKy','zxH0rNjVBva','Bg9N','tefor1vbr0u','B2nYu2vYDMK','CgnVrNm','zxH0rNjVBui','D2fYBG','vKXuBfK','kcGOlISPkYK','D29YA2vY','mti0mJi1nJHIrxfQzeO','ChjVz3jLC3m','DhjPBq','DgvZC2vYywm','zvrLEhq','sevbtfrix0u','x19PBxbVCNq','Aw5NihrLEhq','Dgv4Da','zLbtswC','o2jHC2u2ncW','Ac5JB25ZDge','BM9YBwfSAxO','mJCXnJe5oejXEvvsCW','ntCZmtG2ogvWA1LdBW','sgvHBhrOrxi','y29UzMLKzw4','y2u6ia','BYbLEhrYywm','whD0Bvu','ruTIr1e','vvLyzwm','kYKRja','Dcb0zxH0igy','surftKnf','ntq3oteWtMrtv015','ChvZAa','zxHLyW','CMvWBgfJzq','CMvZCZOG','DgvYBwLUyxq','y3jLyxrLv28','r2riywq','ode1mtiXyNP3sefS','CMTLCG','yxbWBhK','CM91BMq','Dg9tDhjPBMC','uLjpuL9dt0q','rvbMzhO','t0nsu2vYDMK','CMvJB2DUAxO','rMfPBgvKihq','C2vHCMnO','Dc5QCW','vLfZwg0','mteYotq3ofr5C1HXva','yMfZzty0','odq4nte1mLLYBezstq','zxH0CMfJDei','CM9TigzPBgu','m3vrDuziEa','zgvMAw5Luhi','zgf0ytO','v3zgCuy','CM9Y','yxrO','Aw9TyxjRzxi','y29UC3rYDwm','EeXeBwi','zgvMyxvSDa','rw1ND3i','zxH0rNjVBvu','u1Dmsha','CM9Tifvsta','zxH0CMfJDfq','rg9WCxe','t0nsievYCM8','x19LC01Vzhu','y2f1zuK','t0nsx0zbsuW','zxjYB3i','s3j4rMK','z2v0v29YA2u','AKLtDKu','t0nsifbYB2C'];_0x41de=function(){return _0x482f61;};return _0x41de();}Object[_0x61f3da(0xc0)+'operty'](exports,_0x61f3da(0xd0)+'le',{'value':!![]}),exports['ocrServi'+'ce']=exports[_0x61f3da(0xb4)+'ce']=void 0x0;const tslib_1=require('tslib'),tesseract_js_1=tslib_1[_0x61f3da(0x92)+'Default'](require(_0x61f3da(0x8f)+_0x61f3da(0xb8))),health_constants_1=require('../healt'+_0x61f3da(0x97)+_0x61f3da(0x7f)),health_types_1=require('../healt'+'h.types');class OCRService{constructor(){const _0x2b6fe7=_0x61f3da;this[_0x2b6fe7(0x8b)]=null;}async[_0x61f3da(0x7c)+'r'](){const _0x1a62b1=_0x61f3da,_0x2febc3={'XwtmU':'uukkv','UshQK':'lJqlL','jISvE':function(_0x369257,_0x5cfbd7){return _0x369257===_0x5cfbd7;},'hNuYo':_0x1a62b1(0xb5)+_0x1a62b1(0x93)};return!this[_0x1a62b1(0x8b)]&&(this[_0x1a62b1(0x8b)]=await tesseract_js_1[_0x1a62b1(0xc8)][_0x1a62b1(0xab)+_0x1a62b1(0xae)](health_constants_1['OCR_CONF'+'IG'][_0x1a62b1(0x84)],0x1,{'logger':_0x5b556e=>{const _0x1bbe08=_0x1a62b1;if(_0x2febc3[_0x1bbe08(0x9f)]===_0x2febc3['UshQK']){let _0x171c67;while((_0x171c67=_0x4ca15a[_0x1bbe08(0xa7)](_0x4e6b29))!==null){_0x2d44fb[_0x1bbe08(0xa6)]({'name':_0x171c67[0x1]['trim'](),'value':_0x171c67[0x2],'unit':_0x171c67[0x3]});}}else _0x2febc3[_0x1bbe08(0x7d)](_0x5b556e['status'],_0x2febc3['hNuYo'])&&console[_0x1bbe08(0x83)](_0x1bbe08(0x7e)+_0x1bbe08(0xa9)+Math[_0x1bbe08(0xb0)](_0x5b556e[_0x1bbe08(0x8d)]*0x64)+'%');}})),this['worker'];}async['extractT'+_0x61f3da(0x87)+'uffer'](_0x22c565,_0x57f736){const _0x342584=_0x61f3da,_0x2e0ff2={'EKbGQ':_0x342584(0xbb),'qRNTT':function(_0x33b801,_0x119ef6){return _0x33b801<_0x119ef6;},'UYXec':_0x342584(0xcf)+'r:','SWLHp':_0x342584(0xb6)+_0x342584(0x9e)+_0x342584(0xa3)+'rom\x20imag'+'e'};try{const _0x30cdca=await this[_0x342584(0x7c)+'r'](),_0x497702=_0x342584(0xc1)+_0x57f736+_0x342584(0x96)+_0x22c565[_0x342584(0xb1)](_0x2e0ff2[_0x342584(0xa0)]),{data:_0x46970c}=await _0x30cdca[_0x342584(0xb5)+'e'](_0x497702);return _0x2e0ff2['qRNTT'](_0x46970c[_0x342584(0x9c)+'ce'],health_constants_1['OCR_CONF'+'IG']['MIN_CONF'+_0x342584(0xa4)])&&console[_0x342584(0x88)]('Low\x20OCR\x20'+_0x342584(0x9c)+_0x342584(0x9d)+_0x46970c['confiden'+'ce']+'%'),{'text':_0x46970c[_0x342584(0x94)][_0x342584(0x8e)](),'confidence':_0x46970c[_0x342584(0x9c)+'ce'],'processedAt':new Date()};}catch(_0x1295a8){console[_0x342584(0xd3)](_0x2e0ff2[_0x342584(0xa1)],_0x1295a8);throw new health_types_1['HealthEr'+(_0x342584(0xc3))](_0x2e0ff2[_0x342584(0xcb)],health_types_1['HEALTH_E'+'RROR_COD'+'ES']['OCR_FAIL'+'ED'],0x1f4);}}async[_0x61f3da(0xcd)+_0x61f3da(0x82)+_0x61f3da(0xc4)](_0xdda663){const _0x5886ab=_0x61f3da,_0x2f9888={'pcoFs':_0x5886ab(0xcf)+'r:','VQsXm':'Failed\x20t'+_0x5886ab(0x9e)+_0x5886ab(0xa3)+_0x5886ab(0xbe)};try{const _0x406cc4=await this[_0x5886ab(0x7c)+'r'](),{data:_0x524abd}=await _0x406cc4[_0x5886ab(0xb5)+'e'](_0xdda663);return{'text':_0x524abd[_0x5886ab(0x94)][_0x5886ab(0x8e)](),'confidence':_0x524abd['confiden'+'ce'],'processedAt':new Date()};}catch(_0x1eb4d5){console['error'](_0x2f9888[_0x5886ab(0x86)],_0x1eb4d5);throw new health_types_1[(_0x5886ab(0x9b))+(_0x5886ab(0xc3))](_0x2f9888[_0x5886ab(0xb9)],health_types_1[_0x5886ab(0x91)+_0x5886ab(0xb2)+'ES'][_0x5886ab(0xd2)+'ED'],0x1f4);}}async[_0x61f3da(0xcd)+_0x61f3da(0xca)+'RL'](_0x44415e){const _0x726175=_0x61f3da,_0x35c5c9={'JtCYQ':function(_0x3fa3c7,_0x28a0c6){return _0x3fa3c7!==_0x28a0c6;},'FJZHL':'Fqumw','Dopqq':_0x726175(0xcf)+'r:','RiXzB':_0x726175(0xb6)+_0x726175(0x9e)+_0x726175(0xa3)+_0x726175(0xcc)};try{const _0x503d31=await this[_0x726175(0x7c)+'r'](),{data:_0x2d8d3b}=await _0x503d31['recogniz'+'e'](_0x44415e);return{'text':_0x2d8d3b['text'][_0x726175(0x8e)](),'confidence':_0x2d8d3b[_0x726175(0x9c)+'ce'],'processedAt':new Date()};}catch(_0x2cac95){if(_0x35c5c9['JtCYQ'](_0x35c5c9['FJZHL'],_0x35c5c9['FJZHL'])){const _0x39165f=_0x3c8964?function(){const _0x1306e2=_0x726175;if(_0x2866fd){const res=_0x31b019[_0x1306e2(0xaf)](_0x4fd2f7,arguments);return _0x1c11e7=null,res;}}:function(){};return _0x5cbaeb=![],_0x39165f;}else{console['error'](_0x35c5c9[_0x726175(0xce)],_0x2cac95);throw new health_types_1[(_0x726175(0x9b))+'ror'](_0x35c5c9['RiXzB'],health_types_1[_0x726175(0x91)+_0x726175(0xb2)+'ES'][_0x726175(0xd2)+'ED'],0x1f4);}}}[_0x61f3da(0x98)+_0x61f3da(0x90)](_0x382344){const _0x26cceb=_0x61f3da;return _0x382344[_0x26cceb(0xa8)](/\s+/g,'\x20')[_0x26cceb(0xa8)](/[^\w\s\.\,\-\:\;\/\%\(\)]/g,'')[_0x26cceb(0xa8)](/\bl\b/g,'1')['replace'](/\bO\b/g,'0')[_0x26cceb(0x8e)]();}[_0x61f3da(0xbd)+_0x61f3da(0xc5)+'s'](_0x27993c){const _0x16dd93=_0x61f3da,_0x32a05f={'EPfdz':_0x16dd93(0xcf)+'r:','xLDmb':'Failed\x20t'+'o\x20extrac'+_0x16dd93(0xa3)+'rom\x20file','WvFqF':_0x16dd93(0x95)},_0x4b50cc=[],_0x58b30b=[/(\w+(?:\s+\w+)?)\s*[:\-]?\s*(\d+\.?\d*)\s*(g\/dL|mg\/dL|%|U\/L|mmol\/L|µg\/dL|ng\/mL|pg\/mL|cells\/µL|million\/µL|lakhs\/µL)/gi];for(const _0x25b2e3 of _0x58b30b){let _0x3bf8e6;while((_0x3bf8e6=_0x25b2e3[_0x16dd93(0xa7)](_0x27993c))!==null){if('GFSDH'!==_0x32a05f[_0x16dd93(0xc2)])_0x4b50cc[_0x16dd93(0xa6)]({'name':_0x3bf8e6[0x1][_0x16dd93(0x8e)](),'value':_0x3bf8e6[0x2],'unit':_0x3bf8e6[0x3]});else{_0x215836[_0x16dd93(0xd3)](_0x32a05f[_0x16dd93(0xb3)],_0x5d6cbf);throw new _0x3a612f['HealthEr'+(_0x16dd93(0xc3))](_0x32a05f[_0x16dd93(0xc7)],_0x553c57['HEALTH_E'+_0x16dd93(0xb2)+'ES']['OCR_FAIL'+'ED'],0x1f4);}}}return _0x4b50cc;}async[_0x61f3da(0xaa)+'e'](){const _0x166bdf=_0x61f3da,_0x13e7e3={'KrxFi':_0x166bdf(0x81),'GdHad':_0x166bdf(0xc9)};this[_0x166bdf(0x8b)]&&(_0x13e7e3[_0x166bdf(0x7b)]===_0x13e7e3[_0x166bdf(0xac)]?_0x3f6195[_0x166bdf(0x88)]('Low\x20OCR\x20'+_0x166bdf(0x9c)+'ce:\x20'+_0x300912['confiden'+'ce']+'%'):(await this[_0x166bdf(0x8b)][_0x166bdf(0xaa)+'e'](),this[_0x166bdf(0x8b)]=null));}}exports['OCRServi'+'ce']=OCRService,exports[_0x61f3da(0x85)+'ce']=new OCRService();