const _0x140ac6=_0x2797;(function(_0x1d4cf6,_0x26836d){const _0x4a225d=_0x2797,_0x3c7461=_0x1d4cf6();while(!![]){try{const _0x3124c2=-parseInt(_0x4a225d(0x1ae))/0x1+parseInt(_0x4a225d(0x198))/0x2+parseInt(_0x4a225d(0x243))/0x3*(parseInt(_0x4a225d(0x186))/0x4)+parseInt(_0x4a225d(0x189))/0x5*(-parseInt(_0x4a225d(0x24a))/0x6)+-parseInt(_0x4a225d(0x222))/0x7*(parseInt(_0x4a225d(0x260))/0x8)+-parseInt(_0x4a225d(0x19c))/0x9+parseInt(_0x4a225d(0x214))/0xa;if(_0x3124c2===_0x26836d)break;else _0x3c7461['push'](_0x3c7461['shift']());}catch(_0x55ecf3){_0x3c7461['push'](_0x3c7461['shift']());}}}(_0xcbd7,0x693ac));const _0x3c7861=(function(){let _0x1d6690=!![];return function(_0x4de797,_0x74be4){const _0x2d2dc7=_0x1d6690?function(){const _0x50d9c0=_0x2797;if(_0x74be4){const res=_0x74be4[_0x50d9c0(0x20e)](_0x4de797,arguments);return _0x74be4=null,res;}}:function(){};return _0x1d6690=![],_0x2d2dc7;};}()),_0x27e893=_0x3c7861(this,function(){const _0x2d083f=_0x2797,_0x21d9c6={'Vizsy':_0x2d083f(0x1b4)+_0x2d083f(0x191)};return _0x27e893['toString']()[_0x2d083f(0x1cf)](_0x21d9c6['Vizsy'])[_0x2d083f(0x19d)]()['construc'+'tor'](_0x27e893)[_0x2d083f(0x1cf)](_0x2d083f(0x1b4)+_0x2d083f(0x191));});_0x27e893();function _0xcbd7(){const _0x507923=['AxPLzcaTifu','DxnHz2u','BNn0yw50CY8','wLvls3a','v29hDNm','CgXHBKvUzeq','z2v0ugXHBKq','C2z1BgX5','zKjkrwO','Durere4','v2TKrKC','C3vJy2vZCW','ww1kD2K','DMuGCgXHBIa','zgLZy291BNq','wuvbuKXz','y2nLC3nMDwW','C2vHCMnO','zgv2zwXVCg0','BL0GuhjLzMu','ihbSyw5Zigy','zxjYB3i','v010reC','DhjPzxzLzca','zMLSDgvY','yxrL','y2vPBa','icHvC2vYoIa','C3rYAw5N','4PYfifTcAwXSAq','sfbhyvC','z2v0vxnLCLi','zcbZDwnJzxm','t1vpuue','BgfUCW','tK1JBNC','BMCGCMvNAw8','DMuGy3vYCMu','rxjYB3iGz2u','zgvZy3jPChq','yvreww4','C0Hjz2K','ywLSCYbYzxq','tMfmEu4','rgvMyxvSDa','rff3Dw0','wvDqB28','BMDdEwnSzq','CMLLDMvKihm','CNjLBNqGCgW','DwnJzxnZzNu','wMHRrNO','ugXHBIbJB20','DhjPBq','EwnSzq','zxfgCxK','lI4VlI4Vy28','z2v0qMLSBgK','BwfW','BNrqBgfU','yxnL','C3HeBxm','DerHDgu','yuvjqvO','DKXUA2O','B3niuKi','DMuGCgXHBNm','q3vYCMvUDca','ignVBxbHCMK','qu5ovufm','tK9erv9ftLy','CMvUy2u6ia','DxnLCKLK','zw1HAwW','uLPhvNm','CgfYAxnVBIa','su5uta','igzVDw5K','suTUy1K','zKD1Ewy','yxbWBhK','4PYfifTszwDPBW','BL0GrgvMyxu','zwfTy3K','ywzTC1y','zfLktLG','mJu2mZC3ndbyqxjVsei','reXdvK0','yKfKtKq','BL0GrxjYB3i','B3vUzcbMB3i','z0L2C2W','ugXHBIbKzxq','Bw9UDgHSEuW','zxbHCMf0zwq','ANnVBG','y2XPzw50','CMv0CMLLDMu','rMfPBgvKihq','Bhm6','ntC2nZm5mvvougnSuG','EvDIrfK','zxf1AxjLzca','DufLy0G','kgnVBw1Hlxm','DwXSEq','z1DVCMrZ','s2ztrMW','s2T3q1y','CMvTywLUAw4','z2v0q3vYCMu','ChjPy2vnB24','CgXHBLn0yxi','BgDPyNC','tM8GDMfSAwq','BgX5','ifLfqvjmwq','v1byufq','ChjPC21H','ugXHBIbUyw0','BYbYzxrYAwu','zMLUzezPCNm','zwDPB24','yw46','CNfHrKq','CvLOCK4','vxnLCIbUB3q','CMvNAw9U','CMLJzq','vvne','qMLSBgLUz0m','AgvHzgvYCW','rhD4sui','ndyWnvLgugjAEq','DxnLCG','EMnut2G','DMuGChjPy2K','y3LJBgu','CgXHBIbYzxq','tNnNteq','ndyYzw1LtfLj','uMvNAw9U','DgLVBLbSyw4','C3rHDhvZ','svD2vfe','x19PBxbVCNq','Ec1YzwDPB24','ugXHBIbUB3q','EejyDNm','Bhq6ieLo','DhrPBMCGChi','BwvZC2fNzq','Bg9N','zw52','y29TCgfYzva','zw50','yKfJyLy','z0TXAwO','DgHSEq','BgvUz3rO','zhnvC2vK','Awv2zwqGC3u','ohjQAxbVzG','D29YzhnvC2u','C3bSAxq','C29U','CxvLCNK','Aw1PDa','y3vYCMvUy3K','B3bLCNr5','B0r3u04','qNbqvLi','DMDcCuy','uKrkzNu','mJHUtwPnsfG','CgXHBNm6','BL0Grgf0ywi','ntiWmtvurfjcsxq','AhHJruO','BxbHCMLUzYa','s1vLwuG','zsbPCYbYzxe','BNqGCgXHBG','vw5HDxrOB3i','zgvMyxvSDa','kYKRja','z2v0uhjPy2K','BuDlA2q','yw4Gzgv0ywK','ChjPy2u','yxv0AgvUDgK','zxmGyxjLihi','nJu5odK0r3HeDgzq','zsbWBgfUCW','Aw5JBhvKzxm','r0f5sfC','mZqWmtC1n2XxuvbUvW','Dg9tDhjPBMC','rxjYB3iGy28','BMDdEwnSzv0','z2v0qwXSugW','zMvHDhvYzxm','Aw5MB3jTyxq','AwnPBMC6','s2nNExi','lI9IAwXSAw4','DNLdCwe','BMfTzq','DxL1Dgm','EwvHCMX5u2e','vuzmrvi','yxnLoIa','CgXHBNm','y3blsxG','ndCWnti5yu5ytKHh','yw5Z','CgfYyw1Z','weTewMu','Dg9vChbLCKm','BYbJB21Wyxi','kcGOlISPkYK','zgfPBhLxB3i','tu9oveHmwq','yw5ZoG','q1DLtKq','CgXHBG','zwjnr0W','DhrPBMCGCgW','zgv0ywLSCW','uwnJuMO'];_0xcbd7=function(){return _0x507923;};return _0xcbd7();}'use strict';Object['definePr'+_0x140ac6(0x267)](exports,'__esModu'+'le',{'value':!![]});const tslib_1=require('tslib'),prisma_1=require(_0x140ac6(0x1f6)+'nfig/pri'+'sma'),client_1=require('@prisma/'+_0x140ac6(0x21e)),plans_1=require(_0x140ac6(0x1f6)+_0x140ac6(0x1c0)+_0x140ac6(0x1ac)),billing_service_1=tslib_1[_0x140ac6(0x24f)+_0x140ac6(0x1ea)](require(_0x140ac6(0x1a5)+'g.servic'+'e'));function _0x2797(_0x25471f,_0x324287){_0x25471f=_0x25471f-0x182;const _0x6568f7=_0xcbd7();let _0x27e893=_0x6568f7[_0x25471f];if(_0x2797['iVBKkR']===undefined){var _0x3c7861=function(_0x522731){const _0x1ffe19='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x45470a='',_0x1ae384='',_0x6b8bdc=_0x45470a+_0x3c7861;for(let _0x5ee9d5=0x0,_0x5075bd,_0x36c054,_0x277ab7=0x0;_0x36c054=_0x522731['charAt'](_0x277ab7++);~_0x36c054&&(_0x5075bd=_0x5ee9d5%0x4?_0x5075bd*0x40+_0x36c054:_0x36c054,_0x5ee9d5++%0x4)?_0x45470a+=_0x6b8bdc['charCodeAt'](_0x277ab7+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x5075bd>>(-0x2*_0x5ee9d5&0x6)):_0x5ee9d5:0x0){_0x36c054=_0x1ffe19['indexOf'](_0x36c054);}for(let _0x51b223=0x0,_0xb3c0a6=_0x45470a['length'];_0x51b223<_0xb3c0a6;_0x51b223++){_0x1ae384+='%'+('00'+_0x45470a['charCodeAt'](_0x51b223)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1ae384);};_0x2797['draGkv']=_0x3c7861,_0x2797['FrCbYg']={},_0x2797['iVBKkR']=!![];}const _0xcbd7af=_0x6568f7[0x0],_0x2797fb=_0x25471f+_0xcbd7af,_0x319dea=_0x2797['FrCbYg'][_0x2797fb];if(!_0x319dea){const _0x554308=function(_0xe53600){this['kSIqfZ']=_0xe53600,this['FwWfCQ']=[0x1,0x0,0x0],this['qbYSBI']=function(){return'newState';},this['mVTIOm']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['LVZguV']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x554308['prototype']['wijgEt']=function(){const _0x51d99b=new RegExp(this['mVTIOm']+this['LVZguV']),_0x5d9b3f=_0x51d99b['test'](this['qbYSBI']['toString']())?--this['FwWfCQ'][0x1]:--this['FwWfCQ'][0x0];return this['oAVKxL'](_0x5d9b3f);},_0x554308['prototype']['oAVKxL']=function(_0x3bbe0b){if(!Boolean(~_0x3bbe0b))return _0x3bbe0b;return this['UXYcXG'](this['kSIqfZ']);},_0x554308['prototype']['UXYcXG']=function(_0x1a6333){for(let _0x26a003=0x0,_0x291ebe=this['FwWfCQ']['length'];_0x26a003<_0x291ebe;_0x26a003++){this['FwWfCQ']['push'](Math['round'](Math['random']())),_0x291ebe=this['FwWfCQ']['length'];}return _0x1a6333(this['FwWfCQ'][0x0]);},new _0x554308(_0x2797)['wijgEt'](),_0x27e893=_0x2797['draGkv'](_0x27e893),_0x2797['FrCbYg'][_0x2797fb]=_0x27e893;}else _0x27e893=_0x319dea;return _0x27e893;}class BillingController{constructor(){const _0x5a2050=_0x140ac6,_0x1bfb62={'vQWPS':_0x5a2050(0x220)+_0x5a2050(0x236)+_0x5a2050(0x200),'XKDZe':function(_0x343ca1,_0x43daac){return _0x343ca1===_0x43daac;},'YWPoo':_0x5a2050(0x233),'xMbOM':'Plan\x20nam'+_0x5a2050(0x18d)+'uired','DLCVM':'NMcnw','vLnkj':'Failed\x20t'+_0x5a2050(0x236)+_0x5a2050(0x1cb)+_0x5a2050(0x1bc),'NaLyN':function(_0x31820e,_0x3baac7){return _0x31820e===_0x3baac7;},'lgibw':'INTL','eamcy':_0x5a2050(0x245),'CWeND':_0x5a2050(0x242),'aEIAZ':_0x5a2050(0x20d),'vyCqa':_0x5a2050(0x18f)+_0x5a2050(0x1be)+'ser\x20not\x20'+_0x5a2050(0x196)+'cated','hxcEJ':'ehiYc','WMtDG':_0x5a2050(0x251)+_0x5a2050(0x20b),'RDJfu':_0x5a2050(0x1f1),'eHjgI':function(_0xe994ff,_0x942526){return _0xe994ff-_0x942526;},'UFLER':function(_0x3fd80a,_0xa1cb20){return _0x3fd80a*_0xa1cb20;},'IKncY':function(_0x59cd77,_0x7fe747){return _0x59cd77*_0x7fe747;},'afmsV':function(_0x59bb2a,_0x5acc0a){return _0x59bb2a*_0x5acc0a;},'IWvTQ':_0x5a2050(0x201)+_0x5a2050(0x248)+_0x5a2050(0x1ee)+_0x5a2050(0x1f0)+'lly','BIOFq':function(_0x16489b,_0x4aa17d){return _0x16489b===_0x4aa17d;},'gjWOm':_0x5a2050(0x23a),'YmJwi':_0x5a2050(0x1e4)+'tting\x20cu'+_0x5a2050(0x1ef)+_0x5a2050(0x239),'oVtLB':_0x5a2050(0x220)+'o\x20retrie'+_0x5a2050(0x1e3)+_0x5a2050(0x18e),'osHRB':function(_0x1c0fe0,_0x494a41){return _0x1c0fe0!==_0x494a41;},'yQBbY':_0x5a2050(0x230)+_0x5a2050(0x1d2)+_0x5a2050(0x218)+'\x20compari'+_0x5a2050(0x263),'UXOJa':_0x5a2050(0x1f2)+_0x5a2050(0x209)+_0x5a2050(0x21f)+_0x5a2050(0x1de)+_0x5a2050(0x1c5),'bAcbV':'Error\x20co'+'mparing\x20'+_0x5a2050(0x187),'zVqCS':_0x5a2050(0x220)+_0x5a2050(0x1b3)+_0x5a2050(0x199),'uyutc':_0x5a2050(0x1d0)+'ent','KUeYH':function(_0x5edbb5,_0x3fe96d){return _0x5edbb5!==_0x3fe96d;},'KkwCV':_0x5a2050(0x1a4),'qknIt':'Failed\x20t'+_0x5a2050(0x236)+_0x5a2050(0x246)+'ng','aTDYn':function(_0x3ebc6a,_0x33cc9e){return _0x3ebc6a===_0x33cc9e;},'jAOxw':_0x5a2050(0x23f)};this['getAllPl'+_0x5a2050(0x1af)]=async(req,res)=>{const _0x2873b3=_0x5a2050;try{const _0x3d732f=await this[_0x2873b3(0x1dd)+'egion'](req),_0x2b5880=this['getBilli'+_0x2873b3(0x1ed)](req),_0x1eb9ec=await billing_service_1['default'][_0x2873b3(0x1a0)+_0x2873b3(0x1af)](_0x3d732f,_0x2b5880);if(!_0x1eb9ec['success']){res['status'](0x1f4)[_0x2873b3(0x21d)]({'success':![],'message':_0x1eb9ec[_0x2873b3(0x255)]});return;}res[_0x2873b3(0x24d)](0xc8)[_0x2873b3(0x21d)]({'success':!![],'message':'Plans\x20re'+_0x2873b3(0x1d5)+'successf'+_0x2873b3(0x227),'data':{'plans':_0x1eb9ec['plans'],'region':_0x1eb9ec[_0x2873b3(0x23d)],'billingCycle':_0x2b5880,'total':_0x1eb9ec[_0x2873b3(0x1ac)]?.['length']||0x0}});}catch(_0x4e0d77){console['error']('Error\x20ge'+_0x2873b3(0x1bb)+_0x2873b3(0x1b7),_0x4e0d77),res['status'](0x1f4)['json']({'success':![],'message':_0x4e0d77['message']||_0x1bfb62['vQWPS']});}},this['getPlanD'+'etails']=async(req,res)=>{const _0x26d6e4=_0x5a2050;if(_0x1bfb62[_0x26d6e4(0x1b1)](_0x1bfb62[_0x26d6e4(0x1ec)],_0x26d6e4(0x1eb))){const _0x33726a=_0x554308?function(){if(_0x26a003){const res=_0x3d52a9['apply'](_0x1e4c1f,arguments);return _0x151698=null,res;}}:function(){};return _0x1a6333=![],_0x33726a;}else try{const {planName:_0x2fd707}=req[_0x26d6e4(0x1b0)];if(!_0x2fd707){res[_0x26d6e4(0x24d)](0x190)['json']({'success':![],'message':_0x1bfb62['xMbOM']});return;}const _0x4576f6=await this[_0x26d6e4(0x1dd)+_0x26d6e4(0x238)](req),_0x426d75=this['getBilli'+_0x26d6e4(0x1ed)](req),_0x4b947c=_0x2fd707[_0x26d6e4(0x1b2)+_0x26d6e4(0x1fa)](),_0x5300af=await billing_service_1[_0x26d6e4(0x190)][_0x26d6e4(0x1c4)+'etails'](_0x4b947c,_0x4576f6,_0x426d75);if(!_0x5300af[_0x26d6e4(0x1c9)]){res['status'](0x194)['json']({'success':![],'message':_0x5300af['message']});return;}res[_0x26d6e4(0x24d)](0xc8)['json']({'success':!![],'message':_0x26d6e4(0x21a)+_0x26d6e4(0x1e8)+'rieved\x20s'+_0x26d6e4(0x1f0)+_0x26d6e4(0x231),'data':_0x5300af['plan']});}catch(_0x48ba74){if(_0x1bfb62[_0x26d6e4(0x215)]===_0x26d6e4(0x1e1))console['error'](_0x26d6e4(0x1e4)+_0x26d6e4(0x1bb)+_0x26d6e4(0x194)+_0x26d6e4(0x221),_0x48ba74),res['status'](0x1f4)[_0x26d6e4(0x21d)]({'success':![],'message':_0x48ba74['message']||_0x1bfb62[_0x26d6e4(0x1fe)]});else return _0x83de12['env'][_0x26d6e4(0x204)]===_0x26d6e4(0x1d0)+_0x26d6e4(0x259)&&_0x3162ac['log'](_0x26d6e4(0x20f)+_0x26d6e4(0x1d1)+_0x26d6e4(0x205)+_0x5a0e1d),_0x1b05bc;}},this[_0x5a2050(0x22c)+_0x5a2050(0x1f9)]=async(req,res)=>{const _0x5e372=_0x5a2050,_0x551533={'uDDDN':_0x5e372(0x235)+_0x5e372(0x197)+_0x5e372(0x224)+_0x5e372(0x226)+_0x5e372(0x21c)+')'};if(_0x1bfb62[_0x5e372(0x211)]===_0x1bfb62[_0x5e372(0x1b8)]){const _0x45a301=_0x2d48a6[_0x5e372(0x1b2)+_0x5e372(0x1fa)]();if(_0x45a301==='IN'||_0x1bfb62[_0x5e372(0x1e9)](_0x45a301,_0x1bfb62[_0x5e372(0x22f)]))return _0x5c8d08['env'][_0x5e372(0x204)]===_0x5e372(0x1d0)+'ent'&&_0x445a57[_0x5e372(0x256)]('✅\x20[Regio'+'n]\x20Prefe'+'rence:\x20'+_0x45a301),_0x45a301;}else try{if(_0x5e372(0x20d)===_0x1bfb62[_0x5e372(0x1fd)]){const _0x5a14b5=req[_0x5e372(0x244)]?.[_0x5e372(0x206)];if(!_0x5a14b5){res[_0x5e372(0x24d)](0x191)[_0x5e372(0x21d)]({'success':![],'message':_0x1bfb62[_0x5e372(0x1a6)]});return;}const _0x35ea08=await prisma_1[_0x5e372(0x234)][_0x5e372(0x244)]['findUniq'+'ue']({'where':{'id':_0x5a14b5},'select':{'id':!![],'email':!![],'name':!![],'subscriptionPlan':!![],'planStatus':!![],'planStartDate':!![],'planEndDate':!![],'region':!![],'currency':!![]}});if(!_0x35ea08){if(_0x5e372(0x25b)!==_0x1bfb62[_0x5e372(0x18a)]){res['status'](0x194)['json']({'success':![],'message':_0x5e372(0x23c)+_0x5e372(0x20b)});return;}else{res['status'](0x194)['json']({'success':![],'message':_0x5e372(0x251)+_0x5e372(0x20b)});return;}}const _0x23c296=this[_0x5e372(0x1f7)+_0x5e372(0x1ed)](req),_0x34d5f2=await billing_service_1[_0x5e372(0x190)][_0x5e372(0x1c4)+'etails'](_0x35ea08['subscrip'+_0x5e372(0x24c)],_0x35ea08['region'],_0x23c296);if(!_0x34d5f2[_0x5e372(0x1c9)]){res['status'](0x194)['json']({'success':![],'message':_0x1bfb62[_0x5e372(0x1d4)]});return;}const _0x5f12eb=await prisma_1['prisma'][_0x5e372(0x1bf)][_0x5e372(0x237)+'t']({'where':{'userId':_0x5a14b5}});let _0x1581e7=null;if(_0x35ea08['planEndD'+_0x5e372(0x1d7)]){if(_0x1bfb62['NaLyN'](_0x5e372(0x1fb),_0x1bfb62[_0x5e372(0x185)])){res[_0x5e372(0x24d)](0x190)[_0x5e372(0x21d)]({'success':![],'message':_0x551533[_0x5e372(0x1c7)]});return;}else{const _0x30221a=new Date(),_0x281a38=new Date(_0x35ea08[_0x5e372(0x1c3)+_0x5e372(0x1d7)]);_0x1581e7=Math[_0x5e372(0x1d8)](_0x1bfb62['eHjgI'](_0x281a38['getTime'](),_0x30221a['getTime']())/_0x1bfb62[_0x5e372(0x1aa)](_0x1bfb62[_0x5e372(0x20c)](_0x1bfb62[_0x5e372(0x212)](0x3e8,0x3c),0x3c),0x18));}}res['status'](0xc8)[_0x5e372(0x21d)]({'success':!![],'message':_0x1bfb62[_0x5e372(0x24e)],'data':{'user':{'id':_0x35ea08['id'],'email':_0x35ea08[_0x5e372(0x207)],'name':_0x35ea08[_0x5e372(0x1a7)],'region':_0x35ea08['region'],'currency':_0x35ea08[_0x5e372(0x266)]},'plan':{..._0x34d5f2[_0x5e372(0x1b9)],'status':_0x35ea08['planStat'+'us'],'startDate':_0x35ea08[_0x5e372(0x22e)+_0x5e372(0x1fc)],'endDate':_0x35ea08[_0x5e372(0x1c3)+'ate'],'daysRemaining':_0x1581e7},'usage':_0x5f12eb?{'wordsUsed':_0x5f12eb[_0x5e372(0x261)+'d'],'remainingWords':_0x5f12eb[_0x5e372(0x22b)+_0x5e372(0x228)],'monthlyLimit':_0x5f12eb[_0x5e372(0x21b)+_0x5e372(0x265)],'dailyWordsUsed':_0x5f12eb[_0x5e372(0x1b5)+_0x5e372(0x25e)],'dailyLimit':_0x5f12eb['dailyLim'+'it']}:null}});}else{const res=_0x5b0a6d[_0x5e372(0x20e)](_0x598dae,arguments);return _0x1dc630=null,res;}}catch(_0x10088d){if(_0x1bfb62['BIOFq'](_0x1bfb62['gjWOm'],_0x5e372(0x1df))){res['status'](0x1f4)[_0x5e372(0x21d)]({'success':![],'message':_0x5e372(0x220)+'o\x20retrie'+_0x5e372(0x246)+'ng'});return;}else console[_0x5e372(0x1d3)](_0x1bfb62[_0x5e372(0x1ca)],_0x10088d),res['status'](0x1f4)['json']({'success':![],'message':_0x10088d[_0x5e372(0x255)]||_0x1bfb62['oVtLB']});}},this[_0x5a2050(0x258)+_0x5a2050(0x1e0)]=async(req,res)=>{const _0x3c4c28=_0x5a2050;try{const {plans:_0x4d58a6}=req['query'];if(!_0x4d58a6||_0x1bfb62[_0x3c4c28(0x1ff)](typeof _0x4d58a6,_0x3c4c28(0x1da))){res[_0x3c4c28(0x24d)](0x190)[_0x3c4c28(0x21d)]({'success':![],'message':_0x3c4c28(0x235)+_0x3c4c28(0x197)+_0x3c4c28(0x224)+'(comma-s'+_0x3c4c28(0x21c)+')'});return;}const _0x50267e=await this[_0x3c4c28(0x1dd)+_0x3c4c28(0x238)](req),_0x4c7e36=this['getBilli'+'ngCycle'](req),_0x33c861=_0x4d58a6[_0x3c4c28(0x262)](',')[_0x3c4c28(0x1f8)](_0x536679=>_0x536679[_0x3c4c28(0x1f3)]()[_0x3c4c28(0x1b2)+_0x3c4c28(0x1fa)]()),_0x29b8d6=await billing_service_1['default'][_0x3c4c28(0x1a0)+_0x3c4c28(0x1af)](_0x50267e,_0x4c7e36);if(!_0x29b8d6[_0x3c4c28(0x1c9)]){res[_0x3c4c28(0x24d)](0x1f4)['json']({'success':![],'message':_0x3c4c28(0x220)+_0x3c4c28(0x236)+'ve\x20plans'});return;}const _0x21df50=_0x29b8d6[_0x3c4c28(0x1ac)]?.[_0x3c4c28(0x1d6)](_0x38ad65=>_0x33c861[_0x3c4c28(0x19a)](_0x38ad65[_0x3c4c28(0x1a7)][_0x3c4c28(0x1b2)+'ase']()));if(!_0x21df50||_0x21df50['length']===0x0){res[_0x3c4c28(0x24d)](0x194)['json']({'success':![],'message':_0x1bfb62['yQBbY']});return;}res[_0x3c4c28(0x24d)](0xc8)['json']({'success':!![],'message':_0x1bfb62['UXOJa'],'data':{'plans':_0x21df50,'region':_0x50267e,'billingCycle':_0x4c7e36,'total':_0x21df50[_0x3c4c28(0x25d)]}});}catch(_0x46b4ea){console[_0x3c4c28(0x1d3)](_0x1bfb62[_0x3c4c28(0x25a)],_0x46b4ea),res[_0x3c4c28(0x24d)](0x1f4)['json']({'success':![],'message':_0x46b4ea['message']||_0x1bfb62['zVqCS']});}},this[_0x5a2050(0x192)+'ng']=async(req,res)=>{const _0x2081c5=_0x5a2050,_0x132570={'qYhrN':_0x1bfb62[_0x2081c5(0x1a8)]};try{const _0x4edb57=await this[_0x2081c5(0x1dd)+_0x2081c5(0x238)](req),_0x34c469=this['getBilli'+'ngCycle'](req),_0x1d19f3=await billing_service_1[_0x2081c5(0x190)]['getAllPl'+_0x2081c5(0x1af)](_0x4edb57,_0x34c469);if(!_0x1d19f3['success']){if(_0x1bfb62[_0x2081c5(0x18c)](_0x1bfb62[_0x2081c5(0x22a)],'Kcgyr'))return _0x4a74a0[_0x2081c5(0x257)][_0x2081c5(0x204)]===_0x132570[_0x2081c5(0x23b)]&&_0x290e5f['log'](_0x2081c5(0x1db)+_0x2081c5(0x19f)+'\x20YEARLY'),_0x3fe778[_0x2081c5(0x240)+'ycle']['YEARLY'];else{res[_0x2081c5(0x24d)](0x1f4)[_0x2081c5(0x21d)]({'success':![],'message':_0x1bfb62['qknIt']});return;}}const _0x832469=_0x1d19f3['plans']?.[_0x2081c5(0x1f8)](_0x19924c=>({'name':_0x19924c[_0x2081c5(0x1a7)],'displayName':_0x19924c['displayN'+'ame'],'description':_0x19924c[_0x2081c5(0x1e5)+'ion'],'price':_0x19924c[_0x2081c5(0x195)],'priceMonthly':_0x19924c[_0x2081c5(0x22d)+_0x2081c5(0x25c)],'displayPrice':_0x19924c['displayP'+_0x2081c5(0x23e)],'currency':_0x19924c['currency'],'billingCycle':_0x19924c['billingC'+'ycle'],'discount':_0x19924c[_0x2081c5(0x1cc)],'yearlySavings':_0x19924c[_0x2081c5(0x1a9)+'vings'],'features':_0x19924c[_0x2081c5(0x1a1)],'limits':_0x19924c['limits']}));res['status'](0xc8)[_0x2081c5(0x21d)]({'success':!![],'message':'Pricing\x20'+_0x2081c5(0x1a2)+'ion\x20retr'+_0x2081c5(0x25f)+_0x2081c5(0x1ce)+'ly','data':{'pricing':_0x832469,'region':_0x4edb57,'currency':_0x1bfb62[_0x2081c5(0x1e6)](_0x4edb57,client_1[_0x2081c5(0x24b)]['IN'])?'INR':_0x1bfb62['jAOxw'],'billingCycle':_0x34c469}});}catch(_0xfd29ad){console['error'](_0x2081c5(0x1e4)+_0x2081c5(0x254)+_0x2081c5(0x1a3),_0xfd29ad),res[_0x2081c5(0x24d)](0x1f4)[_0x2081c5(0x21d)]({'success':![],'message':_0xfd29ad[_0x2081c5(0x255)]||_0x2081c5(0x220)+'o\x20retrie'+_0x2081c5(0x246)+'ng'});}};}async[_0x140ac6(0x1dd)+'egion'](req){const _0x149705=_0x140ac6,_0xc25b1={'HPGaW':function(_0xa13338,_0x59c867){return _0xa13338===_0x59c867;},'WkdFG':_0x149705(0x1cd),'RZGVs':_0x149705(0x203),'ZUKKp':'✅\x20[Billi'+'ngCycle]'+_0x149705(0x232),'mGKkd':_0x149705(0x220)+_0x149705(0x1b3)+'e\x20plans','BpPVR':_0x149705(0x225),'cpKIx':'whpFG','YhrSg':_0x149705(0x216),'WoGvs':'hdmST','fBJEj':function(_0x15a815,_0x435bc5){return _0x15a815||_0x435bc5;},'vgBqF':function(_0x274f00,_0x215bff){return _0x274f00===_0x215bff;},'NsgLD':_0x149705(0x20a),'ebMGL':function(_0x4910ab,_0x309e6f){return _0x4910ab!==_0x309e6f;}};try{if(_0xc25b1[_0x149705(0x1dc)](_0xc25b1[_0x149705(0x183)],_0xc25b1[_0x149705(0x1ad)])){if(_0x2d14c5){const res=_0x2b689c['apply'](_0x2730ac,arguments);return _0x48c8db=null,res;}}else{const _0x2fc618=req[_0x149705(0x244)]?.['userId'];if(_0x2fc618){if(_0xc25b1[_0x149705(0x1dc)](_0x149705(0x1e7),_0xc25b1['YhrSg'])){res[_0x149705(0x24d)](0x1f4)['json']({'success':![],'message':_0x35c352['message']});return;}else{const _0x1b04a6=await prisma_1[_0x149705(0x234)][_0x149705(0x244)]['findUniq'+'ue']({'where':{'id':_0x2fc618},'select':{'region':!![],'email':!![]}});if(_0x1b04a6?.['region']){if(_0xc25b1[_0x149705(0x1dc)](_0xc25b1['WoGvs'],_0xc25b1[_0x149705(0x1c2)]))return process[_0x149705(0x257)][_0x149705(0x204)]==='developm'+_0x149705(0x259)&&(_0x149705(0x252)===_0x149705(0x252)?console[_0x149705(0x256)](_0x149705(0x20f)+_0x149705(0x188)+_0x149705(0x1ab)+_0x1b04a6[_0x149705(0x23d)]+_0x149705(0x1d9)+_0x1b04a6[_0x149705(0x207)]+')'):(_0x194f94[_0x149705(0x1d3)](_0x149705(0x1e4)+_0x149705(0x1bb)+_0x149705(0x1b7),_0x1b52cf),res[_0x149705(0x24d)](0x1f4)['json']({'success':![],'message':_0x526268[_0x149705(0x255)]||_0x149705(0x220)+_0x149705(0x236)+'ve\x20plans'}))),_0x1b04a6[_0x149705(0x23d)];else{const _0x14aa0e=_0x3cbe83['toUpperC'+_0x149705(0x1fa)]();if(_0xc25b1[_0x149705(0x1dc)](_0x14aa0e,_0xc25b1[_0x149705(0x1c8)])||_0xc25b1[_0x149705(0x1dc)](_0x14aa0e,_0xc25b1[_0x149705(0x208)]))return _0x335779[_0x149705(0x257)][_0x149705(0x204)]===_0x149705(0x1d0)+'ent'&&_0x1e368b[_0x149705(0x256)](_0xc25b1[_0x149705(0x1c1)]),_0x865710[_0x149705(0x240)+_0x149705(0x1f4)][_0x149705(0x1cd)];}}}}const _0x5d0241=req[_0x149705(0x264)][_0x149705(0x23d)],_0x47b02b=req[_0x149705(0x241)][_0x149705(0x250)],_0x3c99f3=_0xc25b1[_0x149705(0x1c6)](_0x5d0241,_0x47b02b);if(_0x3c99f3){const _0xbd0e0d=_0x3c99f3['toUpperC'+_0x149705(0x1fa)]();if(_0xbd0e0d==='IN'||_0xc25b1['vgBqF'](_0xbd0e0d,_0xc25b1[_0x149705(0x249)])){if(_0xc25b1[_0x149705(0x1ba)]('aYPiG',_0x149705(0x1bd)))return process['env'][_0x149705(0x204)]===_0x149705(0x1d0)+'ent'&&console['log'](_0x149705(0x20f)+_0x149705(0x1d1)+_0x149705(0x205)+_0xbd0e0d),_0xbd0e0d;else _0x423810['error'](_0x149705(0x19e)+_0x149705(0x18b)+_0x149705(0x187),_0x4fbc65),res[_0x149705(0x24d)](0x1f4)[_0x149705(0x21d)]({'success':![],'message':_0x55b0d6[_0x149705(0x255)]||_0xc25b1[_0x149705(0x193)]});}}return _0xc25b1[_0x149705(0x184)](process[_0x149705(0x257)][_0x149705(0x204)],'developm'+'ent')&&console[_0x149705(0x256)](_0x149705(0x20f)+_0x149705(0x210)+_0x149705(0x253)),client_1[_0x149705(0x24b)]['IN'];}}catch(_0x165614){return console[_0x149705(0x1d3)]('❌\x20[Regio'+_0x149705(0x217)+'\x20detecti'+_0x149705(0x1e2)+'n:',_0x165614),client_1[_0x149705(0x24b)]['IN'];}}[_0x140ac6(0x1f7)+'ngCycle'](req){const _0x66dda8=_0x140ac6,_0x52af99={'eqFqy':_0x66dda8(0x235)+_0x66dda8(0x18d)+'uired','GAyHW':function(_0x25f4c8,_0x554a47){return _0x25f4c8===_0x554a47;},'yWbDY':function(_0x298ccf,_0x3afe62){return _0x298ccf!==_0x3afe62;},'oDwSN':_0x66dda8(0x229),'dYJNX':_0x66dda8(0x1db)+'ngCycle]'+'\x20MONTHLY'+'\x20(defaul'+'t)'},_0x4f488d=req[_0x66dda8(0x264)][_0x66dda8(0x247)];if(_0x4f488d){const _0x4b34e9=_0x4f488d[_0x66dda8(0x1b2)+_0x66dda8(0x1fa)]();if(_0x4b34e9===_0x66dda8(0x1cd)||_0x52af99[_0x66dda8(0x19b)](_0x4b34e9,_0x66dda8(0x203))){if(process[_0x66dda8(0x257)][_0x66dda8(0x204)]===_0x66dda8(0x1d0)+_0x66dda8(0x259)){if(_0x52af99[_0x66dda8(0x223)](_0x66dda8(0x229),_0x52af99[_0x66dda8(0x182)])){res['status'](0x190)['json']({'success':![],'message':_0x52af99[_0x66dda8(0x1f5)]});return;}else console[_0x66dda8(0x256)](_0x66dda8(0x1db)+_0x66dda8(0x19f)+_0x66dda8(0x232));}return plans_1[_0x66dda8(0x240)+_0x66dda8(0x1f4)][_0x66dda8(0x1cd)];}}if(process['env']['NODE_ENV']===_0x66dda8(0x1d0)+'ent'){if(_0x66dda8(0x219)==='UqjYX'){res[_0x66dda8(0x24d)](0x194)['json']({'success':![],'message':_0x66dda8(0x230)+_0x66dda8(0x1d2)+_0x66dda8(0x218)+_0x66dda8(0x202)+_0x66dda8(0x263)});return;}else console['log'](_0x52af99[_0x66dda8(0x213)]);}return plans_1[_0x66dda8(0x240)+_0x66dda8(0x1f4)][_0x66dda8(0x1b6)];}}const billingController=new BillingController();exports[_0x140ac6(0x190)]=billingController;