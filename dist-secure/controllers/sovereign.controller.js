const _0x5777b5=_0x1000;(function(_0x10e3be,_0x56d41e){const _0x5a426a=_0x1000,_0x342b52=_0x10e3be();while(!![]){try{const _0x4377cf=-parseInt(_0x5a426a(0xd9))/0x1+parseInt(_0x5a426a(0x10d))/0x2*(parseInt(_0x5a426a(0x125))/0x3)+parseInt(_0x5a426a(0x10a))/0x4*(parseInt(_0x5a426a(0x100))/0x5)+-parseInt(_0x5a426a(0x126))/0x6*(-parseInt(_0x5a426a(0x129))/0x7)+-parseInt(_0x5a426a(0x11d))/0x8+parseInt(_0x5a426a(0xdd))/0x9*(-parseInt(_0x5a426a(0x10f))/0xa)+-parseInt(_0x5a426a(0x12b))/0xb;if(_0x4377cf===_0x56d41e)break;else _0x342b52['push'](_0x342b52['shift']());}catch(_0x524c09){_0x342b52['push'](_0x342b52['shift']());}}}(_0x15f0,0xe44f8));const _0x338e=(function(){let _0x2e8c22=!![];return function(_0x1cd198,_0x1b1eca){const _0x5dcac4=_0x2e8c22?function(){const _0x40649a=_0x1000;if(_0x1b1eca){const res=_0x1b1eca[_0x40649a(0xfa)](_0x1cd198,arguments);return _0x1b1eca=null,res;}}:function(){};return _0x2e8c22=![],_0x5dcac4;};}()),_0x237fc7=_0x338e(this,function(){const _0x1f77ae=_0x1000,_0x4e9f58={'eYAuC':_0x1f77ae(0xec)+_0x1f77ae(0x114)};return _0x237fc7['toString']()[_0x1f77ae(0xfe)](_0x4e9f58[_0x1f77ae(0xdc)])[_0x1f77ae(0x11c)]()[_0x1f77ae(0xd7)+'tor'](_0x237fc7)[_0x1f77ae(0xfe)](_0x1f77ae(0xec)+'+)+$');});_0x237fc7();'use strict';function _0x1000(_0x24ca8a,_0x4f08c3){_0x24ca8a=_0x24ca8a-0xd2;const _0x3b7d70=_0x15f0();let _0x237fc7=_0x3b7d70[_0x24ca8a];if(_0x1000['OUyWJT']===undefined){var _0x338e=function(_0x56a0ed){const _0x12c301='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x537b50='',_0x4db4df='',_0x39b2c0=_0x537b50+_0x338e;for(let _0x1a4573=0x0,_0x28851d,_0x2361a9,_0x227e81=0x0;_0x2361a9=_0x56a0ed['charAt'](_0x227e81++);~_0x2361a9&&(_0x28851d=_0x1a4573%0x4?_0x28851d*0x40+_0x2361a9:_0x2361a9,_0x1a4573++%0x4)?_0x537b50+=_0x39b2c0['charCodeAt'](_0x227e81+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x28851d>>(-0x2*_0x1a4573&0x6)):_0x1a4573:0x0){_0x2361a9=_0x12c301['indexOf'](_0x2361a9);}for(let _0x5df98b=0x0,_0x35d644=_0x537b50['length'];_0x5df98b<_0x35d644;_0x5df98b++){_0x4db4df+='%'+('00'+_0x537b50['charCodeAt'](_0x5df98b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4db4df);};_0x1000['xgusPZ']=_0x338e,_0x1000['FIEukl']={},_0x1000['OUyWJT']=!![];}const _0x15f0e2=_0x3b7d70[0x0],_0x100080=_0x24ca8a+_0x15f0e2,_0x45e45f=_0x1000['FIEukl'][_0x100080];if(!_0x45e45f){const _0x225061=function(_0x3e267e){this['IndSbE']=_0x3e267e,this['QUKCDT']=[0x1,0x0,0x0],this['htfSZb']=function(){return'newState';},this['NirxwM']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['BrCTsz']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x225061['prototype']['IkFbdL']=function(){const _0x2c959b=new RegExp(this['NirxwM']+this['BrCTsz']),_0x489169=_0x2c959b['test'](this['htfSZb']['toString']())?--this['QUKCDT'][0x1]:--this['QUKCDT'][0x0];return this['TZbetn'](_0x489169);},_0x225061['prototype']['TZbetn']=function(_0x329455){if(!Boolean(~_0x329455))return _0x329455;return this['doPxIF'](this['IndSbE']);},_0x225061['prototype']['doPxIF']=function(_0x86a94d){for(let _0xe78a44=0x0,_0x11ed8c=this['QUKCDT']['length'];_0xe78a44<_0x11ed8c;_0xe78a44++){this['QUKCDT']['push'](Math['round'](Math['random']())),_0x11ed8c=this['QUKCDT']['length'];}return _0x86a94d(this['QUKCDT'][0x0]);},new _0x225061(_0x1000)['IkFbdL'](),_0x237fc7=_0x1000['xgusPZ'](_0x237fc7),_0x1000['FIEukl'][_0x100080]=_0x237fc7;}else _0x237fc7=_0x45e45f;return _0x237fc7;}function _0x15f0(){const _0x5d27f9=['yxr1CW','mtGWmtCZrLH2tM9j','C3rHDhvZ','ntu0nZi1nNzgC0XwyG','yxrPB24Gy28','DMf0Aw9Uigu','z2v0vgLTzq','ugXHBLr5Cgu','C2v0','ig1PBNv0zxm','DxnLCIa','AwDUoIbby3q','s3ftBMC','AwDUihn0yxq','uuf2Bum','zgvSzxrL','B2DPBIbMAxi','y29UC3rYDwm','y2vPBa','otG2odC2uMDdCgnw','otGXntK5otq','DxbKyxrL','zvLbDum','mZC2nta1mxvOtg14vq','Ce9fr3y','reTVBxu','BM93','zMLUzfvUAxe','ugXLyxnLigW','yxv0Ag9YAxO','AwDUigfJDgK','AxzHDgvKigy','qxv0Ag9YAxO','z2v0','sw52ywXPzca','y291BNq','zg1Vz3y','ywn0AxzHDgu','kcGOlISPkYK','Dg9Y','ANnVBG','igf0DgvTChq','DxmGy2HLy2S','CgXHBLr5Cgu','Bxb0','wKXyAuO','DxnLCG','zgvMAw5Luhi','r1zKyMe','8j+rKsbtB3zLCMu','tL9qqvntv08','CY4Gvhj5ige','yxbWBhK','Dw5SAw1PDgu','z2XiwKi','u292zxjLAwC','C2vHCMnO','zgv0Bha','mtG0mdm1zNjYCefh','CMvK','z2P5tMq','zguGCMvXDwK','B3bLCNr5','zw52','AxPLza','ihnLCNzLCIa','CNjVCJO','B3iGDxnLCIa','mtmYz3HZAMT6','zxjLAwDUu3q','Eg1OCuy','mZuYmtK0ofDlBKvwrG','zxjYB3i','mtb2D01Vy2G','zg1dwLm','y3rPDMf0zwq','u09wrvjfsuC','BgfZDef0Dgu','kYKRja','y2XPzw50','z2fPBIbPBIa','x19LC01Vzhu','z2fXsNK','zw1HAwW','AKDYte4','AwDUoIbgywK','Dg9tDhjPBMC','mJa3nZaZmLzfvhDMuG','4P2mifnVDMvYzq','t3DUwe4','C292zxjLAwC','sw50zxjUywW','Bg9N','DNPMALC','vg9Vig1HBNK','m1b0seziva','mZbKywLfvgW','zgvMyxvSDa'];_0x15f0=function(){return _0x5d27f9;};return _0x15f0();}Object[_0x5777b5(0xf5)+_0x5777b5(0x104)](exports,_0x5777b5(0x117)+'le',{'value':!![]});const client_1=require('@prisma/'+_0x5777b5(0x115)),prisma=new client_1['PrismaCl'+'ient'](),SOVEREIGN_PASSWORD=process[_0x5777b5(0x105)][_0x5777b5(0x112)+_0x5777b5(0xf8)+'RD']||_0x5777b5(0xda)+'74',failedAttempts=new Map(),MAX_ATTEMPTS=0x5,LOCKOUT_MINUTES=0x1e;class SovereignController{async[_0x5777b5(0xeb)+'Sovereig'+'n'](req,res){const _0x1af0e0=_0x5777b5,_0x2d81d9={'ZLXiJ':_0x1af0e0(0xe2)+_0x1af0e0(0xd6)+'st','DKomu':function(_0x33f1e8,_0x24fc53){return _0x33f1e8-_0x24fc53;},'jGrLN':function(_0x2b96f9,_0x5b18c7){return _0x2b96f9*_0x5b18c7;},'GVdba':function(_0x4f9b4c,_0x54ab5d){return _0x4f9b4c<_0x54ab5d;},'vzfjW':function(_0x354658,_0x1b8b36){return _0x354658/_0x1b8b36;},'OwnXN':function(_0x1d23b8,_0x121b8c){return _0x1d23b8===_0x121b8c;},'KqSng':_0x1af0e0(0x10c),'okUmp':_0x1af0e0(0xe6)+'ation\x20co'+_0x1af0e0(0x103)+'red','UFrrX':_0x1af0e0(0xfb)+'d','dmogv':_0x1af0e0(0x11e)+_0x1af0e0(0xe4)+_0x1af0e0(0x12d)+'rror:'};try{const _0x2921dd=req['user']?.['id'],_0x38435a=req[_0x1af0e0(0xf4)]?.[_0x1af0e0(0x119)],{password:_0x30168e}=req['body'];if(!_0x2921dd){res[_0x1af0e0(0x12a)](0x191)[_0x1af0e0(0xee)]({'success':![],'error':_0x2d81d9[_0x1af0e0(0xf3)]});return;}const _0x242ca4=_0x2921dd,_0x3e39f8=failedAttempts[_0x1af0e0(0xe7)](_0x242ca4);if(_0x3e39f8){const _0x1461e3=_0x2d81d9[_0x1af0e0(0xdf)](Date[_0x1af0e0(0xe0)](),_0x3e39f8[_0x1af0e0(0x113)+_0x1af0e0(0xf2)][_0x1af0e0(0x12e)]()),_0x3edd6c=_0x2d81d9[_0x1af0e0(0x11a)](LOCKOUT_MINUTES*0x3c,0x3e8);if(_0x3e39f8[_0x1af0e0(0xe9)]>=MAX_ATTEMPTS&&_0x2d81d9[_0x1af0e0(0xf6)](_0x1461e3,_0x3edd6c)){const _0x47bd98=Math[_0x1af0e0(0xd8)](_0x2d81d9[_0x1af0e0(0x123)](_0x2d81d9[_0x1af0e0(0xdf)](_0x3edd6c,_0x1461e3),0xea60));res[_0x1af0e0(0x12a)](0x1ad)[_0x1af0e0(0xee)]({'success':![],'error':_0x1af0e0(0x124)+_0x1af0e0(0xef)+_0x1af0e0(0xf9)+_0x1af0e0(0x116)+_0x47bd98+(_0x1af0e0(0x131)+'.')});return;}_0x1461e3>=_0x3edd6c&&failedAttempts[_0x1af0e0(0xd5)](_0x242ca4);}if(!_0x30168e){if(_0x2d81d9[_0x1af0e0(0x11f)](_0x2d81d9['KqSng'],_0x2d81d9[_0x1af0e0(0xd2)])){res[_0x1af0e0(0x12a)](0x190)[_0x1af0e0(0xee)]({'success':![],'error':_0x2d81d9['okUmp']});return;}else return _0x34cd81[_0x1af0e0(0x11c)]()[_0x1af0e0(0xfe)]('(((.+)+)'+'+)+$')['toString']()[_0x1af0e0(0xd7)+_0x1af0e0(0xed)](_0x553085)[_0x1af0e0(0xfe)](_0x1af0e0(0xec)+'+)+$');}if(_0x30168e!==SOVEREIGN_PASSWORD){const _0x4e0e1d=failedAttempts[_0x1af0e0(0xe7)](_0x242ca4)||{'count':0x0,'lastAttempt':new Date()};_0x4e0e1d[_0x1af0e0(0xe9)]+=0x1,_0x4e0e1d[_0x1af0e0(0x113)+'mpt']=new Date(),failedAttempts[_0x1af0e0(0x130)](_0x242ca4,_0x4e0e1d),console[_0x1af0e0(0x122)]('⚠️\x20Sovere'+_0x1af0e0(0x11b)+'led\x20atte'+'mpt\x20for\x20'+_0x1af0e0(0x132)+_0x38435a+'\x20('+_0x4e0e1d[_0x1af0e0(0xe9)]+'/'+MAX_ATTEMPTS+')'),res[_0x1af0e0(0x12a)](0x193)[_0x1af0e0(0xee)]({'success':![],'error':_0x1af0e0(0xe8)+_0x1af0e0(0xe3)+_0x1af0e0(0x12c)+'de'});return;}await prisma[_0x1af0e0(0xf4)][_0x1af0e0(0xdb)]({'where':{'id':_0x2921dd},'data':{'planType':client_1[_0x1af0e0(0x12f)][_0x1af0e0(0x112)+'N'],'subscriptionPlan':_0x1af0e0(0x120)+'n'}}),failedAttempts[_0x1af0e0(0xd5)](_0x242ca4),console[_0x1af0e0(0x122)](_0x1af0e0(0xf7)+_0x1af0e0(0x133)+_0x1af0e0(0xe5)+_0x1af0e0(0x109)+_0x38435a),res[_0x1af0e0(0x12a)](0xc8)[_0x1af0e0(0xee)]({'success':!![],'message':_0x1af0e0(0xfd)+'n\x20mode\x20a'+_0x1af0e0(0x111)+'!','plan':_0x1af0e0(0x112)+'N','features':{'voice':_0x2d81d9['UFrrX'],'studio':'unlimite'+'d','tokens':_0x1af0e0(0xfb)+'d','documents':_0x2d81d9['UFrrX']}});}catch(_0x348c64){console['error'](_0x2d81d9[_0x1af0e0(0xea)],_0x348c64),res['status'](0x1f4)['json']({'success':![],'error':_0x1af0e0(0x121)+_0x1af0e0(0x107)+'error'});}}async['checkSov'+_0x5777b5(0x10b)+_0x5777b5(0x128)](req,res){const _0x206811=_0x5777b5,_0x506db1={'detlp':'❌\x20Sovere'+'ign\x20acti'+_0x206811(0x12d)+_0x206811(0x108),'dmCZS':_0x206811(0x121)+'\x20server\x20'+'error','pOEGv':_0x206811(0x102),'gaqJy':_0x206811(0xd4),'YylXA':function(_0x291f61,_0x120f4f){return _0x291f61===_0x120f4f;}};try{if(_0x506db1[_0x206811(0xde)]!==_0x206811(0xfc)){const _0x1ac6c6=req[_0x206811(0xf4)]?.['id'];if(!_0x1ac6c6){if('wZiop'===_0x506db1[_0x206811(0x118)])_0x38481f['error'](_0x506db1[_0x206811(0xff)],_0x978dd6),res[_0x206811(0x12a)](0x1f4)[_0x206811(0xee)]({'success':![],'error':_0x506db1[_0x206811(0x110)]});else{res[_0x206811(0x12a)](0x191)[_0x206811(0xee)]({'success':![],'error':'Unauthor'+_0x206811(0x106)});return;}}const _0x403022=await prisma['user'][_0x206811(0xe1)+'ue']({'where':{'id':_0x1ac6c6},'select':{'planType':!![],'subscriptionPlan':!![]}}),_0x1fcca6=_0x506db1['YylXA'](_0x403022?.[_0x206811(0xf1)],client_1[_0x206811(0x12f)][_0x206811(0x112)+'N']);res[_0x206811(0x12a)](0xc8)[_0x206811(0xee)]({'success':!![],'isSovereign':_0x1fcca6,'planType':_0x403022?.[_0x206811(0xf1)]});}else{res[_0x206811(0x12a)](0x190)[_0x206811(0xee)]({'success':![],'error':_0x206811(0xe6)+'ation\x20co'+_0x206811(0x103)+_0x206811(0x101)});return;}}catch(_0x146da8){console[_0x206811(0x10e)](_0x206811(0x11e)+_0x206811(0xd3)+_0x206811(0xf0)+'\x20error:',_0x146da8),res['status'](0x1f4)['json']({'success':![],'error':_0x206811(0x121)+_0x206811(0x107)+_0x206811(0x10e)});}}}exports[_0x5777b5(0x127)]=new SovereignController();