const _0x3914aa=_0x573f;(function(_0xf7d77e,_0x2238e7){const _0x22f328=_0x573f,_0x23c79e=_0xf7d77e();while(!![]){try{const _0x3973ec=-parseInt(_0x22f328(0x16f))/0x1*(-parseInt(_0x22f328(0x1e9))/0x2)+parseInt(_0x22f328(0x172))/0x3*(parseInt(_0x22f328(0x14c))/0x4)+-parseInt(_0x22f328(0x2c3))/0x5*(-parseInt(_0x22f328(0x179))/0x6)+-parseInt(_0x22f328(0x1fa))/0x7*(parseInt(_0x22f328(0x136))/0x8)+-parseInt(_0x22f328(0x1d7))/0x9*(parseInt(_0x22f328(0x2de))/0xa)+parseInt(_0x22f328(0x293))/0xb+parseInt(_0x22f328(0x189))/0xc*(parseInt(_0x22f328(0x10c))/0xd);if(_0x3973ec===_0x2238e7)break;else _0x23c79e['push'](_0x23c79e['shift']());}catch(_0x787cb4){_0x23c79e['push'](_0x23c79e['shift']());}}}(_0x2727,0x9ac63));function _0x2727(){const _0x5734b2=['Afn0yxr1CW','ChvZCKG','Aw1JDwK','zMXHz3m','u3rHDhmGCMu','sLvMBw8','ChjVy2vZC2K','zgf0ytOG','twzgzha','CMvTywLUAw4','ChvZAa','sLHcvKO','rNjjwKK','BgfUz3vHz2u','BxvZDcbIzsa','tMLdCeS','DwvZDcbMCM8','DhnSAwi','Agf0igvYCM8','Dgv4Dc9LDMu','ndi5nNvuALz3Dq','C3bSAxq','C3vJy2vZCW','r09pr0Xfx0e','AxmGCMvXDwK','ufntwxC','s05fswK','t3jJAgvZDhi','z2v0rgfPBhK','Dw09','zxHLy3v0zvC','ugXLyxnLigS','yw5HBhLZAxm','C3rYAw5NAwy','AxmGDg9VigW','A3vPuKW','vw5RBM93BG','BMDuAw1Ltxm','zxHLy3v0zq','CNzPy2vZl2e','ihrVA2vUCZO','zxH0CMfJDe0','otuYntj1tePUugW','D0T1r1a','EgzWELu','z2v0rw5HyMW','v25eAuC','ugvYugXHBG','igv4zwn1DgK','zgf0ytOGw0q','DhjPBq','BNn0yw50CY8','zwrqBgfUCW','DgLVBIbYzxm','CxrTuNm','DfLdu04','lI4VlI4VC2u','DxnLCG','yM9UDxm','v0TOrgy','BM90igLUAxq','rejKr0e','yw1L','Bwv0CMLJCW','uKfuvvjf','x19LC01Vzhu','C2vKig9Uihq','EujpDKm','C3rYyxrVCG','ywf2AfG','DgvJDgvKlIa','vhLWzq','C2vHCMnO','zxf1AxjLza','quLFuKvrvuu','r2v0ihn0yxq','rMfPBgvKihq','ndCZmZGZr010BK9p','z3fos1C','BYbKzwr1y3q','m05RvM5SAq','BM8Ty2fJAgu','zgvMyxvSDfq','Bwriu1q','z2v0sgvHBhq','zMfSC2u','vgvTCgvYyxq','ndHlDe1dvK0','qu5usfjpueK','kcGOlISPkYK','qLzcv2i','zgvMAw5Luhi','zgv0zwn0zwq','D3jPDgu','u1rbuLrfuG','wu5iy3y','z2v0vg9Rzw4','sgHlAgC','BMDZlG','AwvUDcb0B2S','yxnLihvWz3i','iokDJca','vg9Rzw4Gzgu','mJuZmLnczu5PBa','t05fxqOk','CfnTqK4','rgvKDwn0zwq','zMvTywXL','ideWmdaWma','Dg90ywXuB2S','t04GyxjYyxK','C3LZDgvTuhi','uwjWv2e','r3LwqwC','y29UDMvYC2e','zM9Yihn0CMu','rxn0Aw1HDgu','C2v0sgvHzgu','EhHprNO','kYKRja','CgvSAw5L','q29UDgv4Dca','C2vZC2LVBKK','AwD1CMf0Aw8','CwTnrva','CYbTDxn0igi','yw1PBMCSigm','ExbL','ChjPBwfYEuW','zwqGC3LZDgu','BgvK','u3rYzwfTigm','Aw5N','lNnLCNzPy2u','CMvK','Cg9UC2uGz2u','AxnjBML0Awe','AxrOrMfSBgi','zxi6ia','AwrLCI5Mywm','zw5HyMXLugK','ueLFs0vz','rv9dqunirq','ChjVDMLKzxi','y1rltMC','igjLigfUige','ww9qshO','A0Prv3q','r2v0ihn1z2C','t2rsy3K','CxvLCNLuExa','ihb1CMnOyxm','z2v0vgLLCNm','zw5HyMXLvg8','B21WBgv0zwq','ug9VBhm','B25ZigDLBMu','wxrNsNu','C1vZzwq','yM5gENe','BMuUB3jJAgu','yNHdzfq','Dg9Rzw5Zvxm','ihbVB2WUifi','BgL6zwq','Dw9dy1K','DfHAv1m','Aw5MBW','CxvLCNK','u3rYzwfTigy','qvfRr3K','CenVqK8','Bsb1C2vYoIa','C3bVBNnLtgK','lI4VlI4VBw8','Bgv0zwq','Dw5OzwfSDgG','As9WAxbLBgK','zw5ZlIbqBgu','ywLdB250CM8','CM91DgvY','mtuZA1fQveHr','DgvJDgvKlG','qwj1C2L2zsa','q2HHDcbYzxe','q2fJAguTq28','AgvHzgvYC1m','ChLqEfu','zYb3AxrOB3u','B25ZihjLCxu','DxjL','ywLnB2rLBhm','zNvSBhK','BYbMzxrJAca','DgvhruS','zMLUza','C2vZC2LVBL8','iokAOo+4JYa','AxnbCNjHEq','mNfAsurRta','Bg9HzenVBMy','BMnL','lcbcB251CZ0','rMfJDg9YEq','r1Pnshu','zw5K','C3rYzwfTv2K','qM9VC3rLCG','Bwv0ywrHDge','sxzHywq','su9srg0','zhvSzxmVyMK','zgvMyxvSDa','ENb1tfu','BsbWCM9TChq','C2vJzMK','nJK3owHMu3vNqW','DxnLzezHBgW','x19PBxbVCNq','uKjpyLK','twvZC2fNzsa','B250Aw51Aw4','DvzoBwi','ignOyxjZkq','yw5HBhL6zxi','qxv0AgvUDgK','EMvK','igDLBMvYyxq','Aw5PDgLHBgK','zxn0igzYB20','rvDzqum','y29UDgvUDca','DgLVBKHPC3q','BgvUz3rO','zw5Z','CgLWzwXPBMu','Dg9vChbLCKm','shbeB1G','yxbWBhK','z2vUzgvY','ywrLihLVDxi','BMvYyxrLza','EhqUifjLDhu','zM9UBe0','rv9qsvbfteK','ugLWzwXPBMu','rgvMyxvSDa','txbPBvO','y2f0Aw9Uihi','igrLzMf1Bhq','zw4GmsbHBMq','A2vUvhjHy2S','igjLigeGBNu','q19bueLFs0u','z2v0r2vUzgu','vfjbq0TjtKC','zNPMuNm','u3vNz2vZDgK','z2v0ugXHBLq','mZaWmda','t3Pzrwi','BMqGmG','ENn6wum','ChjLBwL1Bq','t3vpCvm','AKLKwMC','ihn1y2nLC3m','v0TLrwW','AKPPA0O','ihrVA2vUCYa','zxiGyMv0D2u','De5jwMy','BgXLCIbPBMK','DMfSAwrHDgu','BKTfuhe','CgXHBNnnyw4','ysbUB24Tzw0','C3rYAw5N','z3PiyLu','ugXHBLr5Cgu','BYbNzw5LCMe','A2zfuMW','uhjVDMLKzxi','Chr5ihn0CMK','DxjLig11C3q','zff1zxj5','sw5HChbYB3a','r2jStM8','CxftBMK','zsbIB29ZDgu','igzHAwXLzca','zxjZl3bYB3y','quLFru5bqKW','ihbSyw4GB3i','AgvHBhrO','ANnVBG','zxrHzgf0yq','y29UDgvUDa','ideWmdaWigm','uuDnsK8','BNvTyMvY','DwvZDcbMywK','CYbLCNjVCG','z2v0u3rHDhm','zMLSDgvY','yM9KEq','igzVBgXVDY0','quLsB3v0zxi','AwnL','BuTvwg8','rv9ut0TftL8','C3rYzwfTq2G','ihnOB3j0lca','zxjYB3i','BLj4Bwe','rv9nrvrssum','D2fYBG','CgvJDgz1Bc4','DgLVBIbZDge','y2HHDa','A2vLCc1HBgK','ywnR','sxbjDhe','DxnLug9VBa','C2XPy2u','DgLHBgL6zwq','q29UDMvYC2e','yxrZ','yxnL','C0fZEvi','q2HHDcbLCNi','BNrYB2W','sNfir3G','zY9YB3v0zxi','zwvWihrOzsa','wKnTruy','r1LQCNO','wxjKC2G','uLLuD0C','zhDuCfC','C3rHDhvZ','z2v0','Dgf4Ceq','z2v0u3vNz2u','zcWGDxnPBMC','lI4VlI4Vy28','Bg9N','BMfTzq','q2HHDcbYzxm','vwvsyvi','thHyDvC','zw1WzxjHDhu','CYbYzxf1zxm','DxaGCxvLC3q','ywLSzwq','Dhfqz0W','C3rPB25Z','CMf0zwq','sw5ZDwzMAwm','CgXHBLr5Cgu','ywrKB25cB28','C3LZDgvT','twvZC2fNzq','zgvKDwn0vg8','z2v0qM90uMu','twf4vg9Rzw4','B3j5','BwvZC2fNzq','BwjLCIbIzxq','mtm2mtmYndHlq0nzrvy','suPqv3i','B25NicHTyxG','igzYB20GDxm','twnHAe0','zgv0zwn0Aw8','ChjLzML4','r2vUzxjHDgu','CM4GyxmGsLm','zxn0Aw1HDgu','EwrrExK','BgXLCG','A2vUCW','zw50','ihrVA2vUCW','B3bLCNr5','AxnbyNvZAxy','igzVCIbZDhi','y29UzMLKzw4','zw1HAw5PBMC','yxrVCG','ihvZzxi6ia','vg9Rzw5dB3m','tfrOCfC','u1fcB2S','rMneq1K','Dg9ju09tDhi','BM93','zwfTAw5N','Dg9tDhjPBMC','z2v0q2fJAgu','sNjWzwK','twTtsvq','CMvKigfUzca','z2v0sw5ZDge','rfPSv0K','AxnfBw90Aw8','Dg90ywW','twDIyxK','sw5MBW','qNn6uMq','C1n1rxC','rgnnzwG','B21WDa','qvfuvg8','yw1PBMC','rvrssuvt','DxnLCKLK','odiXmgnzrLf0AG','u2vYDMLJzq','CxvLC3q','lIbezwr1y3q','z2DPBMC','rxvdtwG','CLHoC2O','AguGy29UDgu','u3zkv3G','CgfYC2u','tfrFvevnueu','zxjYB3iGywy','mc43','As9YB3v0Aw4','CMLHDguGy28','ywDLCG','BwfSzq','zhvJDgLVBIa','D2vLBIaWige','Bw9KzwXvC2u','r2v0ihrPzxi','BgXPBMCVDxm','Aw5ZDgfUy2u','DxnLCM5HBwu','vwDJC24','Agf0igzHAwW','ywDLlNnLCNy','nZmZnZGWyNLIywvA','BNrLBNqGzgu','zw52','t0nIBfC','AgfYywn0zxi','z2v0qwXSu3q','zw5ZigzVCIa','AwfSAxPLza','zsbHig51Bwi','ndeYmtbXu1DkreC','zNjVBsa','y2fUqwzMB3i','CNmU','w0fjq29UDhi','shLzuMO','ig9Mihn0CMK','zw5HyMXLtg8','Aw5JBhvKzxm','DgvYihn0CMu','Bw9KzwW','y29UzMLN','C3rLCG','t1bftKfjx0e','B3j5ig11C3q','BwL0','BMfSu3vWCg8','AgvJAYbMywK','ze5NBKC','AgvHBhrOEq','DgHgywXSyMe','BwfW'];_0x2727=function(){return _0x5734b2;};return _0x2727();}const _0x36fdb8=(function(){const _0x2b9b68=_0x573f,_0x1019fd={'WKhDf':_0x2b9b68(0x2ab),'Yrdsh':function(_0x405f5a,_0x15ed11){return _0x405f5a===_0x15ed11;},'rpHgk':_0x2b9b68(0x158)};let _0x2c6e69=!![];return function(_0x4b3c77,_0x15a50d){const _0x810ae7=_0x2b9b68;if(_0x1019fd[_0x810ae7(0x273)](_0x1019fd['rpHgk'],_0x1019fd['rpHgk'])){const _0x233cff=_0x2c6e69?function(){const _0x17e01c=_0x810ae7;if(_0x15a50d){if(_0x1019fd[_0x17e01c(0x15d)]!=='urXLW'){const res=_0x15a50d[_0x17e01c(0x210)](_0x4b3c77,arguments);return _0x15a50d=null,res;}else{const _0x114bc6=_0x2495e7?function(){const _0x496ce0=_0x17e01c;if(_0x3f25e8){const res=_0x4f0f2f[_0x496ce0(0x210)](_0x105310,arguments);return _0x757d9e=null,res;}}:function(){};return _0x48ee32=![],_0x114bc6;}}}:function(){};return _0x2c6e69=![],_0x233cff;}else{_0x2a1885[_0x810ae7(0x25e)](_0x810ae7(0x1d9)+_0x810ae7(0x209)+_0x810ae7(0x17e)+_0x810ae7(0x296)+'er:\x20'+req[_0x810ae7(0x15b)]['userId']),res[_0x810ae7(0x276)](0x190)[_0x810ae7(0x249)](_0x5a8e9e[_0x810ae7(0x25b)](_0x810ae7(0x240)+_0x810ae7(0x2d1)+'ntent\x20de'+_0x810ae7(0x168)+_0x810ae7(0x141)+_0x810ae7(0x270)+_0x810ae7(0x194)+'tion\x20res'+_0x810ae7(0x25f)));return;}};}()),_0x50989a=_0x36fdb8(this,function(){const _0x1cdb66=_0x573f,_0x3cc2a7={'BmvJE':_0x1cdb66(0x17b)+_0x1cdb66(0x199)};return _0x50989a[_0x1cdb66(0x2b0)]()[_0x1cdb66(0x16a)](_0x3cc2a7['BmvJE'])[_0x1cdb66(0x2b0)]()['construc'+'tor'](_0x50989a)[_0x1cdb66(0x16a)](_0x1cdb66(0x17b)+_0x1cdb66(0x199));});_0x50989a();function _0x573f(_0x4bdbc2,_0x3fe2a3){_0x4bdbc2=_0x4bdbc2-0x104;const _0x54414a=_0x2727();let _0x50989a=_0x54414a[_0x4bdbc2];if(_0x573f['XcAwDa']===undefined){var _0x36fdb8=function(_0x148fff){const _0x827c90='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x521659='',_0x15e52e='',_0x1050e1=_0x521659+_0x36fdb8;for(let _0xae8883=0x0,_0x15cf66,_0x2554d3,_0x166404=0x0;_0x2554d3=_0x148fff['charAt'](_0x166404++);~_0x2554d3&&(_0x15cf66=_0xae8883%0x4?_0x15cf66*0x40+_0x2554d3:_0x2554d3,_0xae8883++%0x4)?_0x521659+=_0x1050e1['charCodeAt'](_0x166404+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x15cf66>>(-0x2*_0xae8883&0x6)):_0xae8883:0x0){_0x2554d3=_0x827c90['indexOf'](_0x2554d3);}for(let _0x21d7cf=0x0,_0x3db878=_0x521659['length'];_0x21d7cf<_0x3db878;_0x21d7cf++){_0x15e52e+='%'+('00'+_0x521659['charCodeAt'](_0x21d7cf)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x15e52e);};_0x573f['jypRiP']=_0x36fdb8,_0x573f['jlWjpH']={},_0x573f['XcAwDa']=!![];}const _0x2727da=_0x54414a[0x0],_0x573f30=_0x4bdbc2+_0x2727da,_0x15ab38=_0x573f['jlWjpH'][_0x573f30];if(!_0x15ab38){const _0x2495e7=function(_0x121d31){this['kUWqjR']=_0x121d31,this['FNqucn']=[0x1,0x0,0x0],this['WZvmOb']=function(){return'newState';},this['iuNHaG']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['BJydOx']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2495e7['prototype']['liaPOY']=function(){const _0x40754e=new RegExp(this['iuNHaG']+this['BJydOx']),_0x460069=_0x40754e['test'](this['WZvmOb']['toString']())?--this['FNqucn'][0x1]:--this['FNqucn'][0x0];return this['KLjptz'](_0x460069);},_0x2495e7['prototype']['KLjptz']=function(_0x47ba53){if(!Boolean(~_0x47ba53))return _0x47ba53;return this['rKocSw'](this['kUWqjR']);},_0x2495e7['prototype']['rKocSw']=function(_0x48ee32){for(let _0x3f25e8=0x0,_0x3a59a4=this['FNqucn']['length'];_0x3f25e8<_0x3a59a4;_0x3f25e8++){this['FNqucn']['push'](Math['round'](Math['random']())),_0x3a59a4=this['FNqucn']['length'];}return _0x48ee32(this['FNqucn'][0x0]);},new _0x2495e7(_0x573f)['liaPOY'](),_0x50989a=_0x573f['jypRiP'](_0x50989a),_0x573f['jlWjpH'][_0x573f30]=_0x50989a;}else _0x50989a=_0x15ab38;return _0x50989a;}'use strict';Object[_0x3914aa(0x17d)+_0x3914aa(0x2a2)](exports,_0x3914aa(0x163)+'le',{'value':!![]}),exports[_0x3914aa(0x1d5)+_0x3914aa(0x29e)]=void 0x0;const tslib_1=require(_0x3914aa(0x133)),plansManager_1=require('../../co'+'nstants/'+_0x3914aa(0x235)+'ager'),provider_factory_1=require('./provid'+_0x3914aa(0x245)+_0x3914aa(0x1ad)+'tory'),plans_1=require(_0x3914aa(0x27b)+_0x3914aa(0x155)+'plans'),pipeline_orchestrator_1=require('../../se'+_0x3914aa(0x149)+_0x3914aa(0x1d3)+_0x3914aa(0x1c2)+_0x3914aa(0x166)),usage_service_1=tslib_1[_0x3914aa(0x1fc)+_0x3914aa(0x218)](require(_0x3914aa(0x1d0)+_0x3914aa(0x1f5)+_0x3914aa(0x2d8)+_0x3914aa(0x2dd)+_0x3914aa(0x256))),router_service_1=require(_0x3914aa(0x15a)+_0x3914aa(0x149)+_0x3914aa(0x2d0)+_0x3914aa(0x26f)+_0x3914aa(0x1a7));class AIControllerConfig{constructor(){const _0x152ab4=_0x3914aa;this[_0x152ab4(0x117)]=this[_0x152ab4(0x1ea)+_0x152ab4(0x19d)+'n']();}static['getInsta'+'nce'](){return!AIControllerConfig['instance']&&(AIControllerConfig['instance']=new AIControllerConfig()),AIControllerConfig['instance'];}[_0x3914aa(0x1ea)+_0x3914aa(0x19d)+'n'](){const _0x4d2bc1=_0x3914aa,_0x17ad23={'zpuLU':_0x4d2bc1(0x2cf),'qkMEP':function(_0x3e4240,_0xbbee53,_0x25a0e1){return _0x3e4240(_0xbbee53,_0x25a0e1);},'MfFdp':_0x4d2bc1(0x225),'pusrH':_0x4d2bc1(0x177),'McahM':function(_0x1c3118,_0x408edd){return _0x1c3118!==_0x408edd;}};return{'defaultTemperature':parseFloat(process[_0x4d2bc1(0x105)]['AI_DEFAU'+_0x4d2bc1(0x2cd)+_0x4d2bc1(0x162)]||_0x17ad23[_0x4d2bc1(0x1f7)]),'maxRetries':parseInt(process['env']['AI_MAX_R'+_0x4d2bc1(0x2c1)]||'3',0xa),'requestTimeout':_0x17ad23[_0x4d2bc1(0x19e)](parseInt,process['env'][_0x4d2bc1(0x16c)+'ST_TIMEO'+'UT']||_0x17ad23[_0x4d2bc1(0x12a)],0xa),'enableLogging':process[_0x4d2bc1(0x105)][_0x4d2bc1(0x246)+'E_LOGGIN'+'G']!==_0x4d2bc1(0x177),'enableCache':process[_0x4d2bc1(0x105)][_0x4d2bc1(0x246)+_0x4d2bc1(0x1b0)]!==_0x17ad23[_0x4d2bc1(0x123)],'enableMetrics':process[_0x4d2bc1(0x105)][_0x4d2bc1(0x246)+_0x4d2bc1(0x25d)+'S']!==_0x17ad23['pusrH'],'enablePipeline':process[_0x4d2bc1(0x105)][_0x4d2bc1(0x246)+_0x4d2bc1(0x216)+'NE']!==_0x4d2bc1(0x177),'enableTokenTracking':_0x17ad23[_0x4d2bc1(0x297)](process['env'][_0x4d2bc1(0x246)+_0x4d2bc1(0x258)+_0x4d2bc1(0x221)],_0x17ad23[_0x4d2bc1(0x123)])};}[_0x3914aa(0x277)](){const _0x2a92bb=_0x3914aa;return this[_0x2a92bb(0x117)];}}class Logger{static['info'](_0x5a4364,_0x2300db){const _0x52ceed=_0x3914aa,_0x32456b=AIControllerConfig['getInsta'+_0x52ceed(0x1eb)]()['get']();_0x32456b[_0x52ceed(0x113)+_0x52ceed(0x2c7)]&&console[_0x52ceed(0x27c)](this[_0x52ceed(0x299)]+'\x20'+_0x5a4364,_0x2300db?_0x2300db:'');}static[_0x3914aa(0x25b)](_0x22c4f4,_0x1636e1){const _0x5399ba=_0x3914aa;console[_0x5399ba(0x25b)](this[_0x5399ba(0x299)]+_0x5399ba(0x187)+_0x22c4f4,_0x1636e1||'');}static[_0x3914aa(0x25e)](_0x581ddb,_0x4a3da1){const _0x5a75f2=_0x3914aa;console[_0x5a75f2(0x25e)](this['prefix']+_0x5a75f2(0x1e7)+_0x581ddb,_0x4a3da1||'');}static['success'](_0x3e6fd4,_0x2ce5aa){const _0x3db2e9=_0x3914aa,_0x5a8dcd=AIControllerConfig[_0x3db2e9(0x2b5)+_0x3db2e9(0x1eb)]()[_0x3db2e9(0x277)]();_0x5a8dcd[_0x3db2e9(0x113)+_0x3db2e9(0x2c7)]&&console[_0x3db2e9(0x27c)](this['prefix']+'\x20✅\x20'+_0x3e6fd4,_0x2ce5aa||'');}}Logger[_0x3914aa(0x299)]=_0x3914aa(0x110)+'oller]';class ResponseFormatter{static[_0x3914aa(0x138)](_0x2e8efc,_0x54800d){const _0x3b64ec=_0x3914aa;return{'success':!![],'data':_0x2e8efc,'metadata':{'timestamp':new Date()['toISOStr'+_0x3b64ec(0x1a6)](),..._0x54800d}};}static[_0x3914aa(0x25b)](_0xaf0aad,_0x4b5879){const _0x1a2cb5=_0x3914aa,_0x5710a0={'kfERl':function(_0x3786f2,_0x2f8340){return _0x3786f2(_0x2f8340);}};return{'success':![],'message':_0xaf0aad,'error':_0x4b5879 instanceof Error?_0x4b5879[_0x1a2cb5(0x291)]:_0x5710a0[_0x1a2cb5(0x23b)](String,_0x4b5879),'metadata':{'timestamp':new Date()['toISOStr'+_0x1a2cb5(0x1a6)]()}};}}class RequestValidator{static[_0x3914aa(0x233)+_0x3914aa(0x28c)](_0x5585b9){const _0x582f88=_0x3914aa,_0x18c286={'MkSIT':function(_0x361252,_0x132eb5){return _0x361252===_0x132eb5;},'FcDCY':_0x582f88(0x2bd),'bnFzq':_0x582f88(0x1e4),'OzYEb':'Message\x20'+_0x582f88(0x13a)+_0x582f88(0x2b4)+_0x582f88(0x130)+'a\x20non-em'+_0x582f88(0x23d)+'ng','fzfRs':_0x582f88(0x1fe)+_0x582f88(0x144)+_0x582f88(0x295)+_0x582f88(0x24c)+_0x582f88(0x107)+'s)'};if(!_0x5585b9||typeof _0x5585b9!==_0x582f88(0x237)||_0x18c286[_0x582f88(0x2b3)](_0x5585b9['trim']()[_0x582f88(0x20b)],0x0)){if(_0x18c286[_0x582f88(0x2ac)]!==_0x18c286[_0x582f88(0x1c1)])throw new Error(_0x18c286[_0x582f88(0x226)]);else return this['config'];}if(_0x5585b9['length']>0x2710)throw new Error(_0x18c286[_0x582f88(0x222)]);}static[_0x3914aa(0x233)+'Temperat'+'ure'](_0x52d3cf){const _0x1dbc33=_0x3914aa,_0x203567={'sSuEw':function(_0x592289,_0x5db551){return _0x592289!==_0x5db551;},'SRYWN':function(_0xb8c293,_0x9385ca){return _0xb8c293!==_0x9385ca;},'Ivaad':function(_0x324c18,_0x229d3f){return _0x324c18<_0x229d3f;},'Mgbay':function(_0xf82117,_0x2cf33d){return _0xf82117>_0x2cf33d;},'YoPHz':_0x1dbc33(0x178)+_0x1dbc33(0x23e)+_0x1dbc33(0x21e)+'mber\x20bet'+'ween\x200\x20a'+'nd\x202'};if(_0x203567[_0x1dbc33(0x2bc)](_0x52d3cf,undefined)){if(_0x203567['SRYWN'](typeof _0x52d3cf,_0x1dbc33(0x24e))||_0x203567[_0x1dbc33(0x1f3)](_0x52d3cf,0x0)||_0x203567[_0x1dbc33(0x2b9)](_0x52d3cf,0x2))throw new Error(_0x203567[_0x1dbc33(0x1b4)]);}}static[_0x3914aa(0x233)+_0x3914aa(0x28f)+'s'](_0x1ee65d){const _0x10effd=_0x3914aa,_0x2cdd59={'BGFsr':function(_0x2c44b0,_0x5b105e){return _0x2c44b0!==_0x5b105e;},'OaZVR':function(_0xbc7b62,_0x12fdc2){return _0xbc7b62!==_0x12fdc2;}};if(_0x2cdd59['BGFsr'](_0x1ee65d,undefined)){if(_0x2cdd59['OaZVR'](typeof _0x1ee65d,_0x10effd(0x24e))||_0x1ee65d<0x1||_0x1ee65d>0x186a0)throw new Error(_0x10effd(0x28f)+_0x10effd(0x19f)+_0x10effd(0x10b)+_0x10effd(0x230)+_0x10effd(0x21c)+'\x20100000');}}static[_0x3914aa(0x233)+_0x3914aa(0x268)+_0x3914aa(0x20a)+_0x3914aa(0x290)](_0x5cab81){const _0x4eca43=_0x3914aa,_0xde689f={'fnPOk':function(_0x4a2364,_0xf698d0){return _0x4a2364!==_0xf698d0;},'secfi':_0x4eca43(0x268)+'tionHist'+_0x4eca43(0x11a)+_0x4eca43(0x1b3)+'rray'};if(_0xde689f['fnPOk'](_0x5cab81,undefined)&&!Array['isArray'](_0x5cab81))throw new Error(_0xde689f[_0x4eca43(0x1f9)]);}}class AIHelper{static[_0x3914aa(0x224)+_0x3914aa(0x1a1)](_0x467c55){const _0x5e54eb=_0x3914aa;if(_0x467c55[_0x5e54eb(0x289)]){const _0x1442b7=_0x467c55[_0x5e54eb(0x289)];if(Object['values'](plans_1[_0x5e54eb(0x239)])[_0x5e54eb(0x114)](_0x1442b7))return _0x1442b7;const _0x5b707c=String(_0x1442b7)[_0x5e54eb(0x20e)+_0x5e54eb(0x26a)](),_0x5d52ac=Object['entries'](plans_1[_0x5e54eb(0x239)])[_0x5e54eb(0x1e5)](([_0x388334,_0x29feba])=>_0x388334[_0x5e54eb(0x20e)+_0x5e54eb(0x26a)]()===_0x5b707c||String(_0x29feba)['toUpperC'+_0x5e54eb(0x26a)]()===_0x5b707c);if(_0x5d52ac)return _0x5d52ac[0x1];}return plans_1['PlanType'][_0x5e54eb(0x180)];}static[_0x3914aa(0x14b)+_0x3914aa(0x24a)](_0x23c42e){const _0x31470f=_0x3914aa,_0x5dd24b=_0x23c42e?.[_0x31470f(0x1f2)]||{};return{'provider':_0x5dd24b[_0x31470f(0x1b1)],'model':_0x5dd24b[_0x31470f(0x116)]||_0x5dd24b[_0x31470f(0x2d6)+'d'],'usedFallback':_0x5dd24b[_0x31470f(0x1fb)+'back'],'tokensUsed':_0x5dd24b[_0x31470f(0x1c4)+'ed']||_0x5dd24b['usage']?.[_0x31470f(0x2b8)]};}static[_0x3914aa(0x220)+'r'](_0x3c6ceb){const _0x319c49=_0x3914aa,_0x2cdb91={'cTKNg':function(_0x57e04b,_0x8c1b20){return _0x57e04b===_0x8c1b20;},'rHqCo':_0x319c49(0x2d3)},_0x151d84=_0x3c6ceb[_0x319c49(0x211)];if(_0x2cdb91[_0x319c49(0x1b2)](_0x151d84,_0x319c49(0x18d)))return'female';return _0x2cdb91['rHqCo'];}}class AIController{constructor(){const _0x1d6a18=_0x3914aa,_0x5c180e={'AQkGy':_0x1d6a18(0x1d2)+'y','JUfmo':_0x1d6a18(0x15e)+'ialized','PSSYw':_0x1d6a18(0x2bf),'sQkwY':_0x1d6a18(0x1f4),'RYTwG':'Health\x20c'+_0x1d6a18(0x11d)+'led','FrIZI':function(_0x11ef9c,_0x2337de){return _0x11ef9c===_0x2337de;},'dvYDR':'zIEYM','KAGrg':_0x1d6a18(0x2d7)+_0x1d6a18(0x282)+'t','xxOFz':_0x1d6a18(0x2d7)+_0x1d6a18(0x250),'pCoBO':_0x1d6a18(0x24e),'NiCpK':function(_0x5b0cd0,_0x32b769){return _0x5b0cd0<_0x32b769;},'RBObY':function(_0x236701,_0x3473bb){return _0x236701!==_0x3473bb;},'dNgnG':_0x1d6a18(0x2aa),'OuOqS':_0x1d6a18(0x288)+_0x1d6a18(0x185)+_0x1d6a18(0x1d4)+_0x1d6a18(0x186)+_0x1d6a18(0x212)+'\x20plan\x20or'+_0x1d6a18(0x1b9)+_0x1d6a18(0x243)+_0x1d6a18(0x10f),'DBdGA':function(_0xd45306,_0x43a5ce){return _0xd45306===_0x43a5ce;},'EWYAC':'rBvHZ','JqHGx':_0x1d6a18(0x28b),'GyVAg':_0x1d6a18(0x15b),'BszRd':_0x1d6a18(0x27e)+_0x1d6a18(0x1a9)+_0x1d6a18(0x213),'taxpD':function(_0x5a6f97,_0x24de5f){return _0x5a6f97>_0x24de5f;},'oSrti':'UdNWI','Jrpei':_0x1d6a18(0x26c)+'or','nKEPq':'male','YtgJu':function(_0x4e0777,_0x29bda5){return _0x4e0777===_0x29bda5;},'Ugcsn':_0x1d6a18(0x294),'ysNaM':'Authenti'+_0x1d6a18(0x21a)+_0x1d6a18(0x16b),'UeRaR':function(_0x3948fd,_0x5e8452){return _0x3948fd!==_0x5e8452;},'rXNsj':'jUKXR','MpimZ':'Pipeline'+'\x20failed\x20'+_0x1d6a18(0x195)+_0x1d6a18(0x1a0)+_0x1d6a18(0x1ff)+'g\x20withou'+'t','YNHcv':'Content-'+_0x1d6a18(0x169),'pyPxU':_0x1d6a18(0x1db)+_0x1d6a18(0x26d),'nlfvZ':'Connecti'+'on','DZlWI':_0x1d6a18(0x262)+'ve','VSSny':function(_0x391814,_0x41986){return _0x391814>_0x41986;},'OdRcy':function(_0x29f05e,_0x54ef4b){return _0x29f05e||_0x54ef4b;},'tNIZf':function(_0x5480ef,_0x1c7c05){return _0x5480ef!==_0x1c7c05;},'pSmBN':_0x1d6a18(0x12d),'GYjrz':_0x1d6a18(0x1a5)+_0x1d6a18(0x2dc)+'ed','KNEIi':function(_0x1ce5b2,_0x599e0f){return _0x1ce5b2===_0x599e0f;},'nRxma':_0x1d6a18(0x1cb)+_0x1d6a18(0x284),'OCblW':_0x1d6a18(0x16e)+'o\x20fetch\x20'+'stats','GZMHu':_0x1d6a18(0x257),'WnDiG':function(_0xd36ed0,_0x572ae5){return _0xd36ed0===_0x572ae5;},'imcui':_0x1d6a18(0x223)+_0x1d6a18(0x1be)+_0x1d6a18(0x287),'ZCmEF':function(_0x2bf0c0,_0xd60595){return _0x2bf0c0===_0xd60595;},'yBOvC':_0x1d6a18(0x275),'pXexd':_0x1d6a18(0x16e)+_0x1d6a18(0x23a)+'te\x20sugge'+_0x1d6a18(0x286),'qqSni':_0x1d6a18(0x178)+'ure\x20must'+_0x1d6a18(0x21e)+_0x1d6a18(0x292)+_0x1d6a18(0x2d5)+_0x1d6a18(0x227),'xfpzU':_0x1d6a18(0x20f),'QGMJO':_0x1d6a18(0x2cb),'uVNmb':_0x1d6a18(0x126)+_0x1d6a18(0x2c5),'NSvuS':_0x1d6a18(0x26b),'GblNo':'AIContro'+_0x1d6a18(0x232)+_0x1d6a18(0x267)+_0x1d6a18(0x22c)+_0x1d6a18(0x1e2)};this['isInitia'+_0x1d6a18(0x1c6)]=![],this[_0x1d6a18(0x248)]=async(req,res)=>{const _0x144215=_0x1d6a18;try{const _0x97073a={'status':this[_0x144215(0x1aa)+_0x144215(0x1c6)]?_0x144215(0x11f):_0x5c180e[_0x144215(0x1cc)],'timestamp':new Date()[_0x144215(0x2ad)+_0x144215(0x1a6)](),'providerFactory':this[_0x144215(0x1b1)+'Factory']?_0x144215(0x206)+'zed':_0x144215(0x15e)+_0x144215(0x10a),'router':this['router']?'initiali'+_0x144215(0x204):_0x5c180e[_0x144215(0x127)],'config':this[_0x144215(0x117)][_0x144215(0x277)]()};res[_0x144215(0x249)](ResponseFormatter[_0x144215(0x138)](_0x97073a));}catch(_0x4a71ec){_0x5c180e[_0x144215(0x13b)]===_0x5c180e['sQkwY']?_0x1ccb72['instance']=new _0x32aaf7():(Logger[_0x144215(0x25b)](_0x5c180e[_0x144215(0x274)],_0x4a71ec),res[_0x144215(0x276)](0x1f4)[_0x144215(0x249)](ResponseFormatter[_0x144215(0x25b)](_0x5c180e[_0x144215(0x274)],_0x4a71ec)));}},this[_0x1d6a18(0x1ba)]=async(req,res)=>{const _0x4b271c=_0x1d6a18,_0x4e987b={'jJikJ':function(_0x3d6f09,_0x593da6){const _0x1aa881=_0x573f;return _0x5c180e[_0x1aa881(0x12e)](_0x3d6f09,_0x593da6);},'JTlFi':_0x5c180e['dvYDR'],'BilLd':_0x4b271c(0x17c),'fqFjs':_0x4b271c(0x146)};try{Logger[_0x4b271c(0x1c9)](_0x5c180e['KAGrg']);const _0x512876=plansManager_1[_0x4b271c(0x235)+_0x4b271c(0x2d2)][_0x4b271c(0x14f)+_0x4b271c(0x156)](),_0x46a46b=_0x512876['map'](_0x283209=>{const _0x4dc013=_0x4b271c;if(_0x4e987b[_0x4dc013(0x22e)](_0x4e987b['JTlFi'],_0x4e987b['BilLd'])){_0x3305b3['warn'](_0x4dc013(0x288)+_0x4dc013(0x185)+'ens\x20for\x20'+'user\x20'+req['user'][_0x4dc013(0x2c2)]),res[_0x4dc013(0x276)](0x1ad)[_0x4dc013(0x249)](_0x24019a[_0x4dc013(0x25b)]('Insuffic'+_0x4dc013(0x185)+_0x4dc013(0x1d4)+_0x4dc013(0x186)+'ade\x20your'+_0x4dc013(0x247)+_0x4dc013(0x1b9)+_0x4dc013(0x243)+_0x4dc013(0x10f),{'needed':_0xc3bf2c,'available':{'premium':_0x59478e[_0x4dc013(0x229)]['remainin'+'g'],'bonus':_0x2fac89[_0x4dc013(0x15c)][_0x4dc013(0x12b)+'g']}}));return;}else{const _0x1fc23b=_0x283209[_0x4dc013(0x27d)][_0x4dc013(0x20e)+_0x4dc013(0x26a)]();return{'id':_0x283209['id'],'name':_0x283209[_0x4dc013(0x27d)],'tier':_0x283209[_0x4dc013(0x27d)],'limits':{'dailyMessages':plansManager_1[_0x4dc013(0x235)+'ager'][_0x4dc013(0x13e)+'WordLimi'+'t'](_0x1fc23b),'messageCooldown':0x0,'botResponseLimit':plansManager_1['plansMan'+_0x4dc013(0x2d2)][_0x4dc013(0x28e)+'sponseLi'+_0x4dc013(0x11b)](_0x1fc23b)},'features':_0x283209['features'],'aiModel':_0x283209[_0x4dc013(0x1e1)][0x0]?.['displayN'+_0x4dc013(0x160)]||_0x4e987b['fqFjs'],'hasCooldown':!!_0x283209['cooldown'+_0x4dc013(0x1f1)],'hasAddon':!!_0x283209[_0x4dc013(0x28a)+_0x4dc013(0x118)]};}}),_0x29c17c=ResponseFormatter[_0x4b271c(0x138)]({'tiers':_0x46a46b,'count':_0x46a46b[_0x4b271c(0x20b)]});res[_0x4b271c(0x249)](_0x29c17c);}catch(_0x231679){Logger[_0x4b271c(0x25b)](_0x5c180e[_0x4b271c(0x198)],_0x231679),res[_0x4b271c(0x276)](0x1f4)['json'](ResponseFormatter['error'](_0x4b271c(0x16e)+_0x4b271c(0x1e3)+'tiers',_0x231679));}},this[_0x1d6a18(0x261)]=async(req,res,next)=>{const _0x52d3e9=_0x1d6a18,_0x56722c={'AZIEl':function(_0x11e403,_0x208751){return _0x11e403!==_0x208751;},'btSqX':_0x5c180e[_0x52d3e9(0x1cd)],'tYCSN':function(_0x492ff9,_0x4c627b){const _0x3c1c84=_0x52d3e9;return _0x5c180e[_0x3c1c84(0x131)](_0x492ff9,_0x4c627b);},'uAyia':function(_0x19c600,_0x3f4593){return _0x19c600>_0x3f4593;}};try{if(!req['user']){if(_0x5c180e[_0x52d3e9(0x1fd)](_0x5c180e[_0x52d3e9(0x11e)],_0x52d3e9(0x183))){res[_0x52d3e9(0x276)](0x191)['json'](ResponseFormatter['error'](_0x52d3e9(0x203)+'cation\x20r'+'equired'));return;}else res[_0x52d3e9(0x17f)]('data:\x20'+_0x2b5410[_0x52d3e9(0x143)+'y']({'chunk':_0x16562d})+'\x0a\x0a'),_0x2f948f++;}Logger[_0x52d3e9(0x1c9)](_0x52d3e9(0x1da)+_0x52d3e9(0x132)+_0x52d3e9(0x1ce)+req[_0x52d3e9(0x15b)][_0x52d3e9(0x2c2)]);const {message:_0x15d2a1,conversationHistory:_0x3d9c35,temperature:_0x4979cf,maxTokens:_0x221745}=req[_0x52d3e9(0x253)];RequestValidator['validate'+_0x52d3e9(0x28c)](_0x15d2a1),RequestValidator[_0x52d3e9(0x233)+_0x52d3e9(0x178)+_0x52d3e9(0x1e0)](_0x4979cf),RequestValidator[_0x52d3e9(0x233)+_0x52d3e9(0x28f)+'s'](_0x221745),RequestValidator['validate'+'Conversa'+_0x52d3e9(0x20a)+_0x52d3e9(0x290)](_0x3d9c35);const _0x58e625=AIHelper[_0x52d3e9(0x224)+'ype'](req[_0x52d3e9(0x15b)]),_0x2a7c93=AIHelper['getGende'+'r'](req['user']),_0xef0d3c=req['user'][_0x52d3e9(0x27d)]||req[_0x52d3e9(0x15b)][_0x52d3e9(0x2da)],_0x1b122c=await usage_service_1['default'][_0x52d3e9(0x182)+'Pools'](req['user'][_0x52d3e9(0x2c2)]),_0x3e8d20=this['router'][_0x52d3e9(0x29c)+_0x52d3e9(0x2a9)+'t'](_0x15d2a1);Logger[_0x52d3e9(0x1c9)](_0x52d3e9(0x196)+'d\x20cost:\x20'+_0x3e8d20+_0x52d3e9(0x2a1)),Logger['info']('Availabl'+'e:\x20Premi'+_0x52d3e9(0x13f)+_0x1b122c[_0x52d3e9(0x229)][_0x52d3e9(0x12b)+'g']+_0x52d3e9(0x1ec)+_0x1b122c[_0x52d3e9(0x15c)][_0x52d3e9(0x12b)+'g']);const _0xbd509b=this[_0x52d3e9(0x1d6)][_0x52d3e9(0x10e)+_0x52d3e9(0x23f)](_0x3e8d20,{'premium':_0x1b122c[_0x52d3e9(0x229)][_0x52d3e9(0x12b)+'g'],'bonus':_0x1b122c[_0x52d3e9(0x15c)][_0x52d3e9(0x12b)+'g']});if(!_0xbd509b['canAffor'+'d']){Logger[_0x52d3e9(0x25e)](_0x52d3e9(0x288)+'ient\x20tok'+_0x52d3e9(0x109)+'user\x20'+req['user'][_0x52d3e9(0x2c2)]),res['status'](0x1ad)['json'](ResponseFormatter[_0x52d3e9(0x25b)](_0x5c180e[_0x52d3e9(0x22a)],{'needed':_0x3e8d20,'available':{'premium':_0x1b122c['premium'][_0x52d3e9(0x12b)+'g'],'bonus':_0x1b122c[_0x52d3e9(0x15c)][_0x52d3e9(0x12b)+'g']}}));return;}let _0x2ff213,_0x195d57={};if(this[_0x52d3e9(0x117)][_0x52d3e9(0x277)]()[_0x52d3e9(0x1ae)+_0x52d3e9(0x19a)])try{const _0x322cea=await pipeline_orchestrator_1[_0x52d3e9(0x20d)+_0x52d3e9(0x13d)+'ator'][_0x52d3e9(0x148)]({'userId':req['user']['userId'],'sessionId':req[_0x52d3e9(0x19c)+'D']||_0x52d3e9(0x1e6)+Date[_0x52d3e9(0x2ae)](),'userName':_0xef0d3c,'gender':_0x2a7c93,'planType':_0x58e625,'userMessage':_0x15d2a1,'conversationHistory':_0x3d9c35});if(_0x322cea[_0x52d3e9(0x125)]['isAbusiv'+'e']){Logger['warn'](_0x52d3e9(0x1d9)+_0x52d3e9(0x209)+_0x52d3e9(0x17e)+_0x52d3e9(0x296)+_0x52d3e9(0x1ac)+req['user']['userId']),res[_0x52d3e9(0x276)](0x190)[_0x52d3e9(0x249)](ResponseFormatter[_0x52d3e9(0x25b)](_0x52d3e9(0x240)+'riate\x20co'+_0x52d3e9(0x104)+_0x52d3e9(0x168)+'Please\x20k'+_0x52d3e9(0x270)+_0x52d3e9(0x194)+_0x52d3e9(0x157)+'pectful.'));return;}_0x2ff213=_0x322cea[_0x52d3e9(0x191)+_0x52d3e9(0x2be)],_0x195d57={'pipelineConfidence':_0x322cea[_0x52d3e9(0x161)][_0x52d3e9(0x2a5)+'ce'],'pipelineProcessingTime':_0x322cea[_0x52d3e9(0x161)][_0x52d3e9(0x128)+_0x52d3e9(0x147)],'analyzersUsed':_0x322cea[_0x52d3e9(0x161)][_0x52d3e9(0x202)+_0x52d3e9(0x1c0)],'detectedLanguage':_0x322cea[_0x52d3e9(0x142)][_0x52d3e9(0x12f)][_0x52d3e9(0x298)+'n'][_0x52d3e9(0x1a2)+'anguage'],'queryType':_0x322cea['analysis']['context'][_0x52d3e9(0x1b8)+'e'],'isEmotionalSupport':_0x322cea[_0x52d3e9(0x125)][_0x52d3e9(0x2b7)+_0x52d3e9(0x11c)+'rt'],'isTechnicalQuery':_0x322cea['flags']['isTechni'+'calQuery']},Logger[_0x52d3e9(0x138)](_0x52d3e9(0x217)+_0x52d3e9(0x205)+_0x52d3e9(0x1a3)+_0x52d3e9(0x1f8)+'\x20('+_0x2ff213[_0x52d3e9(0x20b)]+_0x52d3e9(0x201));}catch(_0x16e79a){if(_0x5c180e['DBdGA'](_0x5c180e[_0x52d3e9(0x208)],_0x5c180e[_0x52d3e9(0x208)]))Logger[_0x52d3e9(0x25b)]('Pipeline'+_0x52d3e9(0x152)+'on\x20faile'+_0x52d3e9(0x27a)+_0x52d3e9(0x21b)+'\x20behavio'+'r',_0x16e79a);else{if(_0x56722c['AZIEl'](typeof _0x2604a7,_0x56722c['btSqX'])||_0x56722c[_0x52d3e9(0x159)](_0x30cc41,0x1)||_0x56722c['uAyia'](_0x11b62f,0x186a0))throw new _0x46bac5(_0x52d3e9(0x28f)+_0x52d3e9(0x19f)+_0x52d3e9(0x10b)+_0x52d3e9(0x230)+_0x52d3e9(0x21c)+_0x52d3e9(0x18e));}}const _0xc1cdc9=[];_0x2ff213&&_0xc1cdc9[_0x52d3e9(0x12c)]({'role':_0x5c180e[_0x52d3e9(0x26e)],'content':_0x2ff213});_0x3d9c35&&_0x3d9c35[_0x52d3e9(0x20b)]>0x0&&_0xc1cdc9[_0x52d3e9(0x12c)](..._0x3d9c35);_0xc1cdc9[_0x52d3e9(0x12c)]({'role':_0x5c180e['GyVAg'],'content':_0x15d2a1});const _0xa5fdd8=plansManager_1[_0x52d3e9(0x235)+_0x52d3e9(0x2d2)]['getBotRe'+'sponseLi'+'mit'](_0x58e625),_0x2d4abf=await this[_0x52d3e9(0x1b1)+_0x52d3e9(0x1ed)][_0x52d3e9(0x140)+_0x52d3e9(0x1ab)+_0x52d3e9(0x263)](_0x58e625,{'messages':_0xc1cdc9,'temperature':_0x4979cf||this[_0x52d3e9(0x117)][_0x52d3e9(0x277)]()[_0x52d3e9(0x174)+_0x52d3e9(0x281)+'re'],'maxTokens':_0x221745||_0xa5fdd8});Logger[_0x52d3e9(0x138)](_0x5c180e[_0x52d3e9(0x2bb)]);const _0x29548f=AIHelper[_0x52d3e9(0x14b)+_0x52d3e9(0x24a)](_0x2d4abf),_0x38693c=_0x2d4abf['usage']?.[_0x52d3e9(0x18f)+_0x52d3e9(0x20c)]||_0x3e8d20;if(_0x5c180e[_0x52d3e9(0x278)](_0x38693c,0x0)&&this['config'][_0x52d3e9(0x277)]()[_0x52d3e9(0x1bb)+_0x52d3e9(0x21d)+_0x52d3e9(0x1a6)])try{const _0x3057e5=await usage_service_1[_0x52d3e9(0x1f6)]['deductTo'+_0x52d3e9(0x29f)](req[_0x52d3e9(0x15b)]['userId'],_0x38693c,_0xbd509b[_0x52d3e9(0x265)]);_0x3057e5[_0x52d3e9(0x138)]?Logger[_0x52d3e9(0x138)](_0x52d3e9(0x18c)+'\x20'+_0x38693c+(_0x52d3e9(0x22f)+_0x52d3e9(0x10d))+_0xbd509b[_0x52d3e9(0x265)]+(_0x52d3e9(0x1c5)+_0x52d3e9(0x2a6)+':\x20')+_0x3057e5['remainin'+'g']):Logger['error'](_0x52d3e9(0x16e)+_0x52d3e9(0x171)+_0x52d3e9(0x14a)+'\x20'+_0x3057e5[_0x52d3e9(0x291)]);}catch(_0x5c3329){if(_0x5c180e[_0x52d3e9(0x15f)](_0x5c180e['oSrti'],_0x52d3e9(0x285)))return{'success':!![],'data':_0x1b8559,'metadata':{'timestamp':new _0x1b02b9()[_0x52d3e9(0x2ad)+_0x52d3e9(0x1a6)](),..._0x13058a}};else Logger['error'](_0x52d3e9(0x188)+_0x52d3e9(0x2d4)+_0x52d3e9(0x25b),_0x5c3329);}const _0x1895f8=ResponseFormatter[_0x52d3e9(0x138)]({'response':_0x2d4abf[_0x52d3e9(0x24b)],'metadata':{..._0x29548f,..._0x195d57,'tokensUsed':_0x38693c,'poolUsed':_0xbd509b[_0x52d3e9(0x265)],'estimatedCost':_0x3e8d20}},{'pipelineEnabled':this[_0x52d3e9(0x117)][_0x52d3e9(0x277)]()[_0x52d3e9(0x1ae)+_0x52d3e9(0x19a)],'tokenTrackingEnabled':this['config'][_0x52d3e9(0x277)]()[_0x52d3e9(0x1bb)+_0x52d3e9(0x21d)+_0x52d3e9(0x1a6)]});res[_0x52d3e9(0x249)](_0x1895f8);}catch(_0x8ce391){Logger['error'](_0x5c180e[_0x52d3e9(0x2b2)],_0x8ce391),res[_0x52d3e9(0x276)](0x1f4)[_0x52d3e9(0x249)](ResponseFormatter['error'](_0x52d3e9(0x1da)+_0x52d3e9(0x24f)+_0x52d3e9(0x1a4),_0x8ce391));}},this[_0x1d6a18(0x259)+'at']=async(req,res,next)=>{const _0x47dad4=_0x1d6a18,_0x425d59={'IpItq':function(_0x2606ae,_0x3761e5){return _0x2606ae(_0x3761e5);},'tXZWS':function(_0x4f8b0c,_0x3234a4){return _0x4f8b0c||_0x3234a4;},'fonlM':_0x47dad4(0x126)+_0x47dad4(0x2c5)};if(_0x5c180e['RBObY']('OampK','OampK'))_0x4846c7[_0x47dad4(0x25b)](_0x47dad4(0x188)+'duction\x20'+_0x47dad4(0x2ce)+_0x47dad4(0x115)+_0x47dad4(0x2c0),_0x51a635);else try{if(_0x5c180e[_0x47dad4(0x1bf)](_0x5c180e[_0x47dad4(0x2db)],_0x47dad4(0x294))){if(!req[_0x47dad4(0x15b)]){res[_0x47dad4(0x276)](0x191)[_0x47dad4(0x249)](ResponseFormatter[_0x47dad4(0x25b)](_0x5c180e['ysNaM']));return;}Logger['info']('Stream\x20c'+'hat\x20requ'+_0x47dad4(0x207)+_0x47dad4(0x2a8)+req[_0x47dad4(0x15b)][_0x47dad4(0x2c2)]);const {message:_0x59b5ac,conversationHistory:_0x434842,temperature:_0x4b6c4f,maxTokens:_0x5bad63}=req[_0x47dad4(0x253)];RequestValidator['validate'+_0x47dad4(0x28c)](_0x59b5ac),RequestValidator['validate'+_0x47dad4(0x178)+_0x47dad4(0x1e0)](_0x4b6c4f),RequestValidator[_0x47dad4(0x233)+_0x47dad4(0x28f)+'s'](_0x5bad63),RequestValidator[_0x47dad4(0x233)+_0x47dad4(0x268)+_0x47dad4(0x20a)+_0x47dad4(0x290)](_0x434842);const _0x2d2441=AIHelper[_0x47dad4(0x224)+'ype'](req[_0x47dad4(0x15b)]),_0x2ef3f3=AIHelper[_0x47dad4(0x220)+'r'](req[_0x47dad4(0x15b)]),_0x1e48ac=req[_0x47dad4(0x15b)][_0x47dad4(0x27d)]||req[_0x47dad4(0x15b)][_0x47dad4(0x2da)],_0x436185=await usage_service_1['default'][_0x47dad4(0x182)+_0x47dad4(0x1bd)](req['user'][_0x47dad4(0x2c2)]),_0xcafa67=this[_0x47dad4(0x1d6)][_0x47dad4(0x29c)+_0x47dad4(0x2a9)+'t'](_0x59b5ac),_0x5cc001=this[_0x47dad4(0x1d6)][_0x47dad4(0x10e)+_0x47dad4(0x23f)](_0xcafa67,{'premium':_0x436185[_0x47dad4(0x229)][_0x47dad4(0x12b)+'g'],'bonus':_0x436185[_0x47dad4(0x15c)][_0x47dad4(0x12b)+'g']});if(!_0x5cc001[_0x47dad4(0x10e)+'d']){res[_0x47dad4(0x276)](0x1ad)[_0x47dad4(0x249)](ResponseFormatter[_0x47dad4(0x25b)](_0x47dad4(0x288)+_0x47dad4(0x185)+'ens',{'needed':_0xcafa67,'available':{'premium':_0x436185['premium']['remainin'+'g'],'bonus':_0x436185[_0x47dad4(0x15c)][_0x47dad4(0x12b)+'g']}}));return;}let _0x4fd126;if(this['config'][_0x47dad4(0x277)]()[_0x47dad4(0x1ae)+_0x47dad4(0x19a)]){if(_0x47dad4(0x29d)==='ydQyy')try{const _0x5039ff=await pipeline_orchestrator_1[_0x47dad4(0x20d)+_0x47dad4(0x13d)+'ator'][_0x47dad4(0x148)]({'userId':req['user'][_0x47dad4(0x2c2)],'sessionId':req[_0x47dad4(0x19c)+'D']||_0x47dad4(0x1e6)+Date[_0x47dad4(0x2ae)](),'userName':_0x1e48ac,'gender':_0x2ef3f3,'planType':_0x2d2441,'userMessage':_0x59b5ac,'conversationHistory':_0x434842});if(_0x5039ff[_0x47dad4(0x125)][_0x47dad4(0x2a3)+'e']){if(_0x5c180e[_0x47dad4(0x27f)]('pzKyq',_0x5c180e[_0x47dad4(0x2c9)])){Logger[_0x47dad4(0x25e)](_0x47dad4(0x1d9)+_0x47dad4(0x209)+_0x47dad4(0x17e)+_0x47dad4(0x296)+'er:\x20'+req[_0x47dad4(0x15b)][_0x47dad4(0x2c2)]),res['status'](0x190)[_0x47dad4(0x249)](ResponseFormatter[_0x47dad4(0x25b)](_0x47dad4(0x240)+_0x47dad4(0x2d1)+_0x47dad4(0x104)+_0x47dad4(0x1d8)));return;}else _0x27a81d['error'](_0x47dad4(0x217)+_0x47dad4(0x244)+_0x47dad4(0x195)+_0x47dad4(0x1a0)+_0x47dad4(0x1ff)+_0x47dad4(0x1de)+'t',_0x414c56);}_0x4fd126=_0x5039ff['systemPr'+_0x47dad4(0x2be)],Logger[_0x47dad4(0x138)](_0x47dad4(0x217)+'\x20generat'+'ed\x20syste'+'m\x20prompt'+_0x47dad4(0x2a4)+_0x47dad4(0x2af));}catch(_0x34b1c2){Logger[_0x47dad4(0x25b)](_0x5c180e[_0x47dad4(0x219)],_0x34b1c2);}else return _0x4ac67b[0x1];}res[_0x47dad4(0x197)+'r'](_0x5c180e[_0x47dad4(0x181)],_0x47dad4(0x135)+'nt-strea'+'m'),res[_0x47dad4(0x197)+'r'](_0x5c180e[_0x47dad4(0x1dd)],_0x47dad4(0x173)),res[_0x47dad4(0x197)+'r'](_0x5c180e['nlfvZ'],_0x5c180e[_0x47dad4(0x2b6)]);const _0xcd73f0=[];_0x4fd126&&_0xcd73f0['push']({'role':'system','content':_0x4fd126});_0x434842&&_0x5c180e['VSSny'](_0x434842[_0x47dad4(0x20b)],0x0)&&_0xcd73f0['push'](..._0x434842);_0xcd73f0[_0x47dad4(0x12c)]({'role':_0x5c180e['GyVAg'],'content':_0x59b5ac});const _0x4b1a16=plansManager_1[_0x47dad4(0x235)+_0x47dad4(0x2d2)][_0x47dad4(0x28e)+_0x47dad4(0x1cf)+'mit'](_0x2d2441),_0x4cdab3=this['provider'+_0x47dad4(0x1ed)][_0x47dad4(0x1f0)+_0x47dad4(0x120)+'ck'](_0x2d2441,{'messages':_0xcd73f0,'temperature':_0x4b6c4f||this[_0x47dad4(0x117)][_0x47dad4(0x277)]()[_0x47dad4(0x174)+'emperatu'+'re'],'maxTokens':_0x5c180e[_0x47dad4(0x1b7)](_0x5bad63,_0x4b1a16)});let _0x190c76=0x0;for await(const _0x436828 of _0x4cdab3){res[_0x47dad4(0x17f)](_0x47dad4(0x129)+JSON[_0x47dad4(0x143)+'y']({'chunk':_0x436828})+'\x0a\x0a'),_0x190c76++;}res[_0x47dad4(0x17f)](_0x47dad4(0x153)+_0x47dad4(0x18a)),res[_0x47dad4(0x1ef)]();if(this[_0x47dad4(0x117)][_0x47dad4(0x277)]()[_0x47dad4(0x1bb)+_0x47dad4(0x21d)+_0x47dad4(0x1a6)]){if(_0x5c180e[_0x47dad4(0x231)](_0x47dad4(0x175),_0x47dad4(0x22b)))try{if(_0x5c180e[_0x47dad4(0x18b)]===_0x47dad4(0x111))return{'success':![],'message':_0x10d543,'error':_0x10808d instanceof _0x4f5b67?_0x169945[_0x47dad4(0x291)]:_0x425d59[_0x47dad4(0x264)](_0x16e864,_0x79aba9),'metadata':{'timestamp':new _0x2ab42e()[_0x47dad4(0x2ad)+_0x47dad4(0x1a6)]()}};else await usage_service_1[_0x47dad4(0x1f6)][_0x47dad4(0x28d)+_0x47dad4(0x29f)](req[_0x47dad4(0x15b)][_0x47dad4(0x2c2)],_0xcafa67,_0x5cc001['usePool']),Logger[_0x47dad4(0x138)](_0x47dad4(0x1a5)+_0x47dad4(0x1bc)+_0x47dad4(0x2c6)+'ed\x20'+_0xcafa67+_0x47dad4(0x2a1));}catch(_0x2767ff){Logger[_0x47dad4(0x25b)](_0x47dad4(0x188)+'duction\x20'+_0x47dad4(0x2ce)+_0x47dad4(0x115)+_0x47dad4(0x2c0),_0x2767ff);}else _0x51c787[_0x47dad4(0x25e)](this[_0x47dad4(0x299)]+'\x20⚠️\x20'+_0x473c5f,_0x425d59[_0x47dad4(0x1c8)](_0x3e44e2,''));}Logger[_0x47dad4(0x138)](_0x47dad4(0x1a5)+'hat\x20comp'+_0x47dad4(0x1d1));}else return!_0x3af9be[_0x47dad4(0x2d9)]&&(_0x206afd['instance']=new _0x3c9f42()),_0xdb0ce6['instance'];}catch(_0xf21b4a){if(_0x47dad4(0x22d)==='WKeEl'){Logger[_0x47dad4(0x25b)](_0x47dad4(0x1a5)+_0x47dad4(0x134)+'r',_0xf21b4a);if(!res[_0x47dad4(0x1dc)+_0x47dad4(0x2a0)]){if(_0x47dad4(0x228)===_0x47dad4(0x192)){const _0x12b731=_0x4d43ce[_0x47dad4(0x211)];if(_0x12b731===_0x47dad4(0x18d))return _0x47dad4(0x18d);return _0x5c180e[_0x47dad4(0x234)];}else res[_0x47dad4(0x276)](0x1f4)[_0x47dad4(0x249)](ResponseFormatter['error'](_0x5c180e[_0x47dad4(0x272)],_0xf21b4a));}else{if(_0x5c180e['KNEIi'](_0x47dad4(0x1b5),_0x47dad4(0x170)))return _0x349873;else res[_0x47dad4(0x17f)]('data:\x20'+JSON['stringif'+'y']({'error':_0x5c180e[_0x47dad4(0x25c)]})+'\x0a\x0a'),res[_0x47dad4(0x1ef)]();}}else{_0x4969a8['info'](_0x425d59[_0x47dad4(0x215)]);const _0x3a64bc=this[_0x47dad4(0x1b1)+'Factory']['getStats'](),_0x8cdea1=this[_0x47dad4(0x1b1)+_0x47dad4(0x1ed)][_0x47dad4(0x251)+_0x47dad4(0x151)](),_0x5c6eeb=this[_0x47dad4(0x1b1)+'Factory']['getCache'+'Info'](),_0x485ad6=_0x116045[_0x47dad4(0x235)+'ager']['getEnabl'+_0x47dad4(0x156)](),_0x10c6b0=_0x149529['pipeline'+_0x47dad4(0x13d)+'ator'][_0x47dad4(0x176)+_0x47dad4(0x122)](),_0x119637=this['router']['getAllSt'+_0x47dad4(0x269)](),_0x4fc984=_0x1822e2['success']({'factory':_0x3a64bc,'perPlan':_0x8cdea1,'cache':_0x5c6eeb,'plans':{'total':_0x485ad6[_0x47dad4(0x20b)],'enabled':_0x485ad6[_0x47dad4(0x121)](_0x34e21b=>_0x34e21b[_0x47dad4(0x27d)])},'pipeline':_0x10c6b0,'router':_0x119637});res['json'](_0x4fc984);}}},this[_0x1d6a18(0x279)+'stions']=async(req,res,next)=>{const _0x2423fa=_0x1d6a18,_0x5781b7={'gzHbU':_0x2423fa(0x16d)+_0x2423fa(0x250),'uoCcY':_0x5c180e[_0x2423fa(0x106)]};try{if(!req[_0x2423fa(0x15b)]){if(_0x2423fa(0x257)!==_0x5c180e[_0x2423fa(0x1ee)])res['status'](0x1f4)[_0x2423fa(0x249)](_0x5d5052[_0x2423fa(0x25b)](_0x2423fa(0x1a5)+_0x2423fa(0x2dc)+'ed',_0x20e0a2));else{res[_0x2423fa(0x276)](0x191)[_0x2423fa(0x249)](ResponseFormatter[_0x2423fa(0x25b)](_0x2423fa(0x203)+_0x2423fa(0x21a)+_0x2423fa(0x16b)));return;}}Logger[_0x2423fa(0x1c9)](_0x2423fa(0x223)+_0x2423fa(0x1df)+_0x2423fa(0x207)+'\x20user:\x20'+req[_0x2423fa(0x15b)][_0x2423fa(0x2c2)]);const {context:_0x4d9bb0}=req[_0x2423fa(0x1ca)],_0x2a7881=parseInt(req[_0x2423fa(0x1ca)]['count'])||0x3;if(!_0x4d9bb0||typeof _0x4d9bb0!==_0x2423fa(0x237)){if(_0x5c180e[_0x2423fa(0x150)](_0x2423fa(0x280),_0x2423fa(0x1c3)))throw new _0x251b1b('Message\x20'+_0x2423fa(0x13a)+'red\x20and\x20'+_0x2423fa(0x130)+_0x2423fa(0x236)+_0x2423fa(0x23d)+'ng');else{res[_0x2423fa(0x276)](0x190)[_0x2423fa(0x249)](ResponseFormatter[_0x2423fa(0x25b)](_0x2423fa(0x19b)+_0x2423fa(0x13a)+_0x2423fa(0x1a8)));return;}}const _0x558b56=AIHelper[_0x2423fa(0x224)+_0x2423fa(0x1a1)](req[_0x2423fa(0x15b)]),_0x4e4cb5=[{'role':_0x5c180e['JqHGx'],'content':_0x2423fa(0x29a)+'\x20'+_0x2a7881+(_0x2423fa(0x25a)+'relevant'+_0x2423fa(0x254)+_0x2423fa(0x283)+'ions\x20or\x20'+'conversa'+_0x2423fa(0x260)+'rters\x20ba'+_0x2423fa(0x164)+_0x2423fa(0x2ca)+_0x2423fa(0x214)+_0x2423fa(0x29b)+_0x2423fa(0x190)+_0x2423fa(0x112)+_0x2423fa(0x184))},{'role':_0x5c180e[_0x2423fa(0x193)],'content':'Context:'+'\x20'+_0x4d9bb0}],_0x4708d5=await this[_0x2423fa(0x1b1)+_0x2423fa(0x1ed)][_0x2423fa(0x140)+_0x2423fa(0x1ab)+'ack'](_0x558b56,{'messages':_0x4e4cb5,'temperature':0.8,'maxTokens':0xc8});let _0x151b83=[];try{_0x151b83=JSON[_0x2423fa(0x2cc)](_0x4708d5[_0x2423fa(0x24b)]),!Array[_0x2423fa(0x1e8)](_0x151b83)&&(_0x151b83=[_0x4708d5[_0x2423fa(0x24b)]]);}catch{_0x151b83=_0x4708d5[_0x2423fa(0x24b)][_0x2423fa(0x137)]('\x0a')[_0x2423fa(0x252)](_0x235174=>_0x235174[_0x2423fa(0x154)]());}Logger[_0x2423fa(0x138)](_0x5c180e[_0x2423fa(0x124)]);const _0x49e249=ResponseFormatter['success']({'suggestions':_0x151b83[_0x2423fa(0x266)](0x0,_0x2a7881)});res['json'](_0x49e249);}catch(_0x1b4cca){if(_0x5c180e[_0x2423fa(0x271)](_0x5c180e[_0x2423fa(0x165)],_0x5c180e[_0x2423fa(0x165)]))Logger['error'](_0x2423fa(0x1b6)+'estions\x20'+_0x2423fa(0x25b),_0x1b4cca),res[_0x2423fa(0x276)](0x1f4)[_0x2423fa(0x249)](ResponseFormatter['error'](_0x5c180e['pXexd'],_0x1b4cca));else try{_0x4175c5[_0x2423fa(0x1c9)](_0x2423fa(0x126)+'quest');const _0x230820=this[_0x2423fa(0x1b1)+_0x2423fa(0x1ed)]['getStats'](),_0x1216d9=this[_0x2423fa(0x1b1)+_0x2423fa(0x1ed)][_0x2423fa(0x251)+_0x2423fa(0x151)](),_0x980af5=this['provider'+_0x2423fa(0x1ed)]['getCache'+_0x2423fa(0x2ba)](),_0xf7bbe6=_0x17b106[_0x2423fa(0x235)+_0x2423fa(0x2d2)][_0x2423fa(0x14f)+_0x2423fa(0x156)](),_0x11f928=_0x490404['pipeline'+_0x2423fa(0x13d)+_0x2423fa(0x2a7)][_0x2423fa(0x176)+_0x2423fa(0x122)](),_0x5e110c=this[_0x2423fa(0x1d6)]['getAllSt'+_0x2423fa(0x269)](),_0x44dc7e=_0x10f954[_0x2423fa(0x138)]({'factory':_0x230820,'perPlan':_0x1216d9,'cache':_0x980af5,'plans':{'total':_0xf7bbe6[_0x2423fa(0x20b)],'enabled':_0xf7bbe6['map'](_0x4b185e=>_0x4b185e[_0x2423fa(0x27d)])},'pipeline':_0x11f928,'router':_0x5e110c});res[_0x2423fa(0x249)](_0x44dc7e);}catch(_0x34a6ff){_0x5178a0[_0x2423fa(0x25b)](_0x5781b7[_0x2423fa(0x238)],_0x34a6ff),res['status'](0x1f4)[_0x2423fa(0x249)](_0x878f6c[_0x2423fa(0x25b)](_0x5781b7[_0x2423fa(0x1c7)],_0x34a6ff));}}},this[_0x1d6a18(0x251)]=async(req,res,next)=>{const _0x732736=_0x1d6a18;if('dMZXi'===_0x5c180e[_0x732736(0x14e)])throw new _0x21de3b(_0x5c180e[_0x732736(0x242)]);else try{if(_0x5c180e[_0x732736(0x24d)]==='SvJWx'){Logger['info'](_0x5c180e[_0x732736(0x200)]);const _0x21e5a7=this['provider'+_0x732736(0x1ed)][_0x732736(0x251)](),_0x2fb2ce=this[_0x732736(0x1b1)+_0x732736(0x1ed)][_0x732736(0x251)+_0x732736(0x151)](),_0xe72443=this[_0x732736(0x1b1)+_0x732736(0x1ed)][_0x732736(0x2b1)+_0x732736(0x2ba)](),_0x5759f5=plansManager_1[_0x732736(0x235)+_0x732736(0x2d2)][_0x732736(0x14f)+'edPlans'](),_0x180414=pipeline_orchestrator_1[_0x732736(0x20d)+'Orchestr'+_0x732736(0x2a7)]['getHealt'+'hStatus'](),_0x588fc2=this['router'][_0x732736(0x108)+_0x732736(0x269)](),_0x10f724=ResponseFormatter[_0x732736(0x138)]({'factory':_0x21e5a7,'perPlan':_0x2fb2ce,'cache':_0xe72443,'plans':{'total':_0x5759f5['length'],'enabled':_0x5759f5[_0x732736(0x121)](_0x2a34af=>_0x2a34af[_0x732736(0x27d)])},'pipeline':_0x180414,'router':_0x588fc2});res[_0x732736(0x249)](_0x10f724);}else _0xaa5f86[_0x732736(0x27c)](this['prefix']+'\x20✅\x20'+_0x23d480,_0x476484||'');}catch(_0x5c3cbb){if(_0x5c180e[_0x732736(0x13c)](_0x5c180e['NSvuS'],_0x5c180e['NSvuS']))Logger[_0x732736(0x25b)](_0x732736(0x16d)+_0x732736(0x250),_0x5c3cbb),res[_0x732736(0x276)](0x1f4)[_0x732736(0x249)](ResponseFormatter[_0x732736(0x25b)](_0x5c180e[_0x732736(0x106)],_0x5c3cbb));else{const _0x326350=_0x2ed7d3[_0x732736(0x2b5)+_0x732736(0x1eb)]()[_0x732736(0x277)]();_0x326350[_0x732736(0x113)+_0x732736(0x2c7)]&&_0x3256e2['log'](this[_0x732736(0x299)]+'\x20✅\x20'+_0x397570,_0x5c180e['OdRcy'](_0x1199b3,''));}}},this['config']=AIControllerConfig[_0x1d6a18(0x2b5)+_0x1d6a18(0x1eb)](),this[_0x1d6a18(0x1b1)+_0x1d6a18(0x1ed)]=provider_factory_1[_0x1d6a18(0x23c)+'Factory']['getInsta'+_0x1d6a18(0x1eb)]({'anthropicApiKey':process['env'][_0x1d6a18(0x17a)+_0x1d6a18(0x21f)+'Y'],'googleApiKey':process[_0x1d6a18(0x105)][_0x1d6a18(0x139)+_0x1d6a18(0x1af)],'openaiApiKey':process[_0x1d6a18(0x105)][_0x1d6a18(0x119)+'PI_KEY']}),this[_0x1d6a18(0x1d6)]=new router_service_1[(_0x1d6a18(0x255))+(_0x1d6a18(0x2c4))](),this['isInitia'+_0x1d6a18(0x1c6)]=!![],Logger[_0x1d6a18(0x1c9)](_0x5c180e[_0x1d6a18(0x241)]);}static[_0x3914aa(0x2b5)+_0x3914aa(0x1eb)](){const _0x4de4a1=_0x3914aa,_0xd47f97={'OepDE':function(_0x67191,_0x35c641){return _0x67191!==_0x35c641;},'wKuGP':_0x4de4a1(0x24e),'dSTLg':function(_0x28e074,_0x14e9d6){return _0x28e074>_0x14e9d6;},'aavhX':_0x4de4a1(0x178)+'ure\x20must'+_0x4de4a1(0x21e)+_0x4de4a1(0x292)+_0x4de4a1(0x2d5)+_0x4de4a1(0x227),'EuCMh':'kuiRL'};if(!AIController[_0x4de4a1(0x2d9)]){if(_0xd47f97[_0x4de4a1(0x2c8)]!==_0x4de4a1(0x145)){if(_0x51b67d!==_0x1c7798){if(_0xd47f97['OepDE'](typeof _0x2ae61a,_0xd47f97[_0x4de4a1(0x14d)])||_0x1fd65f<0x0||_0xd47f97['dSTLg'](_0xba286e,0x2))throw new _0x17b7e1(_0xd47f97[_0x4de4a1(0x167)]);}}else AIController[_0x4de4a1(0x2d9)]=new AIController();}return AIController[_0x4de4a1(0x2d9)];}}exports[_0x3914aa(0x1d5)+_0x3914aa(0x29e)]=AIController[_0x3914aa(0x2b5)+'nce']();